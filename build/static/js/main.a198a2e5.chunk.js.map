{"version":3,"sources":["components/Sidebar.jsx","config/phoenixDAOcontract_testnet.js","components/Loading.jsx","components/Event.jsx","components/Home.jsx","components/PhoenixDAOLoader.jsx","config/OpenEvents.js","components/FindEvents.jsx","components/PastEvents.jsx","components/Ticket.jsx","components/MyTickets.jsx","components/MyEvents.jsx","components/EventNotFound.jsx","components/Clock.jsx","components/CheckUser.jsx","components/MyEventStat.jsx","components/EventPage.jsx","components/TopicLandingPage.jsx","components/TopicsLandingPage.jsx","components/LocationLandingPage.jsx","components/LocationsLandingPage.jsx","components/Calendars.jsx","components/Token.jsx","components/Dashboard.jsx","components/Notify.jsx","components/NotifyApprove.jsx","components/NotifySuccess.jsx","components/NotifyEventSuccess.jsx","components/NotifyApproveSuccess.jsx","components/NotifyFaucet.jsx","components/NotifySuccessFaucet.jsx","components/NotifyError.jsx","components/NotifyNetwork.jsx","components/NetworkError.jsx","components/LoadingApp.jsx","components/App.jsx","index.js","components/CreateEvent/index.jsx","components/CreateEvent/Form.jsx","components/CreateEvent/Loader.jsx","components/CreateEvent/Error.jsx","components/CreateEvent/Done.jsx","utils/ipfs.js"],"names":["Sidebar","props","context","toggleSidebarClass","newSidebarClassName","document","getElementById","className","newPageWrapperClassName","this","router","route","location","pathname","to","user","connection","account","length","href","src","makeBlockie","alt","id","onClick","NavLink","activeClassName","sidebarClick","connect","aria-label","target","title","height","viewBox","version","width","aria-hidden","fill","fillRule","d","Component","contextTypes","PropTypes","object","PhoenixDAO_Testnet_Token_ABI","Loading","role","numeral","require","Event","contractConfig","contractName","web3Contract","drizzle","web3","eth","Contract","addContract","e","updateIPFS","state","loaded","loading","contracts","getEvent","event","setState","ipfs","get","then","file","data","JSON","parse","content","toString","isCancelled","description","text","image","locations","catch","ipfs_problem","getImage","getDescription","slice","getLocation","place","inquire","fee","value","token","openEvents_address","address","buyticket","methods","buyTicket","approve","cacheCall","accounts","PhoenixDAO_market","fetch","res","json","_isMounted","phoenixdao","console","log","body","event_data","buttonText","freeEvent","price","utils","fromWei","date","Date","parseInt","max_seats","disabled","soldOut","sold","Number","getTime","badge","categoryRemovedDashes","category","replace","toLowerCase","split","map","s","charAt","toUpperCase","substring","join","topicURL","titleRemovedSpaces","pagetitle","titleURL","myEventStatURL","Link","myEvents","format","usd","toLocaleDateString","toLocaleTimeString","getPhoenixDAOMarketValue","AppContainer","drizzleConnect","transactionStack","Home","PhoenixDAOLoader","stroke","strokeWidth","xmlns","cx","cy","r","Open_events_Address","Open_events_ABI","FindEvents","updateSearch","filteredEvents","event_copy","filter","events","returnValues","name","search","Events_Blockchain","active_length","history","push","toggleSortDate","newPolls","ended","isOldestFirst","concat","sort","a","b","eventId","openEvents","blocks","latestblocks","eventCount","getEventsCount","perPage","topicClick","bind","slug","window","scrollTo","Web3","providers","WebsocketProvider","dateTime","now","dateNow","Math","floor","getBlockNumber","blockNumber","getPastEvents","fromBlock","toBlock","newsort","activeEvents","time","err","error","CreatedEvent","on","setTimeout","count","currentPage","match","params","page","isNaN","end","start","pages","ceil","events_list","i","key","pagination","links","active","Fragment","Carousel","Item","Caption","caruselClick","type","onChange","aria-describedby","topicsJson","topic","popular","index","style","backgroundImage","readMoreClick","loadBlockchain","PastEvents","past_events_copy","past_events","past_length","pastEvents","QRCode","Ticket","changeTab","tab","preventDefault","card_tab","sendTicket","isAddress","wrong_address","safeTransferFrom","cacheSend","updateEvent","getTicket","ticket","downloadQR","ticket_data","canvas","pngUrl","toDataURL","downloadLink","createElement","download","appendChild","click","removeChild","card_body","rawTitle","shareUrl","origin","timeStatus","timeClass","EmailShareButton","url","subject","resetButtonStyle","EmailIcon","size","round","FacebookShareButton","quote","hashtag","FacebookIcon","LinkedinShareButton","summary","source","LinkedinIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","TwitterShareButton","TwitterIcon","WhatsappShareButton","WhatsappIcon","warning","level","bgColor","fgColor","imageSettings","x","y","excavate","htmlFor","ref","input","MyTickets","getTickets","ticketsOf","tickets","myTicket","allTickets","setLoader","MyEvents","PastEvent","isActive","loadPastEvents","ActiveEvent","loadActiveEvents","check","eventsOf","owner","EventNotFound","Clock","days","hours","minutes","seconds","setInterval","getTimeUntil","deadline","event_unix","CheckUser","checkManual","runChecking","checkQR","ticketsOfUser","requests","listOfTickets","requestsDone","status","checkTickets","found","event_id","message","delay","onScan","onError","originalDoughnutDraw","Chart","controllers","doughnut","prototype","draw","helpers","extend","apply","arguments","chart","ctx","fontSize","font","textBaseline","percentage","total","config","datasets","textX","measureText","textY","fillText","customStyles","ul","border","li","color","MyEventStat","load","soldTicket","phoenixDAO_market","pageTransactions","onChangePage","phoenixDAOTransfer","SoldTicket","disabledStatus","symbol","getContext","gradient","createLinearGradient","addColorStop","gradient2","labels","label","fontColor","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","weight","borderAlign","buyer","transactionHash","items","maxPages","pageSize","styles","options","responsive","maintainAspectRatio","cutoutPercentage","display","position","lineHeight","padding","legend","tooltips","enabled","loadblockhain","EventPage","myEvent","TopicLandingPage","topic_copy","Topic_Events","theTopic","getTopicData","topicBackground","middleSegment","topicSlug","getLastURLSegment","TopicsLandingPage","LocationLandingPage","locationClick","theLocation","getLocationData","locationBackground","currentRoute","substr","lastIndexOf","locationSlug","locationsJson","LocationsLandingPage","statesJson","Calendars","goToEvent","event_calendar","localizer","momentLocalizer","moment","events_calendar","allDay","defaultDate","toDate","onSelectEvent","views","Token","mintToken","getPhoenixDAO","getMoreTokens","getbalance","checkPhoenixDAO","balanceOf","balance","interval","clearInterval","Dashboard","goTo","eventCache","eventDetails","result","sortBySold","phoenixDAORevenue","event_token","limited","event_seats","top_PhoenixDAORevenue","sortSold","sortTopRevenue","toplist","totalSold","reduce","accumulator","currentValue","revenue","soldSeats","totalSeats","seats","DoughnutData","BarData","scales","yAxes","ticks","beginAtZero","fontStyle","precision","xAxes","barPercentage","elements","rectangle","borderSkipped","Notify","hash","aria-labelledby","tx","NotifyApprove","NotifySuccess","NotifyEventSuccess","createdEvent","NotifyApproveSuccess","NotifyFaucet","NotifySuccessFaucet","NotifyError","NotifyNetwork","NetworkError","LoadingApp","ethereum","App","inquireBuy","networkId","buy","toast","autoClose","pauseOnHover","afterApprove","txreceiptApproved","txerror","send","from","confirmationNumber","receipt","txreceipt","passtransaction","transaction","upload","createEvent","done","createNewEvent","sent_tx","showSidebar","openEvents_Address","loadBlockchainData","indexOf","enable","currentProvider","HttpProvider","reload","netId","getAccounts","connecting","randomBG","random","drizzleStatus","initialized","Switch","Route","exact","path","component","Object","keys","process","render","CreateEvent","transactions","customProvider","OpenEvents","StableToken","polls","txHash","ReactDOM","organizer","currency","redirect","stage","toWei","stageUpdater","readFile","reader","FileReader","readAsDataURL","onloadend","convertAndUpload","stringify","buffer","Buffer","add","pin","error_text","uploadTransaction","transactionChecker","tx_checker","max","updater","fileImg","createNewEvent2","progress","Form","handleDate","isValid","timeForHumans","unix","dateDisplay","handleCurrency","handleLimited","handleFile","files","wrong_file","file_name","URL","createObjectURL","titleChange","title_length","descriptionChange","description_length","organizerChange","organizer_length","locationChange","typeChange","categoryChange","priceChange","form","ticketsChange","handleForm","form_validation","seatsForHumans","blockie","alert","file_label","organizerForHumans","undefined","autoComplete","rows","closeOnSelect","inputProps","eventTypes","Type","eventTopics","Topic","defaultChecked","min","Loader","aria-valuenow","aria-valuemin","aria-valuemax","Error","Done","IPFS","host","port","protocol"],"mappings":"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","file":"static/js/main.a198a2e5.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {Link,NavLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nclass Sidebar extends Component\r\n{\r\n\r\n\tconstructor(props, context)\r\n  {\r\n      super(props);\r\n\t}\r\n\r\n\tsidebarClick()\r\n\t{\r\n\t\tvar isActive = this.context.router.route.location.pathname;\r\n\t\tvar activeClassName = \"\";\r\n\t\tvar linkLocation = this.props.to;\r\n\r\n\t\tif (isActive == linkLocation) {\r\n\t\t\tactiveClassName = 'nav-item active';\r\n\t\t} else {\r\n\t\t\tactiveClassName = 'nav-item';\r\n\t\t}\r\n\r\n\r\n\t\t//console.log(this);\r\n\t}\r\n\r\n\r\n\ttoggleSidebarClass = () => {\r\n    const oldSidebarClassName = document.getElementById('sidebar-wrapper').className;\r\n    const newSidebarClassName = oldSidebarClassName === 'my-sidebar sidebar-closed' ? 'my-sidebar sidebar-open' : 'my-sidebar sidebar-closed'\r\n\r\n\t\tconst oldPageWrapperClassName = document.getElementById('page-content-wrapper').className;\r\n\t\tconst newPageWrapperClassName = oldPageWrapperClassName === 'sidebar-closed' ? 'sidebar-open' : 'sidebar-closed'\r\n\r\n    document.getElementById('sidebar-wrapper').className = newSidebarClassName;\r\n\t\tdocument.getElementById('page-content-wrapper').className = newPageWrapperClassName;\r\n  }\r\n\r\n\r\n\r\n\trender() {\r\n\r\n\r\n\t\tlet user =\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"user-status-icon\">\r\n\t\t\t\t\t<i className=\"fas fa-plug\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p className=\"mt-3 small connection\"><span className=\"toggleHidden\">Ethereum network not connected. Please connect with Meta Mask.</span></p>\r\n\t\t\t</div>\r\n\t\t;\r\n\r\n\t\tif (this.props.connection === true && this.props.account.length !== 0) {\r\n\t\t\t// console.log(this.props.account)\r\n\t\t\tuser =\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"user-status-icon\">\r\n\t\t\t\t\t\t<a href=\"/\"><img src={makeBlockie(this.props.account)} alt={this.props.account} /></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* {this.props.account} */}\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\r\n\r\n\t\t}\r\n\t\tif(this.props.account.length === 0)\r\n\r\n\t\t return (\r\n\t\t\t<div id=\"sidebar-wrapper\" className=\"my-sidebar sidebar-closed\">\r\n\t\t\t\t<div className=\"hamburgerNav\" onClick={this.toggleSidebarClass}>\r\n\t\t\t\t\t<i className=\"fa fa-bars\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"user-status mt-5\">\r\n\t\t\t\t\t{user}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"menu mt-5\">\r\n\t\t\t\t\t<h5 className=\"toggleHidden\">Events & Tickets</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/findevents/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-search\"></i> <span className=\"toggleHidden\">Events</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/pastevents/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-archive\"></i> <span className=\"toggleHidden\">Past Events</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/topics\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-comment-alt\"></i> <span className=\"toggleHidden\">Topics</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/locations\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-map-marker-alt\"></i> <span className=\"toggleHidden\">Locations</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/Calendar\" className=\"nav-link\" activeClassName=\"nav-link-active\"><i className=\"fa fa-calendar-alt\"></i> <span className=\"toggleHidden\">Calendar</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<h5 className=\"mt-5 toggleHidden\">Manage Events</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/createevent\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-edit\"></i> <span className=\"toggleHidden\">Create Event</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<h5 className=\"mt-5 toggleHidden\">Tools</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/how-it-works\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-question-circle\"></i> <span className=\"toggleHidden\">How It Works</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li >\r\n\t\t\t\t\t\t\t<div className=\"nav-link\" onClick={() => {this.props.connect()}}><i className=\"fas fa-plug\"></i> <span className=\"toggleHidden\">Connect Wallet</span></div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br /><br />\r\n\t\t\t\t\t<a aria-label=\"Homepage\" target =\"blank\" title=\"GitHub\" className=\"github footer-octicon d-none d-lg-block mx-lg-4\" href=\"https://github.com/mitdralla/events-dapp\">\r\n      \t\t\t<svg height=\"32\" className=\"octicon octicon-mark-github\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill=\"#fff\" fillRule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t)\r\n\r\n\t\telse return (\r\n\t\t\t<div id=\"sidebar-wrapper\" className=\"my-sidebar sidebar-closed\">\r\n\t\t\t\t<div className=\"hamburgerNav\" onClick={this.toggleSidebarClass}>\r\n\t\t\t\t\t<i className=\"fa fa-bars\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"user-status mt-5\">\r\n\t\t\t\t\t{user}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"menu mt-5\">\r\n\t\t\t\t\t<h5 className=\"toggleHidden\">Events & Tickets</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/findevents/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-search\" title=\"Find Events\"></i> <span className=\"toggleHidden\">Events</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/pastevents/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-archive\" title=\"Past Events\"></i> <span className=\"toggleHidden\">Past Events</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/topics\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-comment-alt\" title=\"Topics\"></i> <span className=\"toggleHidden\">Topics</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/locations\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-map-marker-alt\" title=\"Locations\"></i> <span className=\"toggleHidden\">Locations</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/Calendar\" className=\"nav-link\" activeClassName=\"nav-link-active\"><i className=\"fa fa-calendar-alt\" title=\"Calendar\"></i> <span className=\"toggleHidden\">Calendar</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<h5 className=\"mt-5 toggleHidden\">Manage Events</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/dashboard\" className=\"nav-link\" activeClassName=\"nav-link-active\" ><i className=\"fas fa-tachometer-alt\" title=\"Dashboard\"></i> <span className=\"toggleHidden\">Dashboard</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/createevent\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-edit\" title=\"Create Event\"></i> <span className=\"toggleHidden\">Create Event</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li >\r\n\t\t\t\t\t\t\t<NavLink to=\"/myevents/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fas fa-list-alt\" title=\"My Created Events\"></i> <span className=\"toggleHidden\">My Created Events</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/mytickets/1\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-ticket-alt\" title=\"My Tickets\"></i> <span className=\"toggleHidden\">My Tickets</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<h5 className=\"mt-5 toggleHidden\">Tools</h5>\r\n\t\t\t\t\t<ul className=\"nav flex-column\">\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<NavLink to=\"/how-it-works\" className=\"nav-link\" activeClassName=\"nav-link-active\" onClick={() => {this.sidebarClick(this)}}><i className=\"fa fa-question-circle\" title=\"How It Works\"></i> <span className=\"toggleHidden\">How It Works</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t<NavLink to=\"/token\" className=\"nav-link\" activeClassName=\"nav-link-active\"><img src=\"/images/PhoenixDAO.png\" className=\"sidebar_PhoenixDAO-logo\" alt=\"PhoenixDAO Token Logo\" title=\"PHNX Faucet\"/> <span className=\"toggleHidden\">Get PHNX Tokens</span></NavLink>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<a aria-label=\"Homepage\" target =\"blank\"title=\"GitHub\" className=\"github footer-octicon d-none d-lg-block mx-lg-4 mt-3\" href=\"https://github.com/mitdralla/events-dapp\" >\r\n      \t\t\t<svg height=\"32\" className=\"octicon octicon-mark-github\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"32\" aria-hidden=\"true\"><path fill=\"#fff\" fillRule=\"evenodd\" d=\"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z\"></path></svg>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t}\r\n}\r\n\r\nSidebar.contextTypes = {\r\n    router: PropTypes.object\r\n};\r\n\r\nexport default Sidebar;\r\n","export const PhoenixDAO_Testnet_Token_Address = '0x5624ade2d81081f6c989a4dcb6b02c2ed9879983';\r\n\r\nexport const PhoenixDAO_Testnet_Token_ABI = [{\"constant\":true,\"inputs\":[],\"name\":\"raindropAddress\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_challenge\",\"type\":\"uint256\"},{\"name\":\"_partnerId\",\"type\":\"uint256\"}],\"name\":\"authenticate\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"getMoreTokens\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"}],\"name\":\"balances\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"burn\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"\",\"type\":\"address\"},{\"name\":\"\",\"type\":\"address\"}],\"name\":\"allowed\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_raindrop\",\"type\":\"address\"}],\"name\":\"setRaindropAddress\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addressList\",\"type\":\"address[]\"},{\"name\":\"_amounts\",\"type\":\"uint256[]\"}],\"name\":\"setBalances\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"},{\"name\":\"_extraData\",\"type\":\"bytes\"}],\"name\":\"approveAndCall\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_burner\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"Burn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}]\r\n","import React from 'react';\r\n\r\nfunction Loading() {\r\n\treturn (\r\n\t\t<div className=\"text-center\"><span role=\"img\" aria-label=\"dino\"></span> We are loading data...</div>\r\n\t);\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\nimport {PhoenixDAO_Testnet_Token_ABI, PhoenixDAO_Testnet_Token_Address} from '../config/phoenixDAOcontract_testnet.js';\r\n\r\nimport ipfs from '../utils/ipfs';\r\n\r\nimport Loading from './Loading';\r\nimport eventTopics from '../config/topics.json';\r\n\r\nlet numeral = require('numeral');\r\n\r\nclass Event extends Component {\r\n    constructor(props, context) {\r\n\t\ttry {\r\n\t\t\tvar contractConfig = {\r\n\t\t\t  contractName: 'PHNX',\r\n\t\t\t  web3Contract: new context.drizzle.web3.eth.Contract(\r\n\t\t\t\tPhoenixDAO_Testnet_Token_ABI,\r\n\t\t\t\tPhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  ),\r\n\r\n\t\t\t};\r\n\t\t\tcontext.drizzle.addContract(contractConfig);\r\n\t\t\t//Importing PhoenixDAO contracts\r\n\t\t\t// **** ENDS UP HERE, SO THIS WORKS\r\n\t\t\t/*console.log(\r\n\t\t\t  \"SUCCESS\",\r\n\t\t\t  PhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  context.drizzle.contracts\r\n\t\t\t);*/\r\n\t\t  } catch (e) {\r\n\t\t\t//console.log(\"ERROR\", PhoenixDAO_Testnet_Token_Address, e);\r\n\t\t  }\r\n\r\n        super(props);\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.event = this.contracts['OpenEvents'].methods.getEvent.cacheCall(this.props.id);\r\n\t\tthis.account = this.props.accounts[0];\r\n\t\tthis.state = {\r\n\t\t\tloading: false,\r\n\t\t\tloaded: false,\r\n\t\t\tdescription: null,\r\n\t\t\timage: null,\r\n\t\t\tipfs_problem: false,\r\n\t\t\tlocations:null,\r\n\t\t\tPhoenixDAO_market:[],\r\n\r\n\t\t\tfee:'',\r\n\t\t\ttoken:'',\r\n\t\t\topenEvents_address:'',\r\n\t\t\tbuyticket:'',\r\n\t\t\tapprove:'',\r\n\t\t};\r\n\t\tthis.isCancelled = false;\r\n\t}\r\n\r\n\t//get market cap & dollar value of PHNX\r\n\tasync getPhoenixDAOMarketValue(){\r\n\r\n\t\tfetch('https://api.coingecko.com/api/v3/simple/price?ids=phoenixdao&vs_currencies=usd&include_market_cap=true&include_24hr_change=ture&include_last_updated_at=ture')\r\n\t\t\t  .then(res => res.json())\r\n\t\t\t  .then((data) => {\r\n\t\t\t\tif (this._isMounted){\r\n\t\t\t\tthis.setState({PhoenixDAO_market: data.phoenixdao })}\r\n\t\t\t  })\r\n\t\t\t  .catch(console.log)\r\n\t  }\r\n\r\n\r\n\tupdateIPFS = () => {\r\n\r\n\t\tif (this.state.loaded === false && this.state.loading === false && typeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true\r\n\t\t\t}, () => {\r\n\t\t\t\t ipfs.get(this.props.ipfs).then((file) => {\r\n\t\t\t\t\tlet data = JSON.parse(file[0].content.toString());\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tdescription: data.text,\r\n\t\t\t\t\t\t\timage: data.image,\r\n\t\t\t\t\t\t\tlocations:data.location\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tipfs_problem: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\tgetImage = () => {\r\n\t\tlet image = '/images/loading_ipfs.png';\r\n\t\tif (this.state.ipfs_problem) image = '/images/problem_ipfs.png';\r\n\t\tif (this.state.image !== null) image = this.state.image;\r\n\t\treturn image;\r\n\t}\r\n\r\n\tgetDescription = () => {\r\n\t\tlet description = <Loading />;\r\n\t\tif (this.state.ipfs_problem) description = <p className=\"text-center mb-0 event-description\"><span role=\"img\" aria-label=\"monkey\"></span>We can not load description</p>;\r\n\t\tif (this.state.description !== null) {\r\n\t\t\tlet text = this.state.description.length > 30 ? this.state.description.slice(0, 60) + '...' : this.state.description;\r\n\t\t\tdescription = <p className=\"card-text event-description\">{text}</p>;\r\n\t\t}\r\n\t\treturn description;\r\n\t}\r\n\t//get the location of Events on IPFS\r\n\tgetLocation = () => {\r\n\t\tlet locations = []\r\n\t\tif (this.state.ipfs_problem) locations = <p className=\"text-center mb-0 event-description\"><span role=\"img\" aria-label=\"monkey\"></span>We can not load location</p>;\r\n\t\tif (this.state.locations !== null) {\r\n\t\t\tlet place= this.state.locations\r\n\t\t\tlocations = <strong>Location: {place}</strong>;\r\n\t\t}\r\n\t\treturn locations;\r\n\t}\r\n\r\n\r\n\tinquire = () =>{\r\n\t\tthis.setState({\r\n\t\t\tfee:this.props.contracts['OpenEvents'].getEvent[this.event].value[2],\r\n\t\t\ttoken:this.props.contracts['OpenEvents'].getEvent[this.event].value[3],\r\n\t\t\topenEvents_address:this.contracts['OpenEvents'].address,\r\n\t\t\tbuyticket:this.contracts['OpenEvents'].methods.buyTicket(this.props.id),\r\n\t\t\tapprove:this.contracts['PHNX'].methods.approve(this.contracts['OpenEvents'].address, this.props.contracts['OpenEvents'].getEvent[this.event].value[2])\r\n\t\t\t},()=>{\r\n\t\t\t\t  this.props.inquire(\r\n\t\t\t\t\t  this.props.id,\r\n\t\t\t\t\t  this.state.fee,\r\n\t\t\t\t\t  this.state.token,\r\n\t\t\t\t\t  this.state.openEvents_address,\r\n\t\t\t\t\t  this.state.buyticket,\r\n\t\t\t\t\t  this.state.approve)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\r\n    // getPrettyCategory(rawCategory) {\r\n    //   let prettyCategory = \"\";\r\n    //\r\n    //   {eventTopics.map((Topic, index) => (\r\n    //     if(Topic.slug == rawCategory) {\r\n    //       prettyCategory = Topic.slug;\r\n    //     }\r\n    //\r\n    //   ))}\r\n    //\r\n    //   return prettyCategory;\r\n    // }\r\n\r\n\r\n\t render() {\r\n\t\tlet body = <div className=\"card\"><div className=\"card-body\"><Loading /></div></div>;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined' && this.props.contracts['OpenEvents'].getEvent[this.event].value) {\r\n\r\n\r\n\t\t\tlet event_data = this.props.contracts['OpenEvents'].getEvent[this.event].value;\r\n\r\n\r\n\t\t\tlet image = this.getImage();\r\n\t\t\tlet description = this.getDescription();\r\n\t\t\tlet locations = this.getLocation();\r\n\r\n\t\t\tlet buttonText = event_data[3]? \"Buy Ticket\": \"Get Ticket\";\r\n\r\n\t\t\tlet\tfreeEvent = '';\r\n\t\t\tif(!event_data[3]){\r\n\t\t\tfreeEvent = <p className=\"free_event\">Free Event</p>\r\n\t\t\t}\r\n\r\n\t\t\tif (event_data[3] !=='undefined'){\r\n\t\t\tlet symbol = 'PhoenixDAO.png';\r\n\r\n\t\t\tlet price = event_data[3]? this.context.drizzle.web3.utils.fromWei(event_data[2]) : 'Free Event';\r\n\t\t\tlet date = new Date(parseInt(event_data[1], 10) * 1000);\r\n\r\n\t\t\tlet max_seats = event_data[4] ? event_data[5] : '';\r\n\r\n\t\t\tlet disabled = false;\r\n\t\t\tlet soldOut = \" \";\r\n\t\t\tlet sold = false;\r\n\r\n\t\t\tif (event_data[4] && (Number(event_data[6]) >= Number(event_data[5]))) {\r\n\r\n\t\t\tlet disabledStatus = '';\r\n\t\t\t\tsold = true\r\n\t\t\t\tdisabled = true;\r\n\t\t\t\tbuttonText = <span><span role=\"img\" aria-label=\"alert\"> </span> Sold Out</span>;\r\n\t\t\t\tsoldOut = <p className=\"sold_out\">Sold Out</p>;\r\n\t\t\t}\r\n\r\n\t\t\tif (date.getTime() < new Date().getTime()) {\r\n\t\t\t\tdisabled = true;\r\n        buttonText = \"Event has ended\";\r\n\t\t\t}\r\n\r\n      let badge = \"\";\r\n\r\n      if (event_data[6] >= 2) {\r\n        badge = <img src=\"/images/fire.png\" className=\"event_badge-hot\" alt=\"Hot Icon\" />;\r\n\t  }\r\n\r\n      let rawCategory = event_data[8];\r\n\r\n      var categoryRemovedDashes = rawCategory;\r\n      categoryRemovedDashes = categoryRemovedDashes.replace(/-/g, ' ');\r\n\r\n      var category = categoryRemovedDashes.toLowerCase()\r\n      .split(' ')\r\n      .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ');\r\n\r\n      let topicURL = \"/topic/\"+event_data[8]+\"/1\";\r\n\r\n\t  //console.log(event_data);\r\n\t  //Friendly URL Title\r\n\t  let rawTitle = event_data[0];\r\n      var titleRemovedSpaces = rawTitle;\r\n\t  titleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n\r\n      var pagetitle = titleRemovedSpaces.toLowerCase()\r\n      .split(' ')\r\n      .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ');\r\n\r\n\t  let titleURL = \"/event/\"+pagetitle+\"/\" + this.props.id;\r\n\t  let myEventStatURL = \"/event-stat/\"+pagetitle+\"/\" + this.props.id;\r\n\r\n\t\t\tbody =\r\n\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t<div className=\"image_wrapper\">\r\n\t\t\t\t\t<Link to={titleURL}>\r\n            <img className=\"card-img-top event-image\" src={image} alt={event_data[0]} />\r\n          </Link>\r\n\t\t  {soldOut}\r\n\t\t  {!sold && freeEvent}\r\n\t\t  </div>\r\n\t\t\t\t\t<div className=\"card-header text-muted event-header \">\r\n\t\t\t\t\t\t<img className=\"float-left\" src={makeBlockie(event_data[9])} alt={event_data[9]} />\r\n\t\t\t\t\t\t{this.props.myEvents?<Link to={myEventStatURL}><p className=\"myEventStat small text-truncate mb-0\">View Event Stats</p></Link>:''}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t<h5 className=\"card-title event-title\" title={event_data[0]} >\r\n\t\t\t\t\t\t\t<Link to={titleURL} >{badge}{event_data[0]}</Link>\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t{description}\r\n\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t<ul className=\"list-group list-group-flush\">\r\n\t\t\t\t\t\t<li className=\"list-group-item \">{locations}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Category:</strong> <a href={topicURL}>{category}</a></li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Price:</strong> <img src={'/images/'+symbol} className=\"event_price-image\" alt=\"Event Price Icon\" /> {event_data[3] ? '' + numeral(price).format('0,0'): '' + price}\r\n\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t{event_data[3]?numeral(price * this.state.PhoenixDAO_market.usd).format('0,0.00'):''}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Date:</strong> {date.toLocaleDateString()} at {date.toLocaleTimeString()}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\"><strong>Tickets Sold:</strong> {event_data[6]}/{max_seats}</li>\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t\t<div className=\"card-footer text-muted text-center\">\r\n\t\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.inquire} disabled={disabled}><i className=\"fas fa-ticket-alt\"></i> {buttonText}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t}}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"col-xl-4 col-lg-6 col-md-12 col-sm-12 pb-4 d-flex align-items-stretch\">\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.updateIPFS();\r\n\t\tthis.getPhoenixDAOMarketValue();\r\n\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.updateIPFS();\r\n\t\t//this.afterApprove();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.isCancelled = true;\r\n\t\tthis._isMounted = false;\r\n\t}\r\n}\r\n\r\nEvent.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts,\r\n\t\ttransactionStack: state.transactionStack\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(Event, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\n\r\nclass Home extends Component {\r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<div className=\"home-wrapper\">\r\n\t\t\t\t<h2>Welcome to the PhoenixDAO Events Marketplace.</h2>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<p>The PhoenixDAO Events Marketplace is a dApp that allows people to create events and sell tickets online, with options to make a paid or free event.</p>\r\n\t\t\t\t<p>Tickets created on this service are ERC721 tokens, that means that users are free to move, gift or sell those tickets to other users.</p>\r\n\t\t\t\t<p>PhoenixDAO Events Marketplace is dApp powered by the Ethereum blockchain. In order to create events or purchase tickets, you should have an Ethereum wallet.</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\n\r\nfunction PhoenixDAOLoader() {\r\n\treturn (\r\n\t\t<div className=\"wrap\">\r\n  <div className=\"drop-outer\">\r\n    <svg className =\"drop\" width=\"100%\" viewBox=\"0 0 30 42\">\r\n    <path fill=\"transparent\" stroke=\"##2a96ed\" strokeWidth=\"1.5\"\r\n        d=\"M15 3\r\n           Q16.5 6.8 25 18\r\n           A12.8 12.8 0 1 1 5 18\r\n           Q13.5 6.8 15 3z\" />\r\n    </svg>\r\n  </div>\r\n\r\n  <div className=\"ripple ripple-1\">\r\n      <svg className=\"ripple-svg\" viewBox=\"0 0 60 60\" version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"30\" cy=\"30\" r=\"24\"/>\r\n      </svg>\r\n  </div>\r\n  <div className=\"ripple ripple-2\">\r\n      <svg className=\"ripple-svg\" viewBox=\"0 0 60 60\" version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"30\" cy=\"30\" r=\"24\"/>\r\n      </svg>\r\n  </div>\r\n  <div className=\"ripple ripple-3\">\r\n      <svg className=\"ripple-svg\" viewBox=\"0 0 60 60\" version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\">\r\n    <circle cx=\"30\" cy=\"30\" r=\"24\"/>\r\n      </svg>\r\n  </div>\r\n</div>\r\n\t);\r\n}\r\n\r\nexport default PhoenixDAOLoader;\r\n","export const Open_events_Address = '0xE69d6B800c5C47Cb1DFb07562B3ee847EcFD0e6a';\r\n\r\nexport const Open_events_ABI = [\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_interfaceId\",\r\n\t\t\t\t\"type\": \"bytes4\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"supportsInterface\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"name\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getApproved\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"approve\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"totalSupply\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"InterfaceId_ERC165\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bytes4\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenOfOwnerByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"getEventsCount\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ticketsOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_token\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"chengeToken\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"unpause\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"exists\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_index\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenByIndex\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"paused\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ownerOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_eventId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"buyTicket\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": true,\r\n\t\t\"stateMutability\": \"payable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"eventsOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256[]\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getEvent\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"name\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"time\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"price\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"token\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"limited\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"seats\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"sold\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"ipfs\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"category\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"balanceOf\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"renounceOwnership\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_id\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"getTicket\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"destroy\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"pause\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"owner\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"symbol\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"setApprovalForAll\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_data\",\r\n\t\t\t\t\"type\": \"bytes\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"safeTransferFrom\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"tokenURI\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": true,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"isApprovedForAll\",\r\n\t\t\"outputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"view\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_newOwner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"transferOwnership\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_recipient\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"destroyAndSend\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"constant\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_name\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_time\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_price\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_token\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_limited\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_seats\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_ipfs\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_category\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"createEvent\",\r\n\t\t\"outputs\": [],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"function\"\r\n\t},\r\n\t{\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"_token\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"payable\": false,\r\n\t\t\"stateMutability\": \"nonpayable\",\r\n\t\t\"type\": \"constructor\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"eventId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"name\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"time\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"price\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"token\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"limited\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"seats\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"sold\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"ipfs\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"category\",\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"CreatedEvent\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"buyer\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"eventId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"ticketId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"SoldTicket\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"Pause\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [],\r\n\t\t\"name\": \"Unpause\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"previousOwner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"OwnershipRenounced\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"previousOwner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"newOwner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"OwnershipTransferred\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_from\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_to\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Transfer\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_approved\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_tokenId\",\r\n\t\t\t\t\"type\": \"uint256\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"Approval\",\r\n\t\t\"type\": \"event\"\r\n\t},\r\n\t{\r\n\t\t\"anonymous\": false,\r\n\t\t\"inputs\": [\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_owner\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": true,\r\n\t\t\t\t\"name\": \"_operator\",\r\n\t\t\t\t\"type\": \"address\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"indexed\": false,\r\n\t\t\t\t\"name\": \"_approved\",\r\n\t\t\t\t\"type\": \"bool\"\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"name\": \"ApprovalForAll\",\r\n\t\t\"type\": \"event\"\r\n\t}\r\n]","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\n// Import dApp Components\r\nimport Loading from './Loading';\r\nimport PhoenixDAOLoader from './PhoenixDAOLoader';\r\nimport Event from './Event';\r\nimport Web3 from 'web3';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\n\r\n// TODO: Make slides dynamic: import slidesJson from '../config/slides.json';\r\nimport topicsJson from '../config/topics.json';\r\nimport eventCTAsJson from '../config/event_ctas.json';\r\n\r\n\r\n\r\nclass FindEvents extends Component\r\n{\r\n  constructor(props, context)\r\n  {\r\n      super(props);\r\n\r\n      this.state = {\r\n        openEvents : '',\r\n        blocks : 5000000,\r\n        latestblocks :6000000,\r\n        loading : true,\r\n        Events_Blockchain : [],\r\n        active_length : '',\r\n        isOldestFirst:false,\r\n        event_copy:[],\r\n\r\n      };\r\n\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n\r\n      this.toggleSortDate = this.toggleSortDate.bind(this);\r\n\t}\r\n\r\n  topicClick(slug)\r\n  {\r\n\r\n    this.props.history.push(\"/topic/\"+slug+\"/\"+1);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n  readMoreClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  ctasClick(slug)\r\n  {\r\n    this.props.history.push(\"/\"+slug);\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  caruselClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n\r\n  //Loads Blockhain Data,\r\n  async loadBlockchain(){\r\n\r\n    const web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n    const openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n    if (this._isMounted){\r\n    this.setState({openEvents});}\r\n    const dateTime = Date.now();\r\n    const dateNow = Math.floor(dateTime / 1000);\r\n\r\n    const blockNumber = await web3.eth.getBlockNumber();\r\n    if (this._isMounted){\r\n    this.setState({blocks:blockNumber - 50000});\r\n    this.setState({latestblocks:blockNumber - 1});\r\n    this.setState({Events_Blockchain:[]});}\r\n\r\n    openEvents.getPastEvents(\"CreatedEvent\",{fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n    .then(events=>{\r\n    if (this._isMounted){\r\n    this.setState({loading:true})\r\n\r\n    var newsort= events.concat().sort((a,b)=>\r\n    b.blockNumber- a.blockNumber).filter((activeEvents=>\r\n    activeEvents.returnValues.time >=(dateNow)));\r\n\r\n    this.setState({Events_Blockchain:newsort,event_copy:newsort});\r\n    this.setState({active_length:this.state.Events_Blockchain.length})\r\n    this.setState({loading:false});\r\n    }\r\n\r\n    }).catch((err)=>console.error(err))\r\n\r\n\r\n    //Listens for New Events\r\n    openEvents.events.CreatedEvent({fromBlock: this.state.blockNumber, toBlock:'latest'})\r\n    .on('data', (log) => setTimeout(()=> {\r\n    if (this._isMounted){\r\n   // this.setState({loading:true});\r\n\r\n    this.setState({Events_Blockchain:[...this.state.Events_Blockchain,log]});\r\n    var newest = this.state.Events_Blockchain\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n    //this.setState({incoming:false});\r\n    this.setState({Events_Blockchain:newsort,event_copy:newsort});\r\n    this.setState({active_length:this.state.Events_Blockchain.length})}\r\n    //this.setState({loading:false});\r\n    },10000))\r\n  }\r\n\r\n  //Search Active Events By Name\r\n  updateSearch=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    if(this.state.value !== \"\"){\r\n    var filteredEvents = this.state.event_copy;\r\n    filteredEvents = filteredEvents.filter((events)=>{\r\n    return events.returnValues.name.toLowerCase().search(this.state.value.toLowerCase()) !==-1;\r\n\r\n\r\n    })}else{ filteredEvents = this.state.event_copy}\r\n\r\n  this.setState({Events_Blockchain:filteredEvents,\r\n    active_length:filteredEvents.length});\r\n    this.props.history.push(\"/findevents/\"+1)\r\n  })}\r\n\r\n  //Sort Active Events By Date(Newest/Oldest)\r\n  toggleSortDate=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    const{Events_Blockchain}=this.state\r\n    const{ended}=Events_Blockchain\r\n    var newPolls = ended\r\n\r\n     if(this.state.isOldestFirst){\r\n        newPolls = Events_Blockchain.concat().sort((a,b)=> b.returnValues.eventId - a.returnValues.eventId)\r\n        }\r\n    else {\r\n        newPolls = Events_Blockchain.concat().sort((a,b)=> a.returnValues.eventId - b.returnValues.eventId)\r\n      }\r\n\r\n      this.setState({\r\n      isOldestFirst: !this.state.isOldestFirst,\r\n      Events_Blockchain:newPolls\r\n      });\r\n    })}\r\n\r\n\r\n\r\n\trender()\r\n  {\r\n\t\tlet body = <PhoenixDAOLoader />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined' && this.state.active_length !== 'undefined') {\r\n      //let count = Number(this.props.contracts['OpenEvents'].getEventsCount[this.eventCount].value);\r\n      let count = this.state.Events_Blockchain.length\r\n      if(this.state.loading){\r\n        body = <PhoenixDAOLoader/>\r\n      }\r\n\t\t\telse if (count === 0 && !this.state.loading) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else  {\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n        let events_list = [];\r\n        for (let i = start; i < end; i++) {\r\n          events_list.push(<Event inquire={this.props.inquire}\r\n            key={this.state.Events_Blockchain[i].returnValues.eventId}\r\n            id={this.state.Events_Blockchain[i].returnValues.eventId}\r\n            ipfs={this.state.Events_Blockchain[i].returnValues.ipfs} />);\r\n\t\t\t\t}\r\n\r\n        //events_list.reverse();\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n          let links = [];\r\n\r\n          if (pages > 5 && currentPage >= 3){\r\n            for (let i = currentPage - 2; i <= currentPage + 2 && i<=pages; i++) {\r\n                 let active = i === currentPage ? 'active' : '';\r\n               links.push(\r\n                <li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i}  className=\"page-link\">{i}</Link>\r\n                </li>\r\n              );\r\n            }\r\n          }\r\n\r\n          else if (pages > 5 && currentPage < 3){\r\n            for (let i = 1 ; i <= 5 && i<=pages; i++) {\r\n              let active = i === currentPage ? 'active' : '';\r\n              links.push(\r\n                <li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i}  className=\"page-link\">{i}</Link>\r\n                </li>\r\n              );\r\n            }\r\n          }\r\n\t\t\t\t\telse{\r\n            for (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i}  className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n        }\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n    }\r\n\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <Carousel className=\"retract-page-inner-wrapper\">\r\n          <Carousel.Item className=\"slide1\">\r\n            <img className=\"d-block w-100\" src=\"/images/topics/music.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Check out a Concert</h3>\r\n              <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/music/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide2\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/charity-and-causes.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Support a Local Charity</h3>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/charity-and-causes/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide3\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/parties.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Attend an Exclusive Party</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/parties/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide4\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/sports-and-fitness.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Play a New Sport</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/sports-and-fitness/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide5\">\r\n          <img className=\"d-block w-100\" src=\"/images/slides/slide5.png\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Create and Sell Tickets</h3>\r\n              <p>Create your own event, it takes only a minute.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/createevent\")}}><i className=\"fas fa-ticket-alt\"></i> Create Event</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        </Carousel>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative dash\">\r\n\r\n\r\n      <br/><br />\r\n\r\n      <div className=\"input-group input-group-lg\">\r\n        <div className=\"input-group-prepend \">\r\n          <span className=\"input-group-text search-icon\" id=\"inputGroup-sizing-lg\"><i className=\"fa fa-search\"></i>&nbsp;Search </span>\r\n        </div>\r\n        <input type=\"text\" value={this.state.value} onChange={this.updateSearch.bind(this)} className=\"form-control\" aria-label=\"Large\" aria-describedby=\"inputGroup-sizing-sm\" />\r\n      </div>\r\n      <br /><br />\r\n\r\n      <div>\r\n\r\n        <div className=\"row row_mobile\">\r\n         <h2 className=\"col-lg-10 col-md-9 col-sm-8\"><i className=\"fa fa-calendar-alt\"></i> Recent Events</h2>\r\n         <button className=\"btn sort_button col-lg-2 col-md-3 col-sm-3\" value={this.state.value} onClick={this.toggleSortDate} onChange={this.toggleSortDate.bind(this)}>{this.state.isOldestFirst ?'Sort: Oldest':'Sort: Newest'}</button>\r\n        </div>\r\n\r\n        <hr/>\r\n         {body}\r\n\r\n      </div>\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n\r\n      {/*\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Browse Events By</h2>\r\n      <hr />\r\n\r\n        <div className=\"row user-list mt-4\">\r\n          {eventCTAsJson.map(eventCTA => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={eventCTA.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/cta\"+eventCTA.image+\")\"}} onClick={() => {this.ctasClick(eventCTA.slug)}}>\r\n              <div className=\"topic-caption\"><h3>{eventCTA.name}</h3><button className=\"btn\">View Events</button></div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <button className=\"btn read-more\" onClick={() => {this.readMoreClick(\"/findevents/1\")}}>All Events</button>\r\n        </div>\r\n        <br /><br />\r\n        */}\r\n\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Popular Topics</h2>\r\n        <hr/>\r\n          <div className=\"row user-list mt-4\">\r\n          {\r\n            topicsJson && topicsJson\r\n              .filter(topic => topic.popular === \"true\")\r\n              .map((topic, index) => {\r\n                return (\r\n                  <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={topic.slug}>\r\n                    <div className=\"topic\" style={{ backgroundImage: \"url(/images/topics/\" + topic.image +\")\"}} onClick={() => {this.topicClick(topic.slug)}}>\r\n                    <div className=\"topic-caption\"><h3>{topic.name}</h3><button className=\"btn\">View Topic</button></div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n          }\r\n\r\n          <button className=\"btn read-more\" onClick={() => {this.readMoreClick(\"/topics\")}}>All Topics</button>\r\n          </div>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\t\tthis.loadBlockchain();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n}\r\n\r\nFindEvents.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state =>\r\n{\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(FindEvents, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\n// Import dApp Components\r\nimport Loading from './Loading';\r\nimport PhoenixDAOLoader from './PhoenixDAOLoader';\r\n\r\nimport Event from './Event';\r\nimport Web3 from 'web3';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\n\r\n// TODO: Make slides dynamic: import slidesJson from '../config/slides.json';\r\nimport topicsJson from '../config/topics.json';\r\n\r\n\r\nclass PastEvents extends Component\r\n{\r\n  constructor(props, context)\r\n  {\r\n      super(props);\r\n      this.state = {\r\n        openEvents : '',\r\n        blocks : 5000000,\r\n        latestblocks : '',\r\n        loading : true,\r\n        past_length : '',\r\n        isOldestFirst : false,\r\n        past_events : [],\r\n        past_events_copy : []\r\n\r\n      };\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n\t}\r\n\r\n  topicClick(slug)\r\n  {\r\n    this.props.history.push(\"/topic/\"+slug+\"/\"+1);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n  readMoreClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n  }\r\n\r\n  ctasClick(slug)\r\n  {\r\n    this.props.history.push(\"/\"+slug);\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  caruselClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n  //Load Blockchain Data\r\n  async loadBlockchain(){\r\n\r\n    const web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n    const openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n    if (this._isMounted){\r\n    this.setState({openEvents});\r\n    this.setState({past_events:[]});}\r\n    const dateTime = Date.now();\r\n    const dateNow = Math.floor(dateTime / 1000);\r\n\r\n    const blockNumber = await web3.eth.getBlockNumber();\r\n    if (this._isMounted){\r\n    this.setState({blocks:blockNumber - 50000});\r\n    this.setState({latestblocks:blockNumber});\r\n    this.setState({past_events:[]});}\r\n\r\n    //Get Finished Events\r\n    openEvents.getPastEvents(\"CreatedEvent\",{fromBlock: 5000000, toBlock:'latest'})\r\n    .then(events=>{\r\n    if (this._isMounted){\r\n    this.setState({loading:true})\r\n\r\n    //var newest = events.filter((activeEvents)=>activeEvents.returnValues.time <=(dateNow));\r\n    var newsort= events.concat().sort((a,b)=>\r\n    b.blockNumber- a.blockNumber).filter((pastEvents=>\r\n    pastEvents.returnValues.time <=(dateNow)));\r\n\r\n    this.setState({past_events:newsort,past_events_copy:newsort});\r\n    this.setState({past_length:this.state.past_events.length})\r\n    this.setState({loading:false});\r\n    }\r\n\r\n    }).catch((err)=>console.error(err))\r\n\r\n  }\r\n\r\n  //Search Past Events By Name\r\n  updateSearch=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    if(this.state.value !== \"\"){\r\n    var filteredEvents = this.state.past_events_copy;\r\n    filteredEvents = filteredEvents.filter((events)=>{\r\n    return events.returnValues.name.toLowerCase().search(this.state.value.toLowerCase()) !==-1;\r\n      })\r\n    }\r\n    else{\r\n      filteredEvents = this.state.past_events_copy\r\n    }\r\n\r\n    this.setState({\r\n      past_events:filteredEvents,\r\n      past_length:filteredEvents.length})\r\n      this.props.history.push(\"/pastevents/\"+1);\r\n    })\r\n  }\r\n\r\n  //Sort Past Events By Newest/Oldest\r\n  toggleSortDate=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    const{past_events}=this.state\r\n    const{ended}=past_events\r\n    var newPolls = ended\r\n\r\n    if(this.state.isOldestFirst){\r\n        newPolls = past_events.concat().sort((a,b)=> b.returnValues.eventId - a.returnValues.eventId)\r\n      }\r\n    else {\r\n        newPolls = past_events.concat().sort((a,b)=> a.returnValues.eventId - b.returnValues.eventId)\r\n    }\r\n\r\n    this.setState({\r\n    isOldestFirst: !this.state.isOldestFirst,\r\n    past_events:newPolls\r\n      });\r\n    })\r\n  }\r\n\r\n\trender()\r\n  {\r\n\t\tlet body = <PhoenixDAOLoader />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined' && this.state.active_length !== 'undefined' && this.state.loading !==true) {\r\n      //let count = Number(this.props.contracts['OpenEvents'].getEventsCount[this.eventCount].value);\r\n      let count = this.state.past_length\r\n      if(this.state.loading){\r\n        body = <PhoenixDAOLoader/>\r\n      }\r\n\t\t\telse if (count === 0 && !this.state.loading) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n        let events_list = [];\r\n        for (let i = start; i < end; i++) {\r\n          events_list.push(<Event\r\n            key={this.state.past_events[i].returnValues.eventId}\r\n            id={this.state.past_events[i].returnValues.eventId}\r\n            ipfs={this.state.past_events[i].returnValues.ipfs} />);\r\n\t\t\t\t}\r\n\r\n        //events_list.reverse();\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n          if (pages > 5 && currentPage >= 3){\r\n            for (let i = currentPage - 2; i <= currentPage + 2 && i<=pages; i++) {\r\n                 let active = i === currentPage ? 'active' : '';\r\n               links.push(\r\n                <li className={\"page-item \" + active} key={i}>\r\n                  <Link to={\"/pastevents/\" + i} className=\"page-link\">{i}</Link>\r\n                </li>\r\n              );\r\n            }\r\n          }\r\n\r\n          else if (pages > 5 && currentPage < 3){\r\n            for (let i = 1 ; i <= 5 && i<=pages; i++) {\r\n              let active = i === currentPage ? 'active' : '';\r\n              links.push(\r\n                <li className={\"page-item \" + active} key={i}>\r\n                  <Link to={\"/pastevents/\" + i} className=\"page-link\">{i}</Link>\r\n                </li>\r\n              );\r\n            }\r\n          }\r\n\t\t\t\t\telse{\r\n            for (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/pastevents/\" + i} className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n        }\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <Carousel className=\"retract-page-inner-wrapper\">\r\n          <Carousel.Item className=\"slide1\">\r\n            <img className=\"d-block w-100\" src=\"/images/topics/music.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Check out a Concert</h3>\r\n              <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/music/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide2\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/charity-and-causes.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Support a Local Charity</h3>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/charity-and-causes/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide3\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/parties.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Attend an Exclusive Party</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/parties/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide4\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/sports-and-fitness.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Play a New Sport</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/sports-and-fitness/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide5\">\r\n          <img className=\"d-block w-100\" src=\"/images/slides/slide5.png\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Create and Sell Tickets</h3>\r\n              <p>Create your own event, it takes only a minute.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/createevent\")}}><i className=\"fas fa-ticket-alt\"></i> Create Event</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        </Carousel>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative dash\">\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"input-group input-group-lg\">\r\n        <div className=\"input-group-prepend\">\r\n          <span className=\"input-group-text search-icon\" id=\"inputGroup-sizing-lg\"><i className=\"fa fa-search\"></i>&nbsp;Search </span>\r\n        </div>\r\n        <input type=\"text\" value={this.state.value} onChange={this.updateSearch.bind(this)} className=\"form-control\" aria-label=\"Large\" aria-describedby=\"inputGroup-sizing-sm\" />\r\n      </div>\r\n      <br /><br />\r\n\r\n      <div>\r\n        <div className=\"row row_mobile\">\r\n        <h2 className=\"col-lg-10 col-md-9 col-sm-8\"><i className=\"fa fa-calendar-alt\"></i> Past Events</h2>\r\n        <button className=\"btn sort_button col-lg-2 col-md-3 col-sm-3\" value={this.state.value} onClick={this.toggleSortDate} onChange={this.toggleSortDate.bind(this)}>{this.state.isOldestFirst ?'Sort: Oldest':'Sort: Newest'}</button>\r\n        </div>\r\n          <hr />\r\n          {body}\r\n      </div>\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n\r\n      {/*\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Browse Events By</h2>\r\n      <hr />\r\n        <div className=\"row user-list mt-4\">\r\n          {eventCTAsJson.map(eventCTA => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={eventCTA.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/cta\"+eventCTA.image+\")\"}} onClick={() => {this.ctasClick(eventCTA.slug)}}>\r\n              <div className=\"topic-caption\"><h3>{eventCTA.name}</h3><button className=\"btn\">View Events</button></div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <button className=\"btn read-more\" onClick={() => {this.readMoreClick(\"/findevents/1\")}}>All Events</button>\r\n        </div>\r\n        <br /><br />\r\n        */}\r\n\r\n        <h2><i className=\"fa fa-calendar-alt\"></i> Popular Topics</h2>\r\n        <hr />\r\n          <div className=\"row user-list mt-4\">\r\n          {\r\n            topicsJson && topicsJson\r\n              .filter(topic => topic.popular === \"true\")\r\n              .map((topic, index) => {\r\n                return (\r\n                  <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={topic.slug}>\r\n                    <div className=\"topic\" style={{ backgroundImage: \"url(/images/topics/\" + topic.image +\")\"}} onClick={() => {this.topicClick(topic.slug)}}>\r\n                    <div className=\"topic-caption\"><h3>{topic.name}</h3><button className=\"btn\">View Topic</button></div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n          }\r\n\r\n          <button className=\"btn read-more\" onClick={() => {this.readMoreClick(\"/topics\")}}>All Topics</button>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\t  this.loadBlockchain();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n}\r\n\r\nPastEvents.contextTypes =\r\n{\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state =>\r\n{\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(PastEvents, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from \"react\";\r\nimport { drizzleConnect } from \"drizzle-react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport makeBlockie from \"ethereum-blockies-base64\";\r\n\r\nimport ipfs from \"../utils/ipfs\";\r\n\r\nimport Loading from \"./Loading\";\r\n\r\nimport {\r\n\tEmailShareButton,\r\n\tFacebookShareButton,\r\n\tLinkedinShareButton,\r\n\tRedditShareButton,\r\n\tTelegramShareButton,\r\n\tTwitterShareButton,\r\n\tWhatsappShareButton,\r\n} from \"react-share\";\r\n\r\nimport {\r\n\tEmailIcon,\r\n\tFacebookIcon,\r\n\tLinkedinIcon,\r\n\tRedditIcon,\r\n\tTelegramIcon,\r\n\tTwitterIcon,\r\n\tWhatsappIcon,\r\n} from \"react-share\";\r\n\r\nvar QRCode = require(\"qrcode.react\");\r\n\r\nclass Ticket extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props);\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.ticket = this.contracts[\"OpenEvents\"].methods.getTicket.cacheCall(\r\n\t\t\tthis.props.id\r\n\t\t);\r\n\t\tthis.event = null;\r\n\t\tthis.address = null;\r\n\t\tthis.state = {\r\n\t\t\tloading: false,\r\n\t\t\tloaded: false,\r\n\t\t\tdescription: null,\r\n\t\t\timage: null,\r\n\t\t\tlocation: null,\r\n\t\t\tipfs_problem: false,\r\n\t\t\tcard_tab: 1,\r\n\t\t\twrong_address: false,\r\n\t\t};\r\n\t\tthis.isCancelled = false;\r\n\t}\r\n\r\n\tupdateIPFS = () => {\r\n\t\tif (\r\n\t\t\tthis.state.loaded === false &&\r\n\t\t\tthis.state.loading === false &&\r\n\t\t\ttypeof this.props.contracts[\"OpenEvents\"].getEvent[this.event] !==\r\n\t\t\t\t\"undefined\"\r\n\t\t) {\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tloading: true,\r\n\t\t\t\t},\r\n\t\t\t\t() => {\r\n\t\t\t\t\tipfs.get(\r\n\t\t\t\t\t\tthis.props.contracts[\"OpenEvents\"].getEvent[this.event]\r\n\t\t\t\t\t\t\t.value[7]\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.then((file) => {\r\n\t\t\t\t\t\t\tlet data = JSON.parse(file[0].content.toString());\r\n\t\t\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\tdescription: data.text,\r\n\t\t\t\t\t\t\t\t\timage: data.image,\r\n\t\t\t\t\t\t\t\t\tlocation: data.location,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\t\t\tipfs_problem: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tgetImage = () => {\r\n\t\tlet image = \"/images/loading_ipfs.png\";\r\n\t\tif (this.state.ipfs_problem) image = \"/images/problem_ipfs.png\";\r\n\t\tif (this.state.image !== null) image = this.state.image;\r\n\t\treturn image;\r\n\t};\r\n\r\n\tgetDescription = () => {\r\n\t\tlet description = <Loading />;\r\n\t\tif (this.state.ipfs_problem)\r\n\t\t\tdescription = (\r\n\t\t\t\t<p className=\"text-center mb-0 event-description\">\r\n\t\t\t\t\t<span role=\"img\" aria-label=\"monkey\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\tWe can not load description\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\tif (this.state.description !== null) {\r\n\t\t\tlet text =\r\n\t\t\t\tthis.state.description.length > 100\r\n\t\t\t\t\t? this.state.description.slice(0, 100) + \"...\"\r\n\t\t\t\t\t: this.state.description;\r\n\t\t\tdescription = <p className=\"card-text event-description\">{text}</p>;\r\n\t\t}\r\n\t\treturn description;\r\n\t};\r\n\r\n\tgetLocation = () => {\r\n\t\tlet locations = [];\r\n\t\tif (this.state.ipfs_problem)\r\n\t\t\tlocations = (\r\n\t\t\t\t<p className=\"text-center mb-0 event-description\">\r\n\t\t\t\t\t<span role=\"img\" aria-label=\"monkey\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\tWe can not load location\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\tif (this.state.location !== null) {\r\n\t\t\tlet place = this.state.location;\r\n\t\t\tlocations = <strong>Location: {place}</strong>;\r\n\t\t}\r\n\t\treturn locations;\r\n\t};\r\n\r\n\tchangeTab = (tab, event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\tcard_tab: tab,\r\n\t\t});\r\n\t};\r\n\r\n\tsendTicket = () => {\r\n\t\tif (\r\n\t\t\t!this.address.value ||\r\n\t\t\t!this.context.drizzle.web3.utils.isAddress(this.address.value)\r\n\t\t) {\r\n\t\t\tthis.setState({ wrong_address: true });\r\n\t\t} else {\r\n\t\t\tthis.setState({ wrong_address: false });\r\n\t\t\tthis.contracts[\"OpenEvents\"].methods.safeTransferFrom.cacheSend(\r\n\t\t\t\tthis.props.accounts[0],\r\n\t\t\t\tthis.address.value,\r\n\t\t\t\tthis.props.id\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\tupdateEvent = () => {\r\n\t\tif (\r\n\t\t\ttypeof this.props.contracts[\"OpenEvents\"].getTicket[this.ticket] !==\r\n\t\t\t\t\"undefined\" &&\r\n\t\t\tthis.event === null\r\n\t\t) {\r\n\t\t\tthis.event = this.contracts[\r\n\t\t\t\t\"OpenEvents\"\r\n\t\t\t].methods.getEvent.cacheCall(\r\n\t\t\t\tthis.props.contracts[\"OpenEvents\"].getTicket[this.ticket]\r\n\t\t\t\t\t.value[0]\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.event !== null) {\r\n\t\t\tthis.updateIPFS();\r\n\t\t}\r\n\t\t//<img src=\"/images/qr.jpg\" width=\"150\" alt=\"qr code\" />\r\n\t};\r\n\r\n\tdownloadQR = () => {\r\n\t\tlet ticket_data = this.props.contracts[\"OpenEvents\"].getTicket[\r\n\t\t\tthis.ticket\r\n\t\t].value;\r\n\t\tlet event_data = this.props.contracts[\"OpenEvents\"].getEvent[this.event]\r\n\t\t\t.value;\r\n\t\tconst canvas = document.getElementById(\r\n\t\t\tevent_data[0] + \"-\" + ticket_data[1]\r\n\t\t);\r\n\t\tconsole.log(\"c\", canvas);\r\n\t\tconst pngUrl = canvas\r\n\t\t\t.toDataURL(\"image/png\")\r\n\t\t\t.replace(\"image/png\", \"image/octet-stream\");\r\n\t\tconsole.log(\"png\", pngUrl);\r\n\t\tlet downloadLink = document.createElement(\"a\");\r\n\t\tdownloadLink.href = pngUrl;\r\n\t\tdownloadLink.download = \"Event-Ticket.png\";\r\n\t\tdocument.body.appendChild(downloadLink);\r\n\t\tdownloadLink.click();\r\n\t\tdocument.body.removeChild(downloadLink);\r\n\t};\r\n\r\n\trender() {\r\n\t\tlet body = (\r\n\t\t\t<div className=\"card\">\r\n\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\t\tif (\r\n\t\t\tthis.event !== null &&\r\n\t\t\ttypeof this.props.contracts[\"OpenEvents\"].getEvent[this.event] !==\r\n\t\t\t\t\"undefined\"\r\n\t\t) {\r\n\t\t\tlet ticket_data = this.props.contracts[\"OpenEvents\"].getTicket[\r\n\t\t\t\tthis.ticket\r\n\t\t\t].value;\r\n\t\t\tlet event_data = this.props.contracts[\"OpenEvents\"].getEvent[\r\n\t\t\t\tthis.event\r\n\t\t\t].value;\r\n\r\n\t\t\tlet rawTitle = event_data[0];\r\n\t\t\tvar titleRemovedSpaces = rawTitle;\r\n\t\t\ttitleRemovedSpaces = titleRemovedSpaces.replace(/ /g, \"-\");\r\n\r\n\t\t\tvar pagetitle = titleRemovedSpaces\r\n\t\t\t\t.toLowerCase()\r\n\t\t\t\t.split(\" \")\r\n\t\t\t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n\t\t\t\t.join(\" \");\r\n\t\t\tlet titleURL = \"/event/\" + pagetitle + \"/\" + ticket_data[0];\r\n\t\t\tlet shareUrl = window.location.origin + titleURL;\r\n\r\n\t\t\tlet card_body;\r\n\r\n\t\t\tif (this.state.card_tab === 1) {\r\n\t\t\t\tlet image = this.getImage();\r\n\t\t\t\tlet description = this.getDescription();\r\n\r\n\t\t\t\tlet date = new Date(parseInt(event_data[1], 10) * 1000);\r\n\r\n\t\t\t\tlet timeStatus, timeClass;\r\n\r\n\t\t\t\tif (date.getTime() < new Date().getTime()) {\r\n\t\t\t\t\ttimeStatus = (\r\n\t\t\t\t\t\t<p className=\"text-center small\">\r\n\t\t\t\t\t\t\t<span role=\"img\" aria-label=\"alert\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\tTicket Expired\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t);\r\n\t\t\t\t\ttimeClass = \"text-danger\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcard_body = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<h4 className={\"text-center \" + timeClass}>\r\n\t\t\t\t\t\t\t\t<i className=\"far fa-calendar-alt\"></i>\r\n\t\t\t\t\t\t\t\t<span className=\"pl-2\">\r\n\t\t\t\t\t\t\t\t\t{date.toLocaleDateString()} at{\" \"}\r\n\t\t\t\t\t\t\t\t\t{date.toLocaleTimeString()}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t{timeStatus}\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">\r\n\t\t\t\t\t\t\t\tYour seat: {ticket_data[1]}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"card-img event-image\"\r\n\t\t\t\t\t\t\tsrc={image}\r\n\t\t\t\t\t\t\talt={event_data[0]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<h5 className=\"card-title event-title\">\r\n\t\t\t\t\t\t\t\t<Link to={titleURL}>{event_data[0]}</Link>\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t{description}\r\n\r\n\t\t\t\t\t\t\t<h6 className=\"text-center mb-0\">\r\n\t\t\t\t\t\t\t\tTell friends you're going!{\" \"}\r\n\t\t\t\t\t\t\t</h6>\r\n\r\n\t\t\t\t\t\t\t<div className=\"text-center social-share-btns-div\">\r\n\t\t\t\t\t\t\t\t<EmailShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\tsubject={\"Attending \" + rawTitle}\r\n\t\t\t\t\t\t\t\t\tbody={\"I am going to \" + rawTitle}\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<EmailIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</EmailShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<FacebookShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\tquote={rawTitle}\r\n\t\t\t\t\t\t\t\t\thashtag=\"event\"\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FacebookIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</FacebookShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<LinkedinShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\ttitle={rawTitle}\r\n\t\t\t\t\t\t\t\t\tsummary={\"I am going to \" + rawTitle}\r\n\t\t\t\t\t\t\t\t\tsource={shareUrl}\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<LinkedinIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</LinkedinShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<RedditShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\ttitle={rawTitle}\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<RedditIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</RedditShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<TelegramShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\ttitle={rawTitle}\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<TelegramIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</TelegramShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<TwitterShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\ttitle={\"I am going to \" + rawTitle}\r\n\t\t\t\t\t\t\t\t\thashtag=\"event\"\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<TwitterIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</TwitterShareButton>\r\n\r\n\t\t\t\t\t\t\t\t<WhatsappShareButton\r\n\t\t\t\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\t\t\t\ttitle={rawTitle}\r\n\t\t\t\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<WhatsappIcon size={32} round />\r\n\t\t\t\t\t\t\t\t</WhatsappShareButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"card-footer text-muted event-header\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"float-left\"\r\n\t\t\t\t\t\t\t\tsrc={makeBlockie(event_data[9])}\r\n\t\t\t\t\t\t\t\talt={event_data[9]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<p className=\"small text-truncate mb-2\">\r\n\t\t\t\t\t\t\t\tCreator:{\" \"}\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={\r\n\t\t\t\t\t\t\t\t\t\t\"https://rinkeby.etherscan.io/address/\" +\r\n\t\t\t\t\t\t\t\t\t\tevent_data[9]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{event_data[9]}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tlet image = this.getImage();\r\n\t\t\t\tlet ticket_data = this.props.contracts[\"OpenEvents\"].getTicket[\r\n\t\t\t\t\tthis.ticket\r\n\t\t\t\t].value;\r\n\t\t\t\tlet event_data = this.props.contracts[\"OpenEvents\"].getEvent[\r\n\t\t\t\t\tthis.event\r\n\t\t\t\t].value;\r\n\t\t\t\tlet warning = this.state.wrong_address ? \"is-invalid\" : \"\";\r\n\t\t\t\tlet date = new Date(parseInt(event_data[1], 10) * 1000);\r\n\r\n\t\t\t\tcard_body = (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">\r\n\t\t\t\t\t\t\t\tDownload Digital Ticket:\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<a onClick={this.downloadQR}>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/images/add-to-apple-wallet-logo.png\"\r\n\t\t\t\t\t\t\t\t\t\twidth=\"140px\"\r\n\t\t\t\t\t\t\t\t\t\theight=\"40px\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"apple wallet logo\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<p className=\"myTicketQR text-center\">\r\n\t\t\t\t\t\t\t\t\t<QRCode\r\n\t\t\t\t\t\t\t\t\t\tid={\r\n\t\t\t\t\t\t\t\t\t\t\tevent_data[0] + \"-\" + ticket_data[1]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\"Event Name: \" +\r\n\t\t\t\t\t\t\t\t\t\t\tevent_data[0] +\r\n\t\t\t\t\t\t\t\t\t\t\t\", \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\"Event Date: \" +\r\n\t\t\t\t\t\t\t\t\t\t\tdate.toLocaleDateString() +\r\n\t\t\t\t\t\t\t\t\t\t\t\", \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\"Event Time: \" +\r\n\t\t\t\t\t\t\t\t\t\t\tdate.toLocaleTimeString() +\r\n\t\t\t\t\t\t\t\t\t\t\t\", \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\"Event Location: \" +\r\n\t\t\t\t\t\t\t\t\t\t\tthis.state.location +\r\n\t\t\t\t\t\t\t\t\t\t\t\", \" +\r\n\t\t\t\t\t\t\t\t\t\t\t\"Ticket Number: \" +\r\n\t\t\t\t\t\t\t\t\t\t\tticket_data[1]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsize={180}\r\n\t\t\t\t\t\t\t\t\t\tlevel={\"H\"}\r\n\t\t\t\t\t\t\t\t\t\tbgColor=\"transparent\"\r\n\t\t\t\t\t\t\t\t\t\tfgColor=\"black\"\r\n\t\t\t\t\t\t\t\t\t\timageSettings={{\r\n\t\t\t\t\t\t\t\t\t\t\tsrc: \"/images/PhoenixDAO.png\",\r\n\t\t\t\t\t\t\t\t\t\t\theight: 34,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 34,\r\n\t\t\t\t\t\t\t\t\t\t\tx: null,\r\n\t\t\t\t\t\t\t\t\t\t\ty: 75,\r\n\t\t\t\t\t\t\t\t\t\t\texcavate: false,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<h5 className=\"text-center\">\r\n\t\t\t\t\t\t\t\tSend or Transfer Ticket:\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"address\">\r\n\t\t\t\t\t\t\t\t\tEthereum Address:\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclassName={\"form-control \" + warning}\r\n\t\t\t\t\t\t\t\t\tid=\"address\"\r\n\t\t\t\t\t\t\t\t\tref={(input) => (this.address = input)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\r\n\t\t\t\t\t\t\t\tonClick={this.sendTicket}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-share-square\"></i> Send\r\n\t\t\t\t\t\t\t\tTicket\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tbody = (\r\n\t\t\t\t<div className=\"card w-100\">\r\n\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t<ul className=\"nav nav-tabs card-header-tabs\">\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref=\"\"\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\"nav-link \" +\r\n\t\t\t\t\t\t\t\t\t\t(this.state.card_tab === 1\r\n\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.changeTab(1, e)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tAbout Event\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref=\"\"\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\"nav-link \" +\r\n\t\t\t\t\t\t\t\t\t\t(this.state.card_tab === 2\r\n\t\t\t\t\t\t\t\t\t\t\t? \"active\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => this.changeTab(2, e)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tManage Ticket\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{card_body}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"col-lg-4 pb-4 d-flex align-items-stretch\">\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.updateEvent();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.updateEvent();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.isCancelled = true;\r\n\t}\r\n}\r\n\r\nTicket.contextTypes = {\r\n\tdrizzle: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts,\r\n\t};\r\n};\r\n\r\nconst AppContainer = drizzleConnect(Ticket, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loading from './Loading';\r\nimport PhoenixDAOLoader from './PhoenixDAOLoader';\r\n\r\nimport Ticket from './Ticket';\r\n\r\nclass MyTickets extends Component {\r\n  constructor(props, context) {\r\n\r\n\tsuper(props);\r\n\tthis.state = {\r\n\t\tmyTicket: [],\r\n\t\tloading:true,\r\n\t}\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.tickets = this.contracts['OpenEvents'].methods.ticketsOf.cacheCall(this.props.accounts[0]);\r\n\t\tthis.perPage = 6;\r\n\r\n\t}\r\n\r\n  readMoreClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  setLoader(){\r\n\tif(this._isMounted){\r\n\tthis.setState({\r\n\t\tloading:false});\r\n\t\t}\r\n  \t}\r\n\r\n\tgetTickets = () =>{\r\n\tif (typeof this.props.contracts['OpenEvents'].ticketsOf[this.tickets] !== 'undefined') {\r\n\t\tconst myTicket = this.props.contracts['OpenEvents'].ticketsOf[this.tickets].value;\r\n\t\tlet newsort= myTicket.concat().sort((a,b)=> b - a);\r\n\t\tif(newsort!=='undefined'){\r\n\t\treturn newsort\r\n\t\t}\r\n\t}\r\n\r\n  }\r\n\r\n\trender() {\r\n\t\tlet body = <PhoenixDAOLoader />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].ticketsOf[this.tickets] !== 'undefined') {\r\n\t\t\t//let allTickets = this.props.contracts['OpenEvents'].ticketsOf[this.tickets].value;\r\n\t\t\tlet allTickets = this.getTickets();\r\n\t\t\tif(this.state.loading){\r\n\t\t\t\tbody =\r\n\t\t\t\t<div>\r\n\t\t\t\t<PhoenixDAOLoader/>\r\n\t\t\t\t<hr/>\r\n\t\t\t\t</div>\r\n\t\t\t  }\r\n\t\t\telse if (allTickets.length === 0) {\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div className=\"no-tickets text-center mt-5\">\r\n\t\t\t\t\t\t<h3>You have not purchased any tickets yet.</h3>\r\n            <button  className=\"btn btn-drk read-more\" onClick={() => {this.readMoreClick(\"/findevents/1\")}}>Find an Event</button>.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t} else {\r\n\t\t\t\tlet count = allTickets.length;\r\n\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet tickets = [];\r\n\r\n\t\t\t\tfor (let i = start; i < end; i++) {\r\n\t\t\t\t\tlet ticket = parseInt(allTickets[i], 10);\r\n\t\t\t\t\ttickets.push(<Ticket key={ticket} id={ticket} />);\r\n\t\t\t\t}\r\n\t\t\t\t//tickets.reverse();\r\n\r\n\t\t\t\tlet pagination;\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n\t\t\t\t\tif (pages > 5 && currentPage >= 3){\r\n            \t\t\tfor (let i = currentPage - 2; i <= currentPage + 2 && i<=pages; i++) {\r\n                 \t\tlet active = i === currentPage ? 'active' : '';\r\n               \t\t\tlinks.push(\r\n                \t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t<Link to={\"/mytickets/\" + i}  className=\"page-link\">{i}</Link>\r\n                \t\t</li>\r\n             \t\t\t\t );\r\n            \t\t\t}\r\n          \t\t\t}\r\n\r\n          \t\t\telse if (pages > 5 && currentPage < 3){\r\n           \t\t\t\t for (let i = 1 ; i <= 5 && i<=pages; i++) {\r\n              \t\t\tlet active = i === currentPage ? 'active' : '';\r\n              \t\t\tlinks.push(\r\n                \t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/mytickets/\" + i}  className=\"page-link\">{i}</Link>\r\n                \t\t\t</li>\r\n              \t\t\t\t\t);\r\n           \t\t\t\t\t}\r\n          \t\t\t\t}\r\n\t\t\t\t\telse{\r\n            \t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/mytickets/\" + i}  className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n       \t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{tickets}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative\">\r\n\t\t\t<div className=\"my-tickets-page\">\r\n\t\t\t\t<h2><i className=\"fa fa-ticket-alt\"></i> My Tickets</h2>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis._isMounted = true;\r\n\t\tsetTimeout(()=>this.setLoader(),1000);\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tthis._isMounted = false;\r\n\t}\r\n}\r\n\r\n\r\nMyTickets.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(MyTickets, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Loading from './Loading';\r\nimport PhoenixDAOLoader from './PhoenixDAOLoader';\r\n\r\nimport Event from './Event';\r\nimport Web3 from 'web3';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\n\r\n\r\nclass MyEvents extends Component {\r\n    constructor(props, context) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\topenEvents : '',\r\n\t\t\tblocks : 5000000,\r\n\t\t\tlatestblocks : 6000000,\r\n\t\t\tloading : true,\r\n\t\t\tMyEvents : [],\r\n\t\t\tactive_length : '',\r\n\t\t\tisOldestFirst:false,\r\n\t\t\tisActive:true,\r\n\t\t\taccount:[],\r\n\t\t\tdateNow:''\r\n\t\t  };\r\n\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.events = this.contracts['OpenEvents'].methods.eventsOf.cacheCall(this.props.accounts[0]);\r\n\t\tthis.perPage = 6;\r\n\t\tthis.account = this.props.accounts[0];\r\n\r\n\t\tthis.ActiveEvent = this.ActiveEvent.bind(this);\r\n\t\tthis.PastEvent = this.PastEvent.bind(this);\r\n\t\tthis.updateSearch = this.updateSearch.bind(this);\r\n\t}\r\n\r\n\t//Get Blockchain State\r\n\tasync loadBlockchain(){\r\n\t\tconst web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n\t\tconst openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({openEvents:openEvents});\r\n\t\tthis.setState({MyEvents :[]});\r\n\r\n\t\tconst dateTime = Date.now();\r\n\t\tconst dateNow = Math.floor(dateTime / 1000);\r\n\t\tconst blockNumber = await web3.eth.getBlockNumber();\r\n\t\tthis.setState({dateNow})\r\n\t\tthis.setState({blocks:blockNumber - 50000});\r\n\t\tthis.setState({latestblocks:blockNumber - 1});\r\n\t\tthis.loadActiveEvents()\r\n\r\n\t\t//Listen For My Newly Created Events\r\n\t\tthis.state.openEvents.events.CreatedEvent({filter:{owner:this.account},fromBlock: blockNumber, toBlock:'latest'})\r\n\t\t.on('data', (log) => setTimeout(()=> {\r\n\t\tif(this.state.isActive){\r\n\r\n\t\tthis.setState({MyEvents :[...this.state.MyEvents ,log]});\r\n\t\tvar newest = this.state.MyEvents\r\n\t\tvar newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n\t\tthis.setState({\r\n\t\t\tMyEvents:newsort,\r\n\t\t\tactive_length:this.state.MyEvents.length\r\n\t\t\t});\r\n\t\t };\r\n\r\n\t\t},10000))\r\n\t\t}\r\n\t}\r\n\r\n\t//Get My Active Events on Blockchain\r\n\tasync loadActiveEvents(){\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({MyEvents:[],active_length:0,loading:true}); }\r\n\r\n\t\tthis.state.openEvents.getPastEvents(\"CreatedEvent\",{filter:{owner:this.account},fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n\t\t.then(events=>{\r\n\t\tvar newest = events.filter((activeEvents)=>activeEvents.returnValues.time >=(this.state.dateNow));\r\n\t\tvar newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({MyEvents:newsort,check:newsort});\r\n\t\tthis.setState({active_length:this.state.MyEvents.length});\r\n\t\tsetTimeout(()=>this.setState({loading:false}),1000);\r\n\t\t\t }\r\n\r\n\t\t}).catch((err)=>console.error(err))\r\n\r\n\t  }\r\n\r\n\t//Get My Concluded Events on Blockchain\r\n\tasync loadPastEvents(){\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({MyEvents :[],active_length:0,loading:true});}\r\n\t\tthis.state.openEvents.getPastEvents(\"CreatedEvent\",{filter:{owner:this.account},fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n\t\t.then(events=>{\r\n\t\tthis.setState({loading:true})\r\n\t\tvar newest = events.filter((activeEvents)=>activeEvents.returnValues.time <=(this.state.dateNow));\r\n\t\tvar newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({MyEvents:newsort,check:newsort});\r\n\t\tthis.setState({active_length:this.state.MyEvents.length});\r\n\t\tsetTimeout(()=>this.setState({loading:false}),1000);\r\n\t\t\t}\r\n\r\n\t\t}).catch((err)=>console.error(err))\r\n\t  }\r\n\r\n\t//Display My Concluded Events\r\n\tPastEvent=(e)=>{\r\n\t\tthis.setState({\r\n\t\t\tisActive: false,\r\n\t\t},()=>{if(!this.state.isActive){\r\n\t\tthis.loadPastEvents()\r\n\t\tthis.props.history.push(\"/myevents/\"+1)}})\r\n\t  }\r\n\r\n\t//Display My Active Events\r\n\tActiveEvent=(e)=>{\r\n\t\tthis.setState({\r\n\t\t\tisActive: true,\r\n\t\t},()=>{if(this.state.isActive){\r\n\t\tthis.loadActiveEvents()\r\n\t\tthis.props.history.push(\"/myevents/\"+1)}})\r\n\t  }\r\n\r\n\t//Search for My Events By Name\r\n\tupdateSearch=(e)=>{\r\n\t\tlet {value} = e.target\r\n\t\tthis.setState({value},()=>{\r\n\t\tif(this.state.value !== \"\"){\r\n\t\tvar filteredEvents = this.state.check;\r\n\t\tfilteredEvents = filteredEvents.filter((events)=>{\r\n\t\treturn events.returnValues.name.toLowerCase().search(this.state.value.toLowerCase()) !==-1;\r\n\r\n\r\n\t\t})}else{ filteredEvents = this.state.check}\r\n\r\n\t  this.setState({MyEvents:filteredEvents,\r\n\t\tactive_length:filteredEvents.length});\r\n\t\tthis.props.history.push(\"/myevents/\"+1)\r\n\t  })}\r\n\r\n\trender() {\r\n\t\tlet body = <PhoenixDAOLoader />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].eventsOf[this.events] !== 'undefined') {\r\n\t\t\tlet events = this.state.MyEvents.length;\r\n\t\t\tif(this.state.loading){\r\n\t\t\t\tbody = <PhoenixDAOLoader/>\r\n\t\t\t}\r\n\t\t\telse if (events === 0) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\t\t\t\tlet count = this.state.MyEvents.length\r\n\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet myEvents = [];\r\n\r\n        \t\tfor (let i = start; i < end; i++) {\r\n\t\t\t\t myEvents.push(<Event\r\n\t\t\t\t\tinquire={this.props.inquire}\r\n            \t\tkey={this.state.MyEvents[i].returnValues.eventId}\r\n            \t\tid={this.state.MyEvents[i].returnValues.eventId}\r\n\t\t\t\t\tipfs={this.state.MyEvents[i].returnValues.ipfs}\r\n\t\t\t\t\tmyEvents={true} />);\r\n\t\t\t\t}\r\n\r\n        //events.reverse();\r\n\r\n\t\t\t\tlet pagination;\r\n\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\t\t\t\t\tif (pages > 5 && currentPage >= 3){\r\n            \t\t\tfor (let i = currentPage - 2; i <= currentPage + 2 && i<=pages; i++) {\r\n                 \t\tlet active = i === currentPage ? 'active' : '';\r\n               \t\t\tlinks.push(\r\n                \t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t<Link to={\"/myevents/\" + i}  className=\"page-link\">{i}</Link>\r\n                \t\t</li>\r\n             \t\t\t\t );\r\n            \t\t\t}\r\n          \t\t\t}\r\n\r\n          \t\t\telse if (pages > 5 && currentPage < 3){\r\n           \t\t\t\t for (let i = 1 ; i <= 5 && i<=pages; i++) {\r\n              \t\t\tlet active = i === currentPage ? 'active' : '';\r\n              \t\t\tlinks.push(\r\n                \t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/myevents/\" + i}  className=\"page-link\">{i}</Link>\r\n                \t\t\t</li>\r\n              \t\t\t\t\t);\r\n           \t\t\t\t\t}\r\n          \t\t\t\t}\r\n\t\t\t\t\telse{\r\n            \t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/myevents/\" + i}  className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n       \t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t{myEvents}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"event-page-wrapper\">\r\n\r\n\t\t\t\t<h2 className=\"col-md-10\"><i className=\"fa fa-calendar-alt \"></i> My{this.state.isActive ?' Active':' Past'}  Events</h2>\r\n\t\t\t\t<div className=\"input-group input-group-lg mb-2\">\r\n\t\t\t\t<button className=\"btn rounded-pill btn-dark col-md-2 mx-2 mt-2\"  onClick={this.ActiveEvent} >Active Events</button>\r\n\t\t\t\t<button className=\"btn rounded-pill btn-dark col-md-2 mx-2 mt-2\"  onClick={this.PastEvent} >Past Events</button>\r\n        \t\t<div className=\"input-group-prepend ml-2 mt-2\">\r\n         \t\t<span className=\"input-group-text rounded-left  search-icon float-right\"  id=\"inputGroup-sizing-lg\"><i className=\"fa fa-search\"></i>&nbsp;Search </span>\r\n        \t\t</div>\r\n        \t\t<input type=\"text\" value={this.state.value} onChange={this.updateSearch.bind(this)} className=\"form-control mr-2 mt-2 col-md-6\" aria-label=\"Large\" aria-describedby=\"inputGroup-sizing-sm\" />\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.loadBlockchain();\r\n\t\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isMounted = false;\r\n\t\t}\r\n\r\n\r\n}\r\n\r\n\r\n\r\nMyEvents.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(MyEvents, mapStateToProps);\r\nexport default AppContainer;\r\n","import React from 'react';\r\n\r\nfunction EventNotFound() {\r\n\treturn (\r\n\t\t<div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">Event Not Found!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"sweat\"></span></p>\r\n\t\t\t<p>Please make sure you entered the correct url.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EventNotFound;","import React, { Component } from 'react';\r\n\r\n\r\nclass Clock extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            days:0,\r\n            hours:0,\r\n            minutes:0,\r\n            seconds:0,\r\n            dateNow:0,\r\n        }\r\n        this._isMounted = false;\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        if(this._isMounted){setInterval(()=>this.getTimeUntil(this.props.deadline),1000)}\r\n    }\r\n    \r\n    async getTimeUntil(deadline){\r\n        if (this._isMounted){\r\n        const dateTime = Date.now();\r\n        const dateNow = Math.floor(dateTime / 1000);\r\n        const time = await Date.parse(deadline) - Date.parse(new Date());\r\n        const seconds = await Math.floor((time/1000) %60);\r\n        const minutes = await Math.floor((time/1000/60) %60);\r\n        const hours = await Math.floor(time/(1000*60*60) %24);\r\n        const days = await Math.floor(time/(1000*60*60*24));\r\n        //console.log(this.props.event_unix,'days',  days, 'hours', hours, 'minutes', minutes, 'seconds',seconds );\r\n        this.setState({days,hours,minutes,seconds,dateNow});}\r\n    }\r\n    \r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n    }\r\n    \r\n    render() {\r\n     if(this.props.event_unix < this.state.dateNow)\r\n        return(           \r\n        <div className = \"justify-content-center\">     \r\n            <div className = \"countdownEnded col-lg-3 mb-3\">\r\n                <div className=\"box\">\r\n                    <p className=\"mt-1 mb-1\">\r\n                    <span> This event has already ended.</span>\r\n                    </p>\r\n                </div>\r\n            </div>             \r\n        </div>);\r\n                                             \r\n     else\r\n       return (\r\n        <div className = \"countdown col-lg-5 col-md-5\">\r\n           <div className=\"box\"> \r\n                <h5 className=\"mt-2 mb-1\">This Event Will Close In</h5>\r\n           </div>\r\n\r\n            <div className=\"clock\">\r\n                <p >{this.state.days} Days</p> \r\n                <p>{this.state.hours} Hours</p>\r\n                <p> {this.state.minutes} Minutes</p>\r\n                <p> {this.state.seconds} Seconds</p>\r\n            </div>   \r\n        </div>  \r\n        );\r\n    }\r\n}\r\nexport default Clock;","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport QrReader from 'react-qr-reader'\r\n\r\nclass CheckUser extends Component {\r\n    constructor(props, context) {\r\n\t\tsuper(props);\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.state = {\r\n\t\t\ttab: 1,\r\n\t\t\twrong_address: false,\r\n\t\t\tstatus: false,\r\n\t\t\trequests: {\r\n\t\t\t\tticketsOfUser: false,\r\n\t\t\t\tlistOfTickets: false,\r\n\t\t\t\trequestsDone: false\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.address = null;\r\n\t\tthis.ticketsOfUser = null;\r\n\t\tthis.listOfTickets = [];\r\n\t}\r\n\r\n\tchangeTab = (tab, event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\ttab: tab\r\n\t\t});\r\n\t}\r\n\r\n\tcheckManual = () => {\r\n\t\tif (!this.address.value || !this.context.drizzle.web3.utils.isAddress(this.address.value)) {\r\n\t\t\tthis.setState({wrong_address: true});\r\n\t\t} else {\r\n\t\t\tthis.runChecking(this.address.value);\r\n\t\t}\r\n\t}\r\n\r\n\tcheckQR = (data) => {\r\n\t\tif (data) {\r\n\t\t\tif (this.context.drizzle.web3.utils.isAddress(data)) {\r\n\t\t\t\tthis.runChecking(data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trunChecking = (address) => {\r\n\t\tthis.ticketsOfUser = this.contracts['OpenEvents'].methods.ticketsOf.cacheCall(address);\r\n\t\tthis.setState({\r\n\t\t\twrong_address: false,\r\n\t\t\trequests: {\r\n\t\t\t\tticketsOfUser: true,\r\n\t\t\t\tlistOfTickets: false,\r\n\t\t\t\trequestsDone: false\r\n\t\t\t},\r\n\t\t\tstatus: false\r\n\t\t});\r\n\t}\r\n\r\n\tcheckTickets = () => {\r\n\t\tif (\r\n\t\t\tthis.state.requests.ticketsOfUser &&\r\n\t\t\tthis.ticketsOfUser !== null &&\r\n\t\t\ttypeof this.props.contracts['OpenEvents'].ticketsOf[this.ticketsOfUser] !== 'undefined' &&\r\n\t\t\t!this.state.requests.listOfTickets\r\n\t\t) {\r\n\t\t\tlet tickets = this.props.contracts['OpenEvents'].ticketsOf[this.ticketsOfUser].value;\r\n\r\n\t\t\tfor (let i = 0; i < tickets.length; i++) {\r\n\t\t\t\tthis.listOfTickets.push(this.contracts['OpenEvents'].methods.getTicket.cacheCall(tickets[i]));\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\trequests: {\r\n\t\t\t\t\tticketsOfUser: true,\r\n\t\t\t\t\tlistOfTickets: true,\r\n\t\t\t\t\trequestsDone: false\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.state.requests.listOfTickets) {\r\n\t\t\tlet loading = false;\r\n\t\t\tlet found = false;\r\n\r\n\t\t\tfor (let i = 0; i < this.listOfTickets.length; i++) {\r\n\t\t\t\tif (typeof this.props.contracts['OpenEvents'].getTicket[this.listOfTickets[i]] === 'undefined') {\r\n\t\t\t\t\tloading = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.props.contracts['OpenEvents'].getTicket[this.listOfTickets[i]].value[0] === this.props.event_id) {\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!loading) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\trequests: {\r\n\t\t\t\t\t\tticketsOfUser: false,\r\n\t\t\t\t\t\tlistOfTickets: false,\r\n\t\t\t\t\t\trequestsDone: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstatus: found\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.ticketsOfUser = null;\r\n\t\t\t\tthis.listOfTickets = [];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet body, message;\r\n\t\tif (this.state.tab === 1) {\r\n\t\t\tlet warning = this.state.wrong_address ? 'is-invalid' : '';\r\n\t\t\tbody =\r\n\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"address\">Ethereum address</label>\r\n\t\t\t\t\t\t<input type=\"text\" className={\"form-control \" + warning} id=\"address\" ref={(input) => this.address = input} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"btn btn-dark\" onClick={this.checkManual}><i className=\"fas fa-receipt\"></i> Confirm Purchase</button>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t} else if (this.state.tab === 2) {\r\n\t\t\tbody =\r\n\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t<QrReader\r\n\t\t\t\t\t\tdelay={300}\r\n\t\t\t\t\t\tonScan={this.checkQR}\r\n\t\t\t\t\t\tonError={() => {return}}\r\n\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t}\r\n\r\n\r\n\t\tif (this.state.requests.ticketsOfUser || this.state.requests.listOfTickets) {\r\n\t\t\tmessage = <div className=\"alert alert-secondary\" role=\"alert\"><i className=\"fas fa-spinner\"></i> We are checking</div>;\r\n\t\t} else if (this.state.requests.requestsDone) {\r\n\t\t\tif (this.state.status) {\r\n\t\t\t\tmessage = <div className=\"alert alert-success\" role=\"alert\"><i className=\"fas fa-check-circle\"></i> User has ticket to this event</div>;\r\n\t\t\t} else {\r\n\t\t\t\tmessage = <div className=\"alert alert-danger\" role=\"alert\"><i className=\"fas fa-times\"></i> User has not ticket to this event</div>;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<hr className=\"mt-5\" />\r\n\t\t\t\t<h3>Confirm Purchase</h3>\r\n\t\t\t\t<p>Check if user has ticket to this event.</p>\r\n\t\t\t\t{message}\r\n\t\t\t\t<ul className=\"nav nav-pills nav-fill nav-justified mt-3\">\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<a href=\"\" className={\"nav-link \" + (this.state.tab === 1 ? 'active' : '')} onClick={(e) => this.changeTab(1, e)}>Enter Address</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li className=\"nav-item\">\r\n\t\t\t\t\t\t<a href=\"\" className={\"nav-link \" + (this.state.tab === 2 ? 'active' : '')} onClick={(e) => this.changeTab(2, e)}>QR Scanner</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.checkTickets();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.checkTickets();\r\n\t}\r\n}\r\n\r\nCheckUser.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(CheckUser, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from \"drizzle-react\";\r\nimport PropTypes from 'prop-types';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nimport ipfs from '../utils/ipfs';\r\nimport Web3 from 'web3';\r\n\r\nimport Loading from './Loading';\r\nimport EventNotFound from './EventNotFound';\r\nimport Clock from './Clock';\r\nimport { Bar, Doughnut, Chart } from 'react-chartjs-2';\r\nimport JwPagination from 'jw-react-pagination';\r\n\r\nimport CheckUser from './CheckUser';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\nimport {PhoenixDAO_Testnet_Token_ABI, PhoenixDAO_Testnet_Token_Address} from '../config/phoenixDAOcontract_testnet';\r\n\r\n//Numerical Setting\r\nlet numeral = require('numeral');\r\n//QR Code\r\nlet QRCode = require('qrcode.react');\r\n\r\n//Dougnut Chart Percentage\r\nvar originalDoughnutDraw = Chart.controllers.doughnut.prototype.draw;\r\nChart.helpers.extend(Chart.controllers.doughnut.prototype, {\r\n  draw: function() {\r\n    originalDoughnutDraw.apply(this, arguments);\r\n\r\n    var chart = this.chart;\r\n    var width = chart.chart.width,\r\n        height = chart.chart.height,\r\n        ctx = chart.chart.ctx;\r\n\r\n    var fontSize = 0.8\r\n    ctx.font = fontSize + \"em sans-serif\";\r\n    ctx.textBaseline = \"middle\";\r\n\r\n\tvar percentage = 0;\r\n\tvar total = chart.config.data.datasets[0].data[0] + chart.config.data.datasets[0].data[1]\r\n\tpercentage = numeral(chart.config.data.datasets[0].data[0] *100/total).format('0.00')\r\n\r\n\tif(chart.config.data.datasets[0].data[1] == -1){\r\n\tvar text = 'N/A',\r\n\ttextX = Math.round((width - ctx.measureText(text).width) / 2),\r\n\ttextY = height / 2.3;\r\n\t}\r\n\r\n\telse{\r\n\tvar text = percentage+'%',\r\n        textX = Math.round((width - ctx.measureText(text).width) / 2),\r\n\t\ttextY = height / 2.3;\r\n\t}\r\n    ctx.fillText(text, textX, textY);\r\n  }\r\n});\r\n\r\n//Pagination Style\r\nconst customStyles = {\r\n    ul: {\r\n\t\tborder:'rgb(10, 53, 88)'\r\n\r\n    },\r\n    li: {\r\n\t\tborder:'rgb(10, 53, 88)'\r\n\r\n    },\r\n    a: {\r\n\t\tcolor: '#007bff',\r\n\r\n\t},\r\n\r\n};\r\n\r\nclass MyEventStat extends Component {\r\n\r\n    constructor(props, context) {\r\n\t\ttry {\r\n\t\t\tvar contractConfig = {\r\n\t\t\t  contractName: 'PHNX',\r\n\t\t\t  web3Contract: new context.drizzle.web3.eth.Contract(\r\n\t\t\t\tPhoenixDAO_Testnet_Token_ABI,\r\n\t\t\t\tPhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  ),\r\n\r\n\t\t\t};\r\n\t\t\tcontext.drizzle.addContract(contractConfig);\r\n\r\n\t\t  } catch (e) {\r\n\t\t\t//console.log(\"ERROR\", PhoenixDAO_Testnet_Token_Address, e);\r\n\t\t  }\r\n      super(props);\r\n\t\t  this.contracts = context.drizzle.contracts;\r\n\t\t  this.event = this.contracts['OpenEvents'].methods.getEvent.cacheCall(this.props.match.params.id);\r\n\t\t  this.account = this.props.accounts[0];\r\n\t\t  this.state = {\r\n\t\t\t  load:true,\r\n\t\t\t  loading: false,\r\n\t\t\t  loaded: false,\r\n\t\t\t  description: null,\r\n\t\t\t  image: null,\r\n\t\t\t  ipfs_problem: false,\r\n\r\n\t\t\t  soldTicket:[],\r\n\t\t\t  latestblocks:5000000,\r\n\t\t\t  phoenixDAO_market:[],\r\n\r\n\t\t\t  fee:'',\r\n\t\t\t  token:'',\r\n\t\t\t  openEvents_address:'',\r\n\t\t\t  buyticket:'',\r\n\t\t\t  approve:'',\r\n\t\t\t  pageTransactions:[],\r\n\r\n\t\t  };\r\n\t\t  this.isCancelled = false;\r\n\t\t  this.onChangePage = this.onChangePage.bind(this);\r\n\t}\r\n\r\n\t//Get SoldTicket Data\r\n\tasync loadblockhain(){\r\n\r\n\tconst web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n\tconst openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n    if (this._isMounted){\r\n    this.setState({openEvents});\r\n    this.setState({phoenixDAOTransfer:[]});}\r\n\r\n    const blockNumber = await web3.eth.getBlockNumber();\r\n    if (this._isMounted){\r\n    this.setState({\r\n\t\tblocks:blockNumber - 50000,\r\n\t    latestblocks:blockNumber - 1,\r\n\t\tsoldTicket:[]\r\n\t\t});\r\n\t}\r\n\r\n    openEvents.getPastEvents(\"SoldTicket\",{filter:{eventId:this.props.match.params.id},fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n    .then(events=>{\r\n\r\n    this.setState({load:true})\r\n    var newest = events;\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n    if (this._isMounted){\r\n    this.setState({soldTicket:newsort,check:newsort});\r\n    this.setState({load:false})\r\n    this.setState({active_length:this.state.soldTicket.length});\r\n  \t}\r\n    }).catch((err)=>console.error(err))\r\n\r\n\t//Listen for Incoming Sold Tickets\r\n    openEvents.events.SoldTicket({filter:{eventId:this.props.match.params.id},fromBlock: blockNumber, toBlock:'latest'})\r\n  \t.on('data', (log) =>setTimeout(()=> {\r\n    this.setState({load:true});\r\n\r\n    this.setState({soldTicket:[...this.state.soldTicket,log]});\r\n    var newest = this.state.soldTicket\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n    if (this._isMounted){\r\n\r\n    this.setState({soldTicket:newsort});\r\n    this.setState({active_length:this.state.soldTicket.length})}\r\n    this.setState({load:false});\r\n    }),15000)\r\n  }\r\n\r\n  //get market cap & dollar value of PhoenixDAO\r\n  async getPhoenixDAOMarketValue(){\r\n\r\n\tfetch('https://api.coingecko.com/api/v3/simple/price?ids=phoenixdao&vs_currencies=usd&include_market_cap=true&include_24hr_change=ture&include_last_updated_at=ture')\r\n\t\t  .then(res => res.json())\r\n\t\t  .then((data) => {\r\n\t\t\tif (this._isMounted){\r\n\t\t\tthis.setState({phoenixDAO_market: data.phoenixdao })}\r\n\t\t  })\r\n\t\t  .catch(console.log)\r\n  }\r\n\r\n\tupdateIPFS = () => {\r\n\t\tif (\r\n\t\t\tthis.state.loaded === false &&\r\n\t\t\tthis.state.loading === false &&\r\n\t\t\ttypeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined' &&\r\n\t\t\t!this.props.contracts['OpenEvents'].getEvent[this.event].error\r\n\t\t) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true\r\n\t\t\t}, () => {\r\n\t\t\t\tipfs.get(this.props.contracts['OpenEvents'].getEvent[this.event].value[7]).then((file) => {\r\n\t\t\t\t\tlet data = JSON.parse(file[0].content.toString());\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tdescription: data.text,\r\n\t\t\t\t\t\t\timage: data.image,\r\n              locations: data.location\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tipfs_problem: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetImage = () => {\r\n\t\tlet image = '/images/loading_ipfs.png';\r\n\t\tif (this.state.ipfs_problem) image = '/images/problem_ipfs.png';\r\n\t\tif (this.state.image !== null) image = this.state.image;\r\n\t\treturn image;\r\n\t}\r\n\r\n\tgetDescription = () => {\r\n\t\tlet description = <Loading />;\r\n\t\tif (this.state.ipfs_problem) description = <p><span role=\"img\" aria-label=\"monkey\"></span>We can not load description</p>;\r\n\t\tif (this.state.description !== null) description = <p>{this.state.description}</p>;\r\n\t\treturn description;\r\n\t}\r\n\r\n\tinquire = () =>{\r\n\t\tthis.setState({\r\n\t\t\tfee:this.props.contracts['OpenEvents'].getEvent[this.event].value[2],\r\n\t\t\ttoken:this.props.contracts['OpenEvents'].getEvent[this.event].value[3],\r\n\t\t\topenEvents_address:this.contracts['OpenEvents'].address,\r\n\t\t\tbuyticket:this.contracts['OpenEvents'].methods.buyTicket(this.props.match.params.id),\r\n\t\t\tapprove:this.contracts['PHNX'].methods.approve(this.contracts['OpenEvents'].address, this.props.contracts['OpenEvents'].getEvent[this.event].value[2])\r\n\t\t\t},()=>{\r\n\t\t\t\t  this.props.inquire(\r\n\t\t\t\t\t  this.props.id,\r\n\t\t\t\t\t  this.state.fee,\r\n\t\t\t\t\t  this.state.token,\r\n\t\t\t\t\t  this.state.openEvents_address,\r\n\t\t\t\t\t  this.state.buyticket,\r\n\t\t\t\t\t  this.state.approve)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n    getLocation = () => {\r\n    \tlet locations = []\r\n    \tif (this.state.ipfs_problem) locations = <p className=\"text-center mb-0 event-description\"><span role=\"img\" aria-label=\"monkey\"></span>We can not load location</p>;\r\n    \tif (this.state.locations !== null) {\r\n    \tlet place= this.state.locations\r\n    \tlocations = <span>Location: {place}</span>;\r\n    \t}\r\n    \treturn locations;\r\n\t}\r\n\r\n\t//Pagination Change Page\r\n\tonChangePage(pageTransactions) {\r\n\t\tthis.setState({ pageTransactions });\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\tlet body = <Loading />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined') {\r\n\t\t\tif (this.props.contracts['OpenEvents'].getEvent[this.event].error) {\r\n\t\t\t\tbody = <div className=\"text-center mt-5\"><span role=\"img\" aria-label=\"unicorn\"></span> PhoenixDAO Event not found</div>;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet event_data = this.props.contracts['OpenEvents'].getEvent[this.event].value;\r\n\t\t\t\tlet image = this.getImage();\r\n\t\t\t\tlet description = this.getDescription();\r\n\t\t\t\tlet locations = this.getLocation();\r\n\t\t\t\tlet buttonText = event_data[3]? \" Buy Ticket\": \" Get Ticket\";\r\n\r\n\t\t\t\tlet symbol = event_data[3] ? 'PhoenixDAO.png' : 'PhoenixDAO.png';\r\n\t\t\t\tlet price = this.context.drizzle.web3.utils.fromWei(event_data[2]);\r\n\t\t\t\tlet date = new Date(parseInt(event_data[1], 10) * 1000);\r\n\r\n\t\t\t\tlet max_seats = event_data[4] ? event_data[5] : '';\r\n\r\n\t\t\t\tlet disabled = false;\r\n\t\t\t\tlet disabledStatus;\r\n\t\t\t\tlet sold = true;\r\n\r\n\t\t\t\tif (event_data[4] && (Number(event_data[6]) >= Number(event_data[5]))) {\r\n\t\t\t\t\tdisabled = true;\r\n\t\t\t\t\tdisabledStatus = <span><span role=\"img\" aria-label=\"alert\"></span> No more tickets</span>;\r\n\t\t\t\t\tbuttonText = \" Sold Out\"\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (date.getTime() < new Date().getTime()) {\r\n\t\t\t\t\tdisabled = true;\r\n\t\t\t\t\tdisabledStatus = <span><span role=\"img\" aria-label=\"alert\"></span> This event has already ended.</span>;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.state.active_length <= 0){\r\n\t\t\t\t\tsold = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet current_revenue = price * event_data[6]\r\n\r\n\t\t\t\tlet unsold_revenue = numeral(price * (max_seats - event_data[6])).format('0,0.00');\r\n\r\n       \t\t\tlet rawCategory = event_data[8];\r\n\r\n        \t\tvar categoryRemovedDashes = rawCategory;\r\n        \t\tcategoryRemovedDashes = categoryRemovedDashes.replace(/-/g, ' ');\r\n\r\n        \t\tvar category = categoryRemovedDashes.toLowerCase()\r\n        \t\t.split(' ')\r\n        \t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n\t\t\t\t.join(' ');\r\n\r\n\t\t\t\t//Friendly URL Title\r\n\t\t\t\tlet rawTitle = event_data[0];\r\n      \t\t\tvar titleRemovedSpaces = rawTitle;\r\n\t  \t\t\ttitleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n\r\n      \t\t\tvar pagetitle = titleRemovedSpaces.toLowerCase()\r\n      \t\t\t.split(' ')\r\n      \t\t\t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n\t\t \t\t .join(' ');\r\n\t\t\t\tlet titleURL = \"https://rinkeby.phoenixevents.io/events/\" + pagetitle +\"/\" + this.props.match.params.id;\r\n\t\t\t\t//let titleURL = \"https://rinkeby.phoenixevents.io/event/\" + this.props.match.params.id;\r\n\t\t\t\tconsole.log(titleURL)\r\n\r\n\t\tif (this.props.accounts[0] !== event_data[9]){\r\n\t\t\tbody = <div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">Access Denied!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"sweat\"></span></p>\r\n\t\t\t<p>You do not have access to this page.</p>\r\n\t\t\t<p>If you are the owner of this event & wish to view the page, please sign in with <b>Metamask</b>.</p>\r\n\t\t\t</div>\r\n\t\t}\r\n\r\n\t\telse if(this.props.match.params.page === pagetitle){\r\n\t\t\t// Doughnut Chart Data\r\n\t\t\tthis.data = (canvas) => {\r\n\t\t\t\tconst ctx = canvas.getContext(\"2d\")\r\n\t\t\t\tconst gradient = ctx.createLinearGradient(100,180,100,100,200);\r\n\t\t\t\tgradient.addColorStop(1, 'white');\r\n\t\t\t\tgradient.addColorStop(0, 'black');\r\n\r\n\t\t\t\tconst gradient2 = ctx.createLinearGradient(100,120,100,100,200);\r\n\t\t\t\tgradient2.addColorStop(1, 'rgb(104, 160, 206)');\r\n\t\t\t\tgradient2.addColorStop(0, 'rgb(100, 101, 102)');\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabels: ['Current Revenue','Unsold Tickets'],\r\n\t\t\t\t\tdatasets: [{\r\n\t\t\t\t\t\tlabel:'PHNX',\r\n\t\t\t\t\t\tfontColor:'black',\r\n\t\t\t\t\t\tbackgroundColor: [gradient2,gradient,gradient],\r\n\t\t\t\t\t\tborderColor: 'rgb(228, 83, 138)',\r\n\t\t\t\t\t\tborderWidth: .8,\r\n\t\t\t\t\t\thoverBackgroundColor: [gradient2,gradient],\r\n\t\t\t\t\t\thoverBorderColor: 'pink',\r\n\t\t\t\t\t\thoverBorderWidth:1,\r\n\t\t\t\t\t\tweight:5,\r\n\t\t\t\t\t\tborderAlign:'center',\r\n\t\t\t\t\t\tdata: [price * event_data[6],price * (max_seats - event_data[6])],\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n            \t\t\t<h3>{event_data[0]}</h3>\r\n            \t\t\t<br />\r\n           \t\t\t\t{description}\r\n            \t\t\t<button className=\"btn btn-dark\" onClick={this.inquire} disabled={disabled}><i className=\"fas fa-ticket-alt\"></i>{buttonText}</button>\r\n            \t\t\t<label className=\"pl-2 small\">{disabledStatus}</label>\r\n            \t\t\t<br/>\r\n            \t\t\t<br/>\r\n           \t\t\t\t<br/>\r\n\r\n\t\t\t\t\t\t<div className=\"card event-hero-sidebar\">\r\n\t\t\t\t\t\t\t<img className=\"card-img-top event-image\" src={image} alt=\"Event\" />\r\n\t\t\t\t\t\t\t<div className=\"card-header event-header\">\r\n\t\t\t\t\t\t\t<img className=\"float-left\" src={makeBlockie(event_data[9])} alt=\"User Identicon\" />\r\n\t\t\t\t\t\t</div>\r\n\r\n                \t\t<div className=\"card-body\">\r\n                \t\t<h5 className=\"card-title event-title\">\r\n                \t\t\t{event_data[0]}\r\n                \t\t</h5>\r\n      \t\t\t\t\t\t{description}\r\n      \t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<ul className=\"list-group list-group-flush\">\r\n                  \t\t<li className=\"list-group-item \">{locations}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">Category: {category}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">Price: <img src={'/images/'+symbol} className=\"event_price-image\"  alt=\"Event Price\" /> {event_data[3]? numeral(price).format('0,0'):'Free'}\r\n\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t{event_data[3]?numeral(price * this.state.phoenixDAO_market.usd).format('0,0.00'):''}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">{date.toLocaleDateString()} at {date.toLocaleTimeString()}</li>\r\n\t\t\t\t\t\t<li className=\"list-group-item\">Tickets: {event_data[6]}/{max_seats}</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{this._isMounted && <Clock deadline = {date} event_unix = {event_data[1]}/>}\r\n\r\n\t\t\t\t\t\t<div className=\"new-transaction-wrapper\"><h4 className=\"transactions\">Ticket Purchases</h4>\r\n  \t\t\t\t\t\t{this.state.load &&<Loading/>}\r\n  \t\t\t\t\t\t{this.state.pageTransactions.map((sold,index)=>(<p className=\"sold_text col-md-12\" key={index}>\r\n\t\t\t\t\t\t\t  <img className=\"float-left blockie\" src={makeBlockie(sold.returnValues.buyer)} />\r\n\t\t\t\t\t\t\t  <a href={\"https://rinkeby.etherscan.io/address/\"+sold.returnValues.buyer} target =\"blank\">\r\n\t\t\t\t\t\t\t\t  {sold.returnValues.buyer.slice(0,10)+'...'}</a> has <a href={\"https://rinkeby.etherscan.io/tx/\"+sold.transactionHash} target =\"blank\">bought</a> 1 ticket for <strong>{event_data[0]}</strong>.</p>))}\r\n  \t\t\t\t\t\t{!sold &&  <p className=\"sold_text col-md-12 no-tickets\">There are currently no purchases for this ticket.</p>}\r\n  \t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"pagination\">\r\n\t\t\t\t\t\t<JwPagination items={this.state.soldTicket} onChangePage={this.onChangePage} maxPages={5} pageSize={5} styles={customStyles} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"new-transaction-wrapper\"><h4 className=\"transactions\"><i className=\"fas fa-ticket-alt\"></i> Ticket Sales Info</h4>\r\n  \t\t\t\t\t\t{this.state.load &&<Loading/>}\r\n\t\t\t\t\t\t  <div className=\"sold_text col-12\">\r\n\r\n\t\t\t\t\t\t  \t<p className=\"myQR text-center col-md-3\">\r\n\t\t\t\t\t\t\t  <QRCode value={titleURL}\r\n\t\t\t\t\t\t\t  size={128}\r\n\t\t\t\t\t\t\t  bgColor=\"transparent\"\r\n\t\t\t\t\t\t\t  fgColor=\"black\"\r\n\t\t\t\t\t\t\t  level={\"H\"}\r\n\t\t\t\t\t\t\t  imageSettings = {{\r\n\t\t\t\t\t\t\t\t  src:'/images/PhoenixDAO.png',\r\n\t\t\t\t\t\t\t\t  height:34,\r\n\t\t\t\t\t\t\t\t  width:34,\r\n\t\t\t\t\t\t\t\t  x: null,\r\n    \t\t\t\t\t\t\t  y:53,\r\n    \t\t\t\t\t\t\t  excavate: false,\r\n\t\t\t\t\t\t\t  }}/>\r\n\t\t\t\t\t\t\t<p>Event QR-Code</p>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"col-md-8\">Tickets Sold: {event_data[6]} Tickets\r\n\t\t\t\t\t\t \t</p>\r\n\r\n\t\t\t\t\t\t\t{event_data[4]? <p className=\"col-md-8\">Available Tickets: {max_seats - event_data[6]} Tickets\r\n\t\t\t\t\t\t\t</p>:<p className=\"col-md-12\">Available Tickets: Unlimited</p>}\r\n\r\n\r\n\t\t\t\t\t\t\t{event_data[4]? <p className=\"col-md-8\">Total Tickets For Sale: {event_data[4] ? max_seats:'Unlimited'} Tickets\r\n\t\t\t\t\t\t\t</p>:<p className=\"col-md-12\">Total Tickets For Sale: Unlimited</p>}\r\n\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  </div>\r\n\r\n\t\t\t\t\t\t<div className=\"new-transaction-wrapper\">\r\n\t\t\t\t\t\t\t<h4 className=\"sales\"><i className=\"fas fa-hand-holding-usd\"></i> Ticket Revenue </h4>\r\n\r\n\t\t\t\t\t\t<div className=\"sold_text col-12\">\r\n\t\t\t\t\t\t<div className=\"chart col-md-3\">\r\n\t\t\t\t\t\t<Doughnut data={this.data}\r\n    \t\t\t\t\t\toptions={{\r\n\r\n\t\t\t\t\t\t\tresponsive:true,\r\n\t\t\t\t\t\t\tmaintainAspectRatio:false,\r\n\t\t\t\t\t\t\tcutoutPercentage: 62,\r\n\r\n        \t\t\t\t\ttitle:{\r\n       \t\t\t\t\t\tdisplay: true,\r\n        \t\t\t\t\tposition:\"bottom\",\r\n       \t\t\t\t\t\ttext: 'PHNX Revenue',\r\n        \t\t\t\t\tfontSize: 16,\r\n        \t\t\t\t\tlineHeight:1.5,\r\n        \t\t\t\t\tpadding:1.6,\r\n\t\t\t\t\t\t\tfontColor:'white',\r\n\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\tlegend: {\r\n\t\t\t\t\t\t\t\tdisplay:false,\r\n\t\t\t\t\t\t\t\tlabels: {\r\n\t\t\t\t\t\t\t\t\tfontColor: 'white',\r\n\t\t\t\t\t\t\t\t\tfontSize:11\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttooltips: {\r\n           \t\t\t\t\t\tenabled: true\r\n        \t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t}}/>\r\n\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t \t<p className=\"col-md-8\">Price Per Ticket: <img src={'/images/'+symbol} className=\"event_price-image2\"  alt=\"Event Price\" /> {event_data[3]? numeral(price).format('0,0'):'Free'}\r\n\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image2\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t{event_data[3]?numeral(price * this.state.phoenixDAO_market.usd).format('0,0.00'):''}\r\n\t\t\t\t\t\t \t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"col-md-8\">Current Revenue For Sold Tickets: <img src={'/images/'+symbol} className=\"event_price-image2\"  alt=\"Event Price\" /> {event_data[3]? numeral(price * event_data[6]).format('0,0'):(price * event_data[6])}\r\n\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image2\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t{event_data[3]?numeral(price * event_data[6] * this.state.phoenixDAO_market.usd).format('0,0.00'):''}\r\n\t\t\t\t\t\t \t</p>\r\n\r\n\t\t\t\t\t\t\t{event_data[4]? <p className=\"col-md-8\">Expected Revenue For Remaining Tickets: <img src={'/images/'+symbol} className=\"event_price-image2\"  alt=\"Event Price\" /> {event_data[3]? numeral(price * (max_seats - event_data[6])).format('0,0'):price * (max_seats - event_data[6])}\r\n\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image2\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t{event_data[3]?numeral(price * (max_seats - event_data[6]) * this.state.phoenixDAO_market.usd).format('0,0.00'):''}\r\n\t\t\t\t\t\t\t</p>:<p className=\"col-md-12\">Expected Revenue For Remaining Tickets: Unlimited</p>}\r\n\r\n\r\n\t\t\t\t\t\t\t{event_data[4]? <p className=\"col-md-8\">Expected Revenue For Sold Out Event: <img src={'/images/'+symbol} className=\"event_price-image2\"  alt=\"Event Price\" /> {event_data[3]? numeral(price * max_seats).format('0,0'):price * max_seats}\r\n\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image2\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t{event_data[3]?numeral(price * max_seats * this.state.phoenixDAO_market.usd).format('0,0.00'):''}\r\n\t\t\t\t\t\t\t</p>:<p className=\"col-md-12\">Expected Revenue For Sold Out Event: Unlimited</p>}\r\n\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n            <div className=\"col-12\">\r\n              <div className=\"mt-5\">\r\n              </div>\r\n              <CheckUser event_id={this.props.match.params.id} />\r\n              </div>\r\n\t\t\t<hr/>\r\n\t\t\t</div>;\r\n\t\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tbody = <EventNotFound/>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2><i className=\"fa fa-calendar-alt\"></i> Event</h2>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t\t<hr/>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.updateIPFS();\r\n\t\tthis.loadblockhain();\r\n\t\tthis.getPhoenixDAOMarketValue();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.updateIPFS();\r\n\t\t//this.afterApprove();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.isCancelled = true;\r\n\t\tthis._isMounted = false;\r\n\t}\r\n}\r\n\r\nMyEventStat.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts,\r\n\t\ttransactionStack: state.transactionStack\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(MyEventStat, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from \"drizzle-react\";\r\nimport PropTypes from 'prop-types';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nimport ipfs from '../utils/ipfs';\r\nimport Web3 from 'web3';\r\n\r\nimport {\r\n\tEmailShareButton,\r\n\tFacebookShareButton,\r\n\tLinkedinShareButton,\r\n\tRedditShareButton,\r\n\tTelegramShareButton,\r\n\tTwitterShareButton,\r\n\tWhatsappShareButton\r\n} from \"react-share\";\r\n\r\nimport {\r\n\tEmailIcon,\r\n\tFacebookIcon,\r\n\tLinkedinIcon,\r\n\tRedditIcon,\r\n\tTelegramIcon,\r\n\tTwitterIcon,\r\n\tWhatsappIcon\r\n} from \"react-share\";\r\n\r\nimport Loading from './Loading';\r\nimport EventNotFound from './EventNotFound';\r\nimport Clock from './Clock';\r\nimport JwPagination from 'jw-react-pagination';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CheckUser from './CheckUser';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\nimport {PhoenixDAO_Testnet_Token_ABI, PhoenixDAO_Testnet_Token_Address} from '../config/phoenixDAOcontract_testnet';\r\n\r\nlet numeral = require('numeral');\r\n\r\nconst customStyles = {\r\n    ul: {\r\n\t\tborder:'rgb(10, 53, 88)'\r\n\r\n    },\r\n    li: {\r\n\t\tborder:'rgb(10, 53, 88)'\r\n\r\n    },\r\n    a: {\r\n\t\tcolor: '#007bff',\r\n\r\n\t},\r\n\r\n};\r\n\r\nclass EventPage extends Component {\r\n\r\n    constructor(props, context) {\r\n\t\ttry {\r\n\t\t\tvar contractConfig = {\r\n\t\t\t  contractName: 'PHNX',\r\n\t\t\t  web3Contract: new context.drizzle.web3.eth.Contract(\r\n\t\t\t\tPhoenixDAO_Testnet_Token_ABI,\r\n\t\t\t\tPhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  ),\r\n\r\n\t\t\t};\r\n\t\t\tcontext.drizzle.addContract(contractConfig);\r\n\t\t\t//Importing PhoenixDAO/OMG contracts\r\n\t\t\t// **** ENDS UP HERE, SO THIS WORKS\r\n\t\t\t/*console.log(\r\n\t\t\t  \"SUCCESS\",\r\n\t\t\t  PhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  context.drizzle.contracts\r\n\t\t\t);*/\r\n\t\t  } catch (e) {\r\n\t\t\t//console.log(\"ERROR\", PhoenixDAO_Testnet_Token_Address, e);\r\n\t\t  }\r\n      super(props);\r\n\t\t  this.contracts = context.drizzle.contracts;\r\n\t\t  this.event = this.contracts['OpenEvents'].methods.getEvent.cacheCall(this.props.match.params.id);\r\n\t\t  this.account = this.props.accounts[0];\r\n\t\t  this.state = {\r\n\t\t\t  load:true,\r\n\t\t\t  loading: false,\r\n\t\t\t  loaded: false,\r\n\t\t\t  description: null,\r\n\t\t\t  image: null,\r\n\t\t\t  ipfs_problem: false,\r\n\r\n\t\t\t  soldTicket:[],\r\n\t\t\t  latestblocks:5000000,\r\n\t\t\t  PhoenixDAO_market:[],\r\n\r\n\t\t\t  fee:'',\r\n\t\t\t  token:'',\r\n\t\t\t  openEvents_address:'',\r\n\t\t\t  buyticket:'',\r\n\t\t\t  approve:'',\r\n\t\t\t  pageTransactions:[],\r\n\r\n\t\t  };\r\n\t\t  this.isCancelled = false;\r\n\t\t  this.onChangePage = this.onChangePage.bind(this);\r\n\t}\r\n\r\n\t//Get SoldTicket Data\r\n\tasync loadblockhain(){\r\n\r\n\tconst web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n\tconst openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n    if (this._isMounted){\r\n    this.setState({openEvents});\r\n    this.setState({phoenixDAOTransfer:[]});}\r\n\r\n    const blockNumber = await web3.eth.getBlockNumber();\r\n    if (this._isMounted){\r\n    this.setState({\r\n\t\tblocks:blockNumber - 50000,\r\n\t    latestblocks:blockNumber - 1,\r\n\t\tsoldTicket:[]\r\n\t\t});\r\n\t}\r\n\r\n    openEvents.getPastEvents(\"SoldTicket\",{filter:{eventId:this.props.match.params.id},fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n    .then(events=>{\r\n\r\n    this.setState({load:true})\r\n    var newest = events;\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n    if (this._isMounted){\r\n    this.setState({soldTicket:newsort,check:newsort});\r\n    this.setState({load:false})\r\n    this.setState({active_length:this.state.soldTicket.length});\r\n\r\n  \t}\r\n    }).catch((err)=>console.error(err))\r\n\r\n\t//Listen for Incoming Sold Tickets\r\n    openEvents.events.SoldTicket({filter:{eventId:this.props.match.params.id},fromBlock: blockNumber, toBlock:'latest'})\r\n  \t.on('data', (log) =>setTimeout(()=> {\r\n    this.setState({load:true});\r\n\r\n    this.setState({soldTicket:[...this.state.soldTicket,log]});\r\n    var newest = this.state.soldTicket\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n    if (this._isMounted){\r\n\r\n    this.setState({soldTicket:newsort});\r\n    this.setState({active_length:this.state.soldTicket.length})}\r\n    this.setState({load:false});\r\n    }),15000)\r\n  }\r\n\r\n  //get market cap & dollar value of PhoenixDAO\r\n  async getPhoenixDAOMarketValue(){\r\n\r\n\tfetch('https://api.coingecko.com/api/v3/simple/price?ids=phoenixdao&vs_currencies=usd&include_market_cap=true&include_24hr_change=ture&include_last_updated_at=ture')\r\n\t\t  .then(res => res.json())\r\n\t\t  .then((data) => {\r\n\t\t\tif (this._isMounted){\r\n\t\t\tthis.setState({PhoenixDAO_market: data.phoenixdao })}\r\n\t\t  })\r\n\t\t  .catch(console.log)\r\n  }\r\n\r\n\tupdateIPFS = () => {\r\n\t\tif (\r\n\t\t\tthis.state.loaded === false &&\r\n\t\t\tthis.state.loading === false &&\r\n\t\t\ttypeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined' &&\r\n\t\t\t!this.props.contracts['OpenEvents'].getEvent[this.event].error\r\n\t\t) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: true\r\n\t\t\t}, () => {\r\n\t\t\t\tipfs.get(this.props.contracts['OpenEvents'].getEvent[this.event].value[7]).then((file) => {\r\n\t\t\t\t\tlet data = JSON.parse(file[0].content.toString());\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tdescription: data.text,\r\n\t\t\t\t\t\t\timage: data.image,\r\n              locations: data.location\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tif (!this.isCancelled) {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\t\tloaded: true,\r\n\t\t\t\t\t\t\tipfs_problem: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tgetImage = () => {\r\n\t\tlet image = '/images/loading_ipfs.png';\r\n\t\tif (this.state.ipfs_problem) image = '/images/problem_ipfs.png';\r\n\t\tif (this.state.image !== null) image = this.state.image;\r\n\t\treturn image;\r\n\t}\r\n\r\n\tgetDescription = () => {\r\n\t\tlet description = <Loading />;\r\n\t\tif (this.state.ipfs_problem) description = <p><span role=\"img\" aria-label=\"monkey\"></span>We can not load description</p>;\r\n\t\tif (this.state.description !== null) description = <p>{this.state.description}</p>;\r\n\t\treturn description;\r\n\t}\r\n\r\n\r\n\tinquire = () =>{\r\n\t\tthis.setState({\r\n\t\t\tfee:this.props.contracts['OpenEvents'].getEvent[this.event].value[2],\r\n\t\t\ttoken:this.props.contracts['OpenEvents'].getEvent[this.event].value[3],\r\n\t\t\topenEvents_address:this.contracts['OpenEvents'].address,\r\n\t\t\tbuyticket:this.contracts['OpenEvents'].methods.buyTicket(this.props.match.params.id),\r\n\t\t\tapprove:this.contracts['PHNX'].methods.approve(this.contracts['OpenEvents'].address, this.props.contracts['OpenEvents'].getEvent[this.event].value[2])\r\n\t\t\t},()=>{\r\n\t\t\t\t  this.props.inquire(\r\n\t\t\t\t\t  this.props.id,\r\n\t\t\t\t\t  this.state.fee,\r\n\t\t\t\t\t  this.state.token,\r\n\t\t\t\t\t  this.state.openEvents_address,\r\n\t\t\t\t\t  this.state.buyticket,\r\n\t\t\t\t\t  this.state.approve)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n      getLocation = () => {\r\n    \t\tlet locations = []\r\n    \t\tif (this.state.ipfs_problem) locations = <p className=\"text-center mb-0 event-description\"><span role=\"img\" aria-label=\"monkey\"></span>We can not load location</p>;\r\n    \t\tif (this.state.locations !== null) {\r\n    \t\t\tlet place= this.state.locations\r\n    \t\t\tlocations = <span>Location: {place}</span>;\r\n    \t\t}\r\n    \t\treturn locations;\r\n\t\t}\r\n\r\n\t\tonChangePage(pageTransactions) {\r\n\t\t\tthis.setState({ pageTransactions });\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\tlet body = <Loading />;\r\n\r\n\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEvent[this.event] !== 'undefined') {\r\n\t\t\tif (this.props.contracts['OpenEvents'].getEvent[this.event].error) {\r\n\t\t\t\tbody = <div className=\"text-center mt-5\"><span role=\"img\" aria-label=\"unicorn\"></span> PhoenixDAO Event not found</div>;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet event_data = this.props.contracts['OpenEvents'].getEvent[this.event].value;\r\n\r\n\t\t\t\tlet shareUrl = window.location;\r\n\t\t\t\tlet title = event_data[0];\r\n\r\n        let event_tit\r\n\t\t\t\tlet image = this.getImage();\r\n\t\t\t\tlet description = this.getDescription();\r\n\t\t\t\tlet locations = this.getLocation();\r\n\t\t\t\tlet buttonText = event_data[3]? \" Buy Ticket\": \" Get Ticket\";\r\n\r\n\t\t\t\tlet symbol = event_data[3] ? 'PhoenixDAO.png' : 'PhoenixDAO.png';\r\n\t\t\t\tlet price = this.context.drizzle.web3.utils.fromWei(event_data[2]);\r\n\t\t\t\tlet date = new Date(parseInt(event_data[1], 10) * 1000);\r\n\r\n\t\t\t\tlet max_seats = event_data[4] ? event_data[5] : '';\r\n\r\n\t\t\t\tlet disabled = false;\r\n\t\t\t\tlet disabledStatus;\r\n\t\t\t\tlet sold = true;\r\n\r\n\t\t\t\tif (event_data[4] && (Number(event_data[6]) >= Number(event_data[5]))) {\r\n\t\t\t\t\tdisabled = true;\r\n\t\t\t\t\tdisabledStatus = <span><span role=\"img\" aria-label=\"alert\"></span> No more tickets</span>;\r\n\t\t\t\t\tbuttonText = \" Sold Out\"\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (date.getTime() < new Date().getTime()) {\r\n\t\t\t\t\tdisabled = true;\r\n\t\t\t\t\tdisabledStatus = <span><span role=\"img\" aria-label=\"alert\"></span> This event has already ended.</span>;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(this.state.active_length <= 0){\r\n\t\t\t\t\tsold=false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet myEvent = false;\r\n\t\t\t\tif(event_data[9] === this.account){\r\n\t\t\t\t myEvent = true;\r\n\t\t\t\t}\r\n\r\n        let rawCategory = event_data[8];\r\n\r\n        var categoryRemovedDashes = rawCategory;\r\n        categoryRemovedDashes = categoryRemovedDashes.replace(/-/g, ' ');\r\n\r\n        var category = categoryRemovedDashes.toLowerCase()\r\n        .split(' ')\r\n        .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n\t\t.join(' ');\r\n\t\t//Friendly URL Title\r\n\t\tlet rawTitle = event_data[0];\r\n      \tvar titleRemovedSpaces = rawTitle;\r\n\t  \ttitleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n\r\n      \tvar pagetitle = titleRemovedSpaces.toLowerCase()\r\n      \t.split(' ')\r\n      \t.map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n      \t.join(' ');\r\n\r\n\t\tif(this.props.match.params.page === pagetitle){\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div className=\"row\">\r\n\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\r\n            \t<h3>{event_data[0]}</h3>\r\n           \t\t <br />\r\n           \t\t {description}\r\n            \t<button className=\"btn btn-dark\" onClick={this.inquire} disabled={disabled}><i className=\"fas fa-ticket-alt\"></i>{buttonText}</button>\r\n            \t<label className=\"pl-2 small\">{disabledStatus}</label>\r\n\r\n            \t<br />\r\n\t\t\t\t{myEvent === true && <Link to ={\"/event-stat/\"+pagetitle+\"/\" + this.props.match.params.id}>\r\n\t\t\t\t<button className=\"btn btn-dark mt-2\"><i className=\"fas fa-chart-bar\"></i> View Event Stat</button>\r\n\t\t\t\t</Link>}\r\n\t\t\t\t<div className=\"social-share-btns-div\">\r\n\t\t\t\t\t<EmailShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<EmailIcon size={32} round />\r\n\t\t\t\t\t</EmailShareButton>\r\n\r\n\t\t\t\t\t<FacebookShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<FacebookIcon size={32} round />\r\n\t\t\t\t\t</FacebookShareButton>\r\n\r\n\t\t\t\t\t<LinkedinShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<LinkedinIcon size={32} round />\r\n\t\t\t\t\t</LinkedinShareButton>\r\n\r\n\t\t\t\t\t<RedditShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<RedditIcon size={32} round />\r\n\t\t\t\t\t</RedditShareButton>\r\n\r\n\t\t\t\t\t<TelegramShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<TelegramIcon size={32} round />\r\n\t\t\t\t\t</TelegramShareButton>\r\n\r\n\t\t\t\t\t<TwitterShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<TwitterIcon size={32} round />\r\n\t\t\t\t\t</TwitterShareButton>\r\n\r\n\t\t\t\t\t<WhatsappShareButton\r\n\t\t\t\t\t\turl={shareUrl}\r\n\t\t\t\t\t\ttitle={title}\r\n\t\t\t\t\t\tresetButtonStyle={false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<WhatsappIcon size={32} round />\r\n\t\t\t\t\t</WhatsappShareButton>\r\n\t\t\t\t</div>\r\n\r\n           \t\t<br />\r\n           \t \t<br />\r\n\r\n\t\t\t\t\t\t\t<div className=\"card event-hero-sidebar\">\r\n\t\t\t\t\t\t\t\t<img className=\"card-img-top event-image\" src={image} alt=\"Event\" />\r\n\t\t\t\t\t\t\t\t<div className=\"card-header event-header\">\r\n\t\t\t\t\t\t\t\t\t<img className=\"float-left\" src={makeBlockie(event_data[9])} alt=\"User Identicon\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n                \t\t<div className=\"card-body\">\r\n                  \t\t<h5 className=\"card-title event-title\">\r\n                    \t{event_data[0]}\r\n                  \t\t</h5>\r\n      \t\t\t\t\t\t{description}\r\n      \t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<ul className=\"list-group list-group-flush\">\r\n                  \t\t\t\t\t<li className=\"list-group-item \">{locations}</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Category: {category}</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Price: <img src={'/images/'+symbol} className=\"event_price-image\"  alt=\"Event Price\" /> {event_data[3]? numeral(price).format('0,0'):'Free'}\r\n\t\t\t\t\t\t\t\t\t{event_data[3] ? ' or ':''}\r\n\t\t\t\t\t\t\t\t\t{event_data[3]? <img src={'/images/dollarsign.png'} className=\"event_price-image\"  alt=\"Event Price\" />:''}\r\n\t\t\t\t\t\t\t\t\t{event_data[3]?numeral(price * this.state.PhoenixDAO_market.usd).format('0,0.00'):''}</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\">{date.toLocaleDateString()} at {date.toLocaleTimeString()}</li>\r\n\t\t\t\t\t\t\t\t\t<li className=\"list-group-item\">Tickets: {event_data[6]}/{max_seats}</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this._isMounted && <Clock deadline = {date} event_unix = {event_data[1]}/>}\r\n              \t\t\t<div className=\"new-transaction-wrapper\"><h4 className=\"transactions\">Ticket Purchases</h4>\r\n  \t\t\t\t\t\t{this.state.load &&<Loading/>}\r\n  \t\t\t\t\t\t{this.state.pageTransactions.map((sold,index)=>(<p className=\"sold_text col-md-12\" key={index}><img className=\"float-left blockie\" src={makeBlockie(sold.returnValues.buyer)} /> Someone bought 1 ticket for <strong>{event_data[0]}</strong>.</p>))}\r\n  \t\t\t\t\t\t{!sold &&  <p className=\"sold_text col-md-12 no-tickets\">There are currently no purchases for this ticket.</p>}\r\n  \t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"pagination\">\r\n\t\t\t\t\t\t<JwPagination items={this.state.soldTicket} onChangePage={this.onChangePage} maxPages={5} pageSize={5} styles={customStyles} />\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\r\n            <div className=\"col-12\">\r\n              <div className=\"mt-5\">\r\n              </div>\r\n              <CheckUser event_id={this.props.match.params.id} />\r\n              </div>\r\n\t\t\t<hr/>\r\n\t\t\t</div>;\r\n\t\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\tbody = <EventNotFound/>;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"event-page-wrapper\">\r\n\t\t\t\t<h2><i className=\"fa fa-calendar-alt\"></i> Event</h2>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t\t<hr/>\r\n\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.updateIPFS();\r\n\t\tthis.loadblockhain();\r\n\t\tthis.getPhoenixDAOMarketValue();\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tthis.updateIPFS();\r\n\t\t//this.afterApprove();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.isCancelled = true;\r\n\t\tthis._isMounted = false;\r\n\t}\r\n}\r\n\r\nEventPage.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts,\r\n\t\ttransactionStack: state.transactionStack\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(EventPage, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loading from './Loading';\r\nimport PhoenixDAOLoader from './PhoenixDAOLoader';\r\nimport Event from './Event';\r\n\r\nimport Web3 from 'web3';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\n\r\n\r\nimport topicsJson from '../config/topics.json';\r\n\r\n\r\nclass TopicLandingPage extends Component\r\n{\r\n  constructor(props, context)\r\n  {\r\n      super(props);\r\n\r\n      this.state = {\r\n        openEvents : '',\r\n        blocks : 5000000,\r\n        latestblocks :6000000,\r\n        blocks:0,\r\n        loading : true,\r\n        Topic_Events : [],\r\n        topic_copy:[],\r\n        active_length : '',\r\n        isOldestFirst:false,\r\n        isActive:true,\r\n        dateNow:''\r\n\r\n      };\r\n\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n      this.theTopic = this.getTopicData();\r\n      this.topicBackground = this.theTopic['image'];\r\n\r\n      this.ActiveEvent = this.ActiveEvent.bind(this);\r\n\t  \tthis.PastEvent = this.PastEvent.bind(this);\r\n      this.toggleSortDate = this.toggleSortDate.bind(this);\r\n\r\n\r\n\t}\r\n\r\n  componentDidUpdate()\r\n  {\r\n    //this.theTopic = this.getTopicData();\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n  {\r\n    this._isMounted = true;\r\n\t\tthis.loadBlockchain();\r\n    //this.theTopic = this.getTopicData();\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n  {\r\n\r\n\t}\r\n\r\n  topicClick(slug)\r\n  {\r\n    this.props.history.push(\"/topic/\"+slug+\"/\"+1);\r\n    this.theTopic = this.getTopicData();\r\n    this.loadBlockchain();\r\n    window.scrollTo(0, 180);\r\n  }\r\n\r\n  getLastURLSegment()\r\n  {\r\n    console.log(this.props.history.location.pathname);\r\n    let currentRoute = this.props.history.location.pathname;\r\n    let middleSegment = currentRoute.split('/')\r\n    //let lastSegment = currentRoute.substr(currentRoute.lastIndexOf('/') + 1);\r\n    return middleSegment[middleSegment.length - 2];\r\n  }\r\n\r\n  getTopicData() {\r\n    let topicSlug = this.getLastURLSegment();\r\n\r\n    let theTopic = topicsJson.filter(function (topic) {\r\n      return topic.slug == topicSlug;\r\n\r\n    });\r\n\r\n    return theTopic[0]\r\n\r\n    ;\r\n\r\n  }\r\n\r\n  //Loadblockchain Data\r\n  async loadBlockchain(){\r\n\r\n    const web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n    const openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n\r\n    if (this._isMounted){\r\n    this.setState({openEvents});\r\n    this.setState({Topic_Events:[],active_length:0});\r\n\r\n    const dateTime = Date.now();\r\n    const dateNow = Math.floor(dateTime / 1000);\r\n    const blockNumber = await web3.eth.getBlockNumber();\r\n\r\n    this.setState({dateNow})\r\n    this.setState({blocks:blockNumber});\r\n    this.setState({latestblocks:blockNumber - 1});\r\n    this.setState({Topic_Events:[]});\r\n\r\n    if(this.state.isActive){\r\n      this.loadActiveEvents()\r\n      }\r\n    else{\r\n      this.loadPastEvents()\r\n      }\r\n    }\r\n\r\n    openEvents.events.CreatedEvent({fromBlock: this.state.blocks, toBlock:'latest'})\r\n    .on('data', (log) => setTimeout(()=> {\r\n    if(this.state.isActive && log.returnValues.category === this.props.match.params.page){\r\n\r\n    this.setState({Topic_Events:[...this.state.Topic_Events,log]});\r\n    var newest = this.state.Topic_Events\r\n    var newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n    if (this._isMounted){\r\n\r\n\r\n    //this.setState({incoming:false});\r\n    this.setState({Topic_Events:newsort,topic_copy:newsort});\r\n    this.setState({active_length:this.state.Topic_Events.length})\r\n       };\r\n      }\r\n    },10000))\r\n\r\n  }\r\n\r\n\r\n  //Get My Active Events on Blockchain\r\n\tasync loadActiveEvents(){\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({Topic_Events:[],active_length:0}); }\r\n\r\n\t\tthis.state.openEvents.getPastEvents(\"CreatedEvent\",{fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n\t\t.then(events=>{\r\n\t\tthis.setState({loading:true})\r\n\t\tvar newest = events.filter((activeEvents)=>activeEvents.returnValues.time >=(this.state.dateNow) && activeEvents.returnValues.category === this.props.match.params.page);\r\n\t\tvar newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n\t\tif (this._isMounted){\r\n      this.setState({Topic_Events:newsort,topic_copy:newsort});\r\n      this.setState({active_length:this.state.Topic_Events.length});\r\n      setTimeout(()=>this.setState({loading:false}),1000);}\r\n\r\n\t\t}).catch((err)=>console.error(err))\r\n\r\n    }\r\n\r\n    //Get My Active Events on Blockchain\r\n\tasync loadPastEvents(){\r\n\r\n\t\tif (this._isMounted){\r\n\t\tthis.setState({Topic_Events:[],active_length:0}); }\r\n\r\n\t\tthis.state.openEvents.getPastEvents(\"CreatedEvent\",{fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n\t\t.then(events=>{\r\n\t\tthis.setState({loading:true})\r\n\t\tvar newest = events.filter((activeEvents)=>activeEvents.returnValues.time <=(this.state.dateNow) && activeEvents.returnValues.category === this.props.match.params.page);\r\n\t\tvar newsort= newest.concat().sort((a,b)=> b.blockNumber- a.blockNumber);\r\n\r\n\t\tif (this._isMounted){\r\n      this.setState({Topic_Events:newsort,topic_copy:newsort});\r\n      this.setState({active_length:this.state.Topic_Events.length});\r\n      setTimeout(()=>this.setState({loading:false}),1000); }\r\n\r\n\t\t}).catch((err)=>console.error(err))\r\n\r\n    }\r\n\r\n\r\n  //Display My Close Events\r\n\tPastEvent=(e)=>{\r\n\t\tthis.setState({\r\n      isActive: false,\r\n      loading:true,\r\n\t\t},()=>{if(!this.state.isActive){\r\n\t\tthis.loadPastEvents()}})\r\n\t  }\r\n\r\n  //Display My Active Events\r\n\tActiveEvent=(e)=>{\r\n\t\tthis.setState({\r\n      isActive: true,\r\n      loading:true\r\n\t\t},()=>{if(this.state.isActive){\r\n\t\t\tthis.loadActiveEvents()}})\r\n\t  }\r\n\r\n\r\n  //Search Active Events By Name\r\n  updateSearch=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    if(this.state.value !== \"\"){\r\n    var filteredEvents = this.state.topic_copy;\r\n    filteredEvents = filteredEvents.filter((events)=>{\r\n    return events.returnValues.name.toLowerCase().search(this.state.value.toLowerCase()) !==-1;\r\n\r\n\r\n    })}else{ filteredEvents = this.state.topic_copy}\r\n\r\n  this.setState({Topic_Events:filteredEvents,\r\n    active_length:filteredEvents.length});\r\n    this.props.history.push(\"/topic/\"+this.props.match.params.page+\"/\"+1)\r\n  })}\r\n\r\n  //Sort Active Events By Date(Newest/Oldest)\r\n  toggleSortDate=(e)=>{\r\n    let {value} = e.target\r\n    this.setState({value},()=>{\r\n    const{Topic_Events}=this.state\r\n    var newPolls = Topic_Events\r\n\r\n     if(this.state.isOldestFirst){\r\n        newPolls = Topic_Events.concat().sort((a,b)=> b.returnValues.eventId - a.returnValues.eventId)\r\n        }\r\n    else {\r\n        newPolls = Topic_Events.concat().sort((a,b)=> a.returnValues.eventId - b.returnValues.eventId)\r\n      }\r\n\r\n      this.setState({\r\n      isOldestFirst: !this.state.isOldestFirst,\r\n      Topic_Events:newPolls\r\n      });\r\n    })}\r\n\r\n\trender()\r\n  {\r\n\t\tlet body = <Loading />;\r\n    const topic = this.theTopic;\r\n\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined' ) {\r\n      let count = this.state.Topic_Events.length;\r\n      if(this.state.loading){\r\n        body = <PhoenixDAOLoader/>\r\n      }\r\n\t\t\t  else if (count === 0 && !this.state.loading) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\r\n        let currentPage = Number(this.props.match.params.id);\r\n\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet events_list = [];\r\n\r\n\t\t\t\tfor (let i = start; i < end; i++) {\r\n\r\n          events_list.push(<Event\r\n            inquire={this.props.inquire}\r\n            key={this.state.Topic_Events[i].returnValues.eventId}\r\n            id={this.state.Topic_Events[i].returnValues.eventId}\r\n            ipfs={this.state.Topic_Events[i].returnValues.ipfs} />);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n                <Link to={\"/topic/\" + this.props.match.params.page + \"/\" + i } className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <div className=\"retract-page-inner-wrapper\">\r\n        <div className=\"topic-hero-wrapper\">\r\n          <img src={'/images/topics/'+this.theTopic['image']} alt={topic.name} />\r\n        </div>\r\n      </div>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative\">\r\n\r\n      <br /><br />\r\n\r\n\r\n      <div className=\"input-group input-group-lg\">\r\n        <div className=\"input-group-prepend \">\r\n          <span className=\"input-group-text search-icon\" id=\"inputGroup-sizing-lg\"><i className=\"fa fa-search\"></i>&nbsp;Search </span>\r\n        </div>\r\n        <input type=\"text\" value={this.state.value} onChange={this.updateSearch.bind(this)} className=\"form-control\" aria-label=\"Large\" aria-describedby=\"inputGroup-sizing-sm\" />\r\n      </div>\r\n      <br /><br />\r\n\r\n      <div>\r\n          <h2 className =\"\"><i className={this.state.isActive ?' fa fa-calendar-alt':' fa fa-archive'}></i>{this.state.isActive ?' Active':' Past'} Events In The <strong>{topic.name}</strong> Topic</h2>\r\n\r\n          <div className=\"row row_mobile mt-4 mb-2\">\r\n          <button className=\"btn sort_button col-md-2 mx-2 mt-2\"  onClick={this.ActiveEvent} >Active Events</button>\r\n\t\t\t\t  <button className=\"btn sort_button col-md-2 mx-2 mt-2\"  onClick={this.PastEvent} >Past Events</button>\r\n          <button className=\"btn sort_button col-md-2 mx-2 mt-2\" value={this.state.value} onClick={this.toggleSortDate} onChange={this.toggleSortDate.bind(this)}>{this.state.isOldestFirst ?'Sort: Oldest':'Sort: Newest'}</button>\r\n          </div>\r\n\r\n          <hr />\r\n          {body}\r\n      </div>\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> More Topics</h2>\r\n\r\n      <hr />\r\n        <div className=\"row user-list mt-4\">\r\n          {topicsJson.map(topic => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={topic.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/topics/\" + topic.image +\")\"}} onClick={() => {this.topicClick(topic.slug)}}>\r\n              <div className=\"topic-caption\"><h3>{topic.name}</h3><button className=\"btn sort_button col-md-2\">View Topic</button></div>\r\n\r\n              </div>\r\n            </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nTopicLandingPage.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state =>\r\n{\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(TopicLandingPage, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\nimport Loading from './Loading';\r\nimport Event from './Event';\r\n\r\nimport topicsJson from '../config/topics.json';\r\n\r\nclass TopicsLandingPage extends Component {\r\n  constructor(props, context) {\r\n      super(props);\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n\t}\r\n\r\n  topicClick(slug) {\r\n    this.props.history.push(\"/topic/\"+slug+\"/\"+1);\r\n    window.scrollTo(0, 180);\r\n  }\r\n\r\n  caruselClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n\trender() {\r\n\t\tlet body = <Loading />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined') {\r\n\r\n\t\t\tlet count = Number(this.props.contracts['OpenEvents'].getEventsCount[this.eventCount].value);\r\n\t\t\tif (count === 0) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet events_list = [];\r\n\r\n\t\t\t\tfor (let i = start; i < end; i++) {\r\n\t\t\t\t\tevents_list.push(<Event key={i} id={i} />);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i} className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <Carousel className=\"retract-page-inner-wrapper\">\r\n          <Carousel.Item className=\"slide1\">\r\n            <img className=\"d-block w-100\" src=\"/images/topics/music.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Check out a Concert</h3>\r\n              <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/music/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide2\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/charity-and-causes.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Support a Local Charity</h3>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/charity-and-causes/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide3\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/parties.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Attend an Exclusive Party</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/parties/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide4\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/sports-and-fitness.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Play a New Sport</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/sports-and-fitness/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide5\">\r\n          <img className=\"d-block w-100\" src=\"/images/slides/slide5.png\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Create and Sell Tickets</h3>\r\n              <p>Create your own event, it takes only a minute.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/createevent\")}}><i className=\"fas fa-ticket-alt\"></i> Create Event</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        </Carousel>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative\">\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Popular Topics</h2>\r\n      <hr />\r\n      <div className=\"row user-list mt-4\">\r\n      {\r\n        topicsJson && topicsJson\r\n          .filter(topic => topic.popular === \"true\")\r\n          .map((topic, index) => {\r\n            return (\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={topic.slug}>\r\n                <div className=\"topic\" style={{ backgroundImage: \"url(/images/topics/\" + topic.image +\")\"}} onClick={() => {this.topicClick(topic.slug)}}>\r\n                <div className=\"topic-caption\"><h3>{topic.name}</h3><button className=\"btn sort_button\">View Topic</button></div>\r\n\r\n                </div>\r\n              </div>\r\n            );\r\n          })\r\n      }\r\n      </div>\r\n      <br /><br />\r\n\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Alls Topics</h2>\r\n      <hr />\r\n      <div className=\"row user-list mt-4\">\r\n\r\n        {\r\n          topicsJson && topicsJson\r\n            .filter(topic => topic.popular === \"false\")\r\n            .map((topic, index) => {\r\n              return (\r\n                <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={topic.slug}>\r\n                  <div className=\"topic\" style={{ backgroundImage: \"url(/images/topics/\" + topic.image +\")\"}} onClick={() => {this.topicClick(topic.slug)}}>\r\n                  <div className=\"topic-caption\"><h3>{topic.name}</h3><button className=\"btn sort_button\">View Topic</button></div>\r\n\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n        }\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nTopicsLandingPage.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(TopicsLandingPage, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Loading from './Loading';\r\nimport Event from './Event';\r\n\r\nimport locationsJson from '../config/states.json';\r\n\r\n\r\nclass LocationLandingPage extends Component\r\n{\r\n  constructor(props, context)\r\n  {\r\n      super(props);\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.locationClick = this.locationClick.bind(this);;\r\n      this.theLocation = this.getLocationData();\r\n      this.locationBackground = this.theLocation['image'];\r\n\t}\r\n\r\n  componentDidUpdate()\r\n  {\r\n    //this.theTopic = this.getTopicData();\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n  {\r\n    //this.theTopic = this.getTopicData();\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n  {\r\n\r\n\t}\r\n\r\n  locationClick(slug)\r\n  {\r\n    this.props.history.push(\"/location/\"+slug);\r\n    this.theLocation = this.getLocationData();\r\n\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n  getLastURLSegment()\r\n  {\r\n    console.log(this.props.history.location.pathname);\r\n    let currentRoute = this.props.history.location.pathname;\r\n    let lastSegment = currentRoute.substr(currentRoute.lastIndexOf('/') + 1);\r\n\r\n    return lastSegment;\r\n  }\r\n\r\n  getLocationData() {\r\n    let locationSlug = this.getLastURLSegment();\r\n\r\n    let theLocation = locationsJson.filter(function (location) {\r\n      return location.slug == locationSlug;\r\n    });\r\n\r\n    return theLocation[0];\r\n  }\r\n\r\n\trender()\r\n  {\r\n\t\tlet body = <Loading />;\r\n    const location = this.theLocation;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined') {\r\n\t\t\tlet count = Number(this.props.contracts['OpenEvents'].getEventsCount[this.eventCount].value);\r\n\t\t\tif (count === 0) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet events_list = [];\r\n\r\n\t\t\t\tfor (let i = start; i < end; i++) {\r\n\t\t\t\t\tevents_list.push(<Event key={i} id={i} />);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i} className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <div className=\"retract-page-inner-wrapper\">\r\n        <div className=\"topic-hero-wrapper\">\r\n          <img src={'/images/states/'+this.theLocation['image']} alt={location.name} />\r\n        </div>\r\n      </div>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative\">\r\n\r\n      <br /><br />\r\n\r\n      <div>\r\n          <h2><i className=\"fa fa-calendar-alt\"></i> Events In <strong>{location.name}</strong></h2>\r\n          <hr />\r\n          {body}\r\n      </div>\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> More Locations</h2>\r\n      <hr />\r\n        <div className=\"row user-list mt-4\">\r\n          {locationsJson.map(location => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={location.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/states/\" + location.image +\")\"}} onClick={() => {this.locationClick(location.slug)}}>\r\n\r\n              <div className=\"topic-caption\"><h3>{location.name}</h3><button className=\"btn sort_button\">View Location</button></div>\r\n\r\n              </div>\r\n            </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nLocationLandingPage.contextTypes =\r\n{\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state =>\r\n{\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(LocationLandingPage, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\nimport Loading from './Loading';\r\nimport Event from './Event';\r\n\r\nimport statesJson from '../config/states.json';\r\nimport locationsJson from '../config/location_ctas.json';\r\n\r\n\r\nclass LocationsLandingPage extends Component {\r\n  constructor(props, context) {\r\n      super(props);\r\n\t    this.contracts = context.drizzle.contracts;\r\n\t    this.eventCount = this.contracts['OpenEvents'].methods.getEventsCount.cacheCall();\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n\t}\r\n\r\n  topicClick(slug) {\r\n    this.props.history.push(slug);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n\trender() {\r\n\t\tlet body = <Loading />;\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].getEventsCount[this.eventCount] !== 'undefined') {\r\n\t\t\tlet count = Number(this.props.contracts['OpenEvents'].getEventsCount[this.eventCount].value);\r\n\t\t\tif (count === 0) {\r\n\t\t\t\tbody = <p className=\"text-center not-found\"><span role=\"img\" aria-label=\"thinking\"></span>&nbsp;No events found. <a href=\"/createevent\">Try creating one.</a></p>;\r\n\t\t\t} else {\r\n\t\t\t\tlet currentPage = Number(this.props.match.params.page);\r\n\t\t\t\tif (isNaN(currentPage) || currentPage < 1) currentPage = 1;\r\n\r\n\t\t\t\tlet end = currentPage * this.perPage;\r\n\t\t\t\tlet start = end - this.perPage;\r\n\t\t\t\tif (end > count) end = count;\r\n\t\t\t\tlet pages = Math.ceil(count / this.perPage);\r\n\r\n\t\t\t\tlet events_list = [];\r\n\r\n\t\t\t\tfor (let i = start; i < end; i++) {\r\n\t\t\t\t\tevents_list.push(<Event key={i} id={i} />);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet pagination = '';\r\n\t\t\t\tif (pages > 1) {\r\n\t\t\t\t\tlet links = [];\r\n\r\n\t\t\t\t\tfor (let i = 1; i <= pages; i++) {\r\n\t\t\t\t\t\tlet active = i === currentPage ? 'active' : '';\r\n\t\t\t\t\t\tlinks.push(\r\n\t\t\t\t\t\t\t<li className={\"page-item \" + active} key={i}>\r\n\t\t\t\t\t\t\t\t<Link to={\"/findevents/\" + i} className=\"page-link\">{i}</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpagination =\r\n\t\t\t\t\t\t<nav>\r\n\t\t\t\t\t\t\t<ul className=\"pagination justify-content-center\">\r\n\t\t\t\t\t\t\t\t{links}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbody =\r\n\t\t\t\t\t<div >\r\n\t\t\t\t\t\t<div className=\"row user-list mt-4\">\r\n\t\t\t\t\t\t\t{events_list}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <Carousel className=\"retract-page-inner-wrapper\">\r\n          <Carousel.Item className=\"slide1\">\r\n            <img className=\"d-block w-100\" src=\"/images/slides/states/clematis-florida.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Discover Clematis St.</h3>\r\n              <p>Bars, restaurants, ocean, it has it all.</p>\r\n              <button className=\"btn btn-dark\"><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide2\">\r\n          <img className=\"d-block w-100\" src=\"/images/slides/states/belmar-colorado.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Discover Belmar, CO</h3>\r\n              <p>A downtown with it all 10 minutes from Denver and 10 minutes to the mountains.</p>\r\n              <button className=\"btn btn-dark\"><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        </Carousel>\r\n\r\n\t\t\t<div className=\"retract-page-inner-wrapper-alternative dash\">\r\n\r\n      <br /><br />\r\n\r\n      <div className=\"topics-wrapper\">\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Browse Locations</h2>\r\n      <hr />\r\n        <div className=\"row user-list mt-4\">\r\n          {locationsJson.map(location => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={location.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/ctas/\" + location.image +\")\"}} onClick={() => {this.topicClick(location.slug)}}>\r\n              <div className=\"topic-caption\"><h3>{location.name}</h3><button className=\"btn\">View Location</button></div>\r\n              </div>\r\n            </div>\r\n            ))}\r\n        </div>\r\n        <br /><br />\r\n      <h2><i className=\"fa fa-calendar-alt\"></i> Browse States</h2>\r\n      <hr />\r\n        <div className=\"row user-list mt-4\">\r\n          {statesJson.map(state => (\r\n            <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" key={state.slug}>\r\n              <div className=\"topic\" style={{ backgroundImage: \"url(/images/states/\" + state.image +\")\"}} onClick={() => {this.topicClick(\"/locations/state/\"+state.slug)}}>\r\n              <div className=\"topic-caption\"><h3>{state.name}</h3><button className=\"btn\">View Location</button></div>\r\n              </div>\r\n            </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nLocationsLandingPage.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(LocationsLandingPage, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport {Calendar,momentLocalizer} from 'react-big-calendar';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport main from '../styles/main.css'\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\n\r\nimport Web3 from 'web3';\r\nimport {Open_events_ABI, Open_events_Address} from '../config/OpenEvents';\r\n\r\nclass Calendars extends Component {\r\n    constructor(props) {\r\n\r\n        super(props);\r\n        this.state = {\r\n           \r\n            Events_Blockchain:[],\r\n            activeEvents:'',\r\n            latestblocks:6000000,\r\n            blocks:5000000,\r\n            events:[],\r\n        }\r\n        this._isMounted = false;\r\n    }\r\n\r\n    async loadBlockchain(){\r\n    \r\n        const web3 = new Web3(new Web3.providers.WebsocketProvider('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'));\r\n        const openEvents =  new web3.eth.Contract(Open_events_ABI, Open_events_Address);\r\n        \r\n        if (this._isMounted){\r\n        this.setState({openEvents});\r\n        this.setState({Events_Blockchain:[]});}\r\n        const dateTime = Date.now();\r\n        const dateNow = Math.floor(dateTime / 1000);\r\n        \r\n        const blockNumber = await web3.eth.getBlockNumber();\r\n        if (this._isMounted){\r\n        this.setState({blocks:blockNumber - 50000});\r\n        this.setState({latestblocks:blockNumber - 1});\r\n        this.setState({Events_Blockchain:[]});}\r\n      \r\n        openEvents.getPastEvents(\"CreatedEvent\",{fromBlock: 5000000, toBlock:this.state.latestblocks})\r\n        .then(events=>{\r\n        if (this._isMounted){\r\n        this.setState({loading:true})\r\n        this.setState({Events_Blockchain:events});\r\n        this.setState({loading:false})\r\n        this.setState({active_length:this.state.Events_Blockchain.length})\r\n        \r\n        }\r\n         \r\n        }).catch((err)=>console.error(err))\r\n    \r\n        //Listens for New Events\r\n        openEvents.events.CreatedEvent({fromBlock: blockNumber, toBlock:'latest'})\r\n        .on('data', (log) => setTimeout(()=> {\r\n        if (this._isMounted){\r\n        this.setState({loading:true});\r\n        this.setState({Events_Blockchain:[...this.state.Events_Blockchain,log]});\r\n        this.setState({active_length:this.state.Events_Blockchain.length})}\r\n        this.setState({loading:false});\r\n        },10000))\r\n      }\r\n    \r\n    \r\n    goToEvent = (event_calendar)=>{\r\n            let rawTitle = event_calendar.title;\r\n            var titleRemovedSpaces = rawTitle;\r\n\t        titleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n            var pagetitle = titleRemovedSpaces.toLowerCase()\r\n            .split(' ')\r\n            .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n            .join(' ');\r\n\t        let titleURL = \"/event/\"+pagetitle+\"/\" + event_calendar.id;\r\n    \r\n            this.props.history.push(titleURL);\r\n        }\r\n    \r\n    render() {\r\n        let body ='';\r\n        const localizer = momentLocalizer(moment) // or globalizeLocalizer\r\n        {\r\n        let events_calendar = []\r\n\r\n        for(var i = 0;i<this.state.Events_Blockchain.length;i++){\r\n            events_calendar.push({\r\n            id:this.state.Events_Blockchain[i].returnValues.eventId,\r\n            title:this.state.Events_Blockchain[i].returnValues.name,\r\n            start:parseInt(this.state.Events_Blockchain[i].returnValues.time,10)*1000,\r\n            end:parseInt(this.state.Events_Blockchain[i].returnValues.time,10)*1000,\r\n            allDay:true,\r\n                })\r\n            }\r\n\r\n        body = \r\n            <div style={{ height: '500pt'}}>\r\n            <Calendar\r\n              localizer={localizer}\r\n              events={events_calendar}\r\n              defaultDate={moment().toDate()}\r\n              onSelectEvent={events_calendar =>this.goToEvent(events_calendar)}\r\n              views={['month','day','agenda']} \r\n            />\r\n            </div>          \r\n            }\r\n        \r\n       return (\r\n        <div className=\"retract-page-inner-wrapper-alternative\">\r\n        <div className=\"pl-2 pr-2\">\r\n            <h2 className=\"col-md-10\"><i className=\"fa fa-calendar-alt\"></i> Event Calendar</h2> \r\n        <hr/>\r\n            {body}\r\n          </div>      \r\n        </div>  \r\n        )\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        this.loadBlockchain();\r\n\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n    }\r\n}\r\nexport default Calendars;","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport {PhoenixDAO_Testnet_Token_ABI, PhoenixDAO_Testnet_Token_Address} from '../config/phoenixDAOcontract_testnet.js';\r\n\r\n\r\nimport Loading from './Loading';\r\n\r\nlet numeral = require('numeral');\r\n\r\n\r\n\r\nclass Token extends Component {\r\n\tconstructor(props, context) {\r\n\r\n\t\ttry {\r\n\t\t\tvar contractConfig = {\r\n\t\t\t  contractName: 'PHNX',\r\n\t\t\t  web3Contract: new context.drizzle.web3.eth.Contract(\r\n\t\t\t\tPhoenixDAO_Testnet_Token_ABI,\r\n\t\t\t\tPhoenixDAO_Testnet_Token_Address,\r\n\t\t\t  ),\r\n\r\n\t\t\t};\r\n\t\t\tcontext.drizzle.addContract(contractConfig);\r\n\r\n\t\t  } catch (e) {\r\n\t\t\tconsole.log(\"ERROR\", PhoenixDAO_Testnet_Token_Address, e);\r\n\t\t  }\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tgetPhoenixDAO:'',\r\n\t\t\tbalance:'',\r\n\r\n\t\t}\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t\tthis.balance = this.contracts['StableToken'].methods.balanceOf.cacheCall(this.props.accounts[0]);\r\n\t\tthis.account = this.props.accounts[0];\r\n\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n        this._isMounted = true;\r\n        if(this._isMounted){this.interval=setInterval(()=>this.getbalance(),1500)}\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tthis._isMounted = false;\r\n\t\tclearInterval(this.interval)\r\n    }\r\n\r\n\tmintToken = () => {\r\n\t\tthis.setState({getPhoenixDAO:this.contracts['PHNX'].methods.getMoreTokens()},()=>{\r\n\t\t\tthis.props.getPhoenixDAO(this.state.getPhoenixDAO)\r\n\t\t});\r\n\t}\r\n\r\n\tgetbalance = () =>{\r\n\t\tlet checkPhoenixDAO = this.contracts['PHNX'].methods.balanceOf.cacheCall(this.props.accounts[0])\r\n\t\tif (typeof this.props.contracts['PHNX'].balanceOf[checkPhoenixDAO] !== 'undefined') {\r\n\t\tlet phoenixDAOBalance = this.context.drizzle.web3.utils.fromWei(this.props.contracts['PHNX'].balanceOf[this.balance].value);\r\n\t\treturn phoenixDAOBalance\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet body = <Loading />;\r\n\r\n\t\tif (typeof this.props.contracts['StableToken'].balanceOf[this.balance] !== 'undefined') {\r\n\t\t\t//let balance = this.context.drizzle.web3.utils.fromWei(this.props.contracts['StableToken'].balanceOf[this.balance].value);\r\n\t\t\tlet balance = this.getbalance()\r\n\r\n\t\t\tbody =\r\n\t\t\t\t<div className=\"text-center mt-5\" >\r\n\t\t\t\t\t<h4>Your balance is: <img src=\"/images/PhoenixDAO.png\" width=\"25\" alt=\"PhoenixDAO branding\" />&nbsp;{numeral(balance).format('0,0.00')}</h4>\r\n\t\t\t\t\t<button className=\"btn btn-dark mt-5\" onClick={this.mintToken}>Get PHNX Tokens</button>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h2>Get PHNX Tokens</h2>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nToken.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(Token, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport Carousel from 'react-bootstrap/Carousel'\r\n\r\nimport Loading from './Loading';\r\nimport { Bar, Doughnut} from 'react-chartjs-2';\r\n\r\nimport topicsJson from '../config/topics.json';\r\n\r\n\r\nlet numeral = require('numeral');\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props, context) {\r\n      super(props);\r\n      this.state = {\r\n         PhoenixDAO_market:[],\r\n\r\n    }\r\n\t    this.contracts = context.drizzle.contracts;\r\n        this.events = this.contracts['OpenEvents'].methods.eventsOf.cacheCall(this.props.accounts[0]);\r\n\r\n\t    this.perPage = 6;\r\n      this.topicClick = this.topicClick.bind(this);\r\n\t}\r\n\r\n  topicClick(slug) {\r\n    this.props.history.push(\"/topic/\"+slug+\"/\"+1);\r\n    window.scrollTo(0, 180);\r\n  }\r\n\r\n  caruselClick(location)\r\n  {\r\n    this.props.history.push(location);\r\n    window.scrollTo(0, 80);\r\n  }\r\n\r\n  goTo = (id, name) =>{\r\n    let rawTitle = name;\r\n    var titleRemovedSpaces = rawTitle;\r\n\t  titleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n\r\n      var pagetitle = titleRemovedSpaces.toLowerCase()\r\n      .split(' ')\r\n      .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ');\r\n\r\n\t  let myEventStatURL = \"/event-stat/\"+pagetitle+\"/\" + id;\r\n    this.props.history.push(myEventStatURL);\r\n  }\r\n\r\n  async getPhoenixDAOMarketValue(){\r\n\r\n\t\tfetch('https://api.coingecko.com/api/v3/simple/price?ids=phoenixdao&vs_currencies=usd&include_market_cap=true&include_24hr_change=ture&include_last_updated_at=ture')\r\n\t\t\t  .then(res => res.json())\r\n\t\t\t  .then((data) => {\r\n\t\t\t\tif (this._isMounted){\r\n\t\t\t\tthis.setState({PhoenixDAO_market: data.phoenixdao })}\r\n\t\t\t  })\r\n\t\t\t  .catch(console.log)\r\n\t  }\r\n\r\n\r\n\trender() {\r\n        let body = '';\r\n\r\n\t\tif (typeof this.props.contracts['OpenEvents'].eventsOf[this.events] !== 'undefined') {\r\n\r\n            let eventCount = this.props.contracts['OpenEvents'].eventsOf[this.events].value;\r\n            let eventCache = [];\r\n            let eventDetails = [];\r\n            let check = [5,1,1];\r\n\r\n            for(var i = 0; i < eventCount.length;i++){\r\n              eventCache.push(this.contracts['OpenEvents'].methods.getEvent.cacheCall(eventCount[i]))\r\n              if (typeof this.props.contracts['OpenEvents'].getEvent[eventCache[i]] !== 'undefined' && this.props.contracts['OpenEvents'].getEvent[eventCache[i]].value) {\r\n                eventDetails.push({result:this.props.contracts['OpenEvents'].getEvent[eventCache[i]].value,id:eventCount[i]})\r\n\r\n              }\r\n            }\r\n\r\n            //console.log(eventDetails)\r\n            let sortBySold= eventDetails.concat().sort((a,b)=> b.result.sold - a.result.sold);\r\n            let phoenixDAORevenue = eventDetails.filter((event_token)=>event_token.result.token == true)\r\n            let limited = eventDetails.filter((event_seats)=>event_seats.result.limited == true)\r\n\r\n            let top_PhoenixDAORevenue = phoenixDAORevenue.concat().sort((a,b)=>\r\n            parseInt(b.result.sold * this.context.drizzle.web3.utils.fromWei(b.result.price)) -\r\n            parseInt(a.result.sold * this.context.drizzle.web3.utils.fromWei(a.result.price)));\r\n\r\n            let sortSold = [];\r\n            let sortTopRevenue = [];\r\n            let toplist = true;\r\n\r\n            if(sortBySold.length <=0){\r\n              toplist = false;\r\n            }\r\n\r\n            if(sortBySold.length > 5){\r\n            for(var x = 0; x < 5; x++){\r\n              sortSold.push(sortBySold[x])\r\n            }\r\n            }else{\r\n              for(var x = 0; x < sortBySold.length; x++){\r\n                sortSold.push(sortBySold[x])\r\n              }\r\n            };\r\n\r\n            /*Get Top PhoenixDAO Revenue*/\r\n\r\n            if(top_PhoenixDAORevenue.length > 5){\r\n            for(var x = 0; x < 5; x++){\r\n              sortTopRevenue.push(top_PhoenixDAORevenue[x])\r\n            }\r\n            }else{\r\n              for(var x = 0; x < top_PhoenixDAORevenue.length; x++){\r\n                sortTopRevenue.push(top_PhoenixDAORevenue[x])\r\n              }\r\n            }\r\n\r\n            let totalSold = sortBySold.reduce((accumulator, currentValue)=>accumulator + parseInt(currentValue.result.sold),0)\r\n            let revenue = phoenixDAORevenue.reduce((accumulator, currentValue)=>accumulator + parseInt(currentValue.result.sold * this.context.drizzle.web3.utils.fromWei(currentValue.result.price)),0)\r\n            let soldSeats = limited.reduce((accumulator, currentValue)=>accumulator + parseInt(currentValue.result.sold),0)\r\n            let totalSeats = limited.reduce((accumulator, currentValue)=>accumulator + parseInt(currentValue.result.seats),0)\r\n\r\n        // Doughnut Chart Data\r\n\t\t  \tthis.DoughnutData= (canvas) => {\r\n\t\t\t\tconst ctx = canvas.getContext(\"2d\")\r\n\t\t\t\tconst gradient = ctx.createLinearGradient(100,180,100,100,200);\r\n\t\t\t\tgradient.addColorStop(1, 'white');\r\n\t\t\t\tgradient.addColorStop(0, 'black');\r\n\r\n\t\t\t\tconst gradient2 = ctx.createLinearGradient(100,120,100,100,200);\r\n\t\t\t\tgradient2.addColorStop(1, 'rgb(104, 160, 206)');\r\n\t\t\t\tgradient2.addColorStop(0, 'rgb(100, 101, 102)');\r\n\t\t\t\tif(totalSeats !==0){\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlabels: ['Sold Tickets','Unsold Tickets'],\r\n\t\t\t\t\tdatasets: [{\r\n\t\t\t\t\t\tlabel:'PHNX',\r\n\t\t\t\t\t\tfontColor:'black',\r\n\t\t\t\t\t\tbackgroundColor: [gradient2,gradient,gradient],\r\n\t\t\t\t\t\tborderColor: 'rgb(228, 83, 138)',\r\n\t\t\t\t\t\tborderWidth: .8,\r\n\t\t\t\t\t\thoverBackgroundColor: [gradient2,gradient],\r\n\t\t\t\t\t\thoverBorderColor: 'pink',\r\n\t\t\t\t\t\thoverBorderWidth:1,\r\n\t\t\t\t\t\tweight:5,\r\n\t\t\t\t\t\tborderAlign:'center',\r\n\t\t\t\t\t\tdata: [soldSeats, totalSeats - soldSeats],\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t}\r\n         else{\r\n          return {\r\n            labels: ['Sold Tickets','Unsold Tickets'],\r\n            datasets: [{\r\n              label:'PHNX',\r\n              fontColor:'black',\r\n              backgroundColor: [gradient2,gradient,gradient],\r\n              borderColor: 'rgb(228, 83, 138)',\r\n              borderWidth: .8,\r\n              hoverBackgroundColor: [gradient2,gradient],\r\n              hoverBorderColor: 'pink',\r\n              hoverBorderWidth:1,\r\n              weight:5,\r\n              borderAlign:'center',\r\n              data: [0,-1],\r\n              }],\r\n              }\r\n           }\r\n          }\r\n\r\n          this.BarData = (canvas) => {\r\n            const ctx = canvas.getContext(\"2d\")\r\n            const gradient = ctx.createLinearGradient(800,200,500,800,200);\r\n            gradient.addColorStop(1, 'blue');\r\n            gradient.addColorStop(0, 'white');\r\n\r\n            const gradient2 = ctx.createLinearGradient(100,120,100,100,200);\r\n            gradient2.addColorStop(1, 'rgb(104, 160, 206)');\r\n            gradient2.addColorStop(0, 'rgb(100, 101, 102)');\r\n            if(sortTopRevenue.length !==0){\r\n            return {\r\n              labels: sortTopRevenue.map(event=>[event.result.name]),\r\n              datasets: [{\r\n                label:'PHNX',\r\n                fontColor:'black',\r\n                backgroundColor: [gradient,gradient,gradient,gradient,gradient],\r\n                borderColor: 'white',\r\n                borderWidth: .8,\r\n                backgroundColor: [gradient,gradient,gradient,gradient,gradient],\r\n                hoverBorderColor: 'pink',\r\n                hoverBorderWidth:1,\r\n                weight:5,\r\n                borderAlign:'center',\r\n                data:sortTopRevenue.map(event=>parseInt(event.result.sold * this.context.drizzle.web3.utils.fromWei(event.result.price))),\r\n                }],\r\n                }\r\n              }\r\n             else{\r\n              return {\r\n                labels: ['You','Havent','Created','Any','Event'],\r\n                datasets: [{\r\n                  label:'PHNX',\r\n                  fontColor:'black',\r\n                  backgroundColor: [gradient,gradient,gradient,gradient,gradient],\r\n                  borderColor: 'rgb(228, 83, 138)',\r\n                  borderWidth: .8,\r\n                  backgroundColor: [gradient,gradient,gradient,gradient,gradient],\r\n                  hoverBorderColor: 'pink',\r\n                  hoverBorderWidth:1,\r\n                  weight:5,\r\n                  borderAlign:'center',\r\n                  data: [10,5,10,5,10],\r\n                  }],\r\n                  }\r\n               }\r\n              }\r\n\r\n            body = <div className=\"retract-page-inner-wrapper-alternative dash\">\r\n\r\n            <br /><br /><br />\r\n\r\n            <div>\r\n            <h2><i className=\"fas fa-chalkboard-teacher\"></i> Dashboard</h2>\r\n            <hr />\r\n            <div className=\"row user-list mt-4\">\r\n           <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\" style={{ backgroundImage: \"url(/images/ethorange.png)\"}}>\r\n                  <h3><i className=\"fas fa-user-astronaut\"></i> User Account</h3>\r\n                  <img className=\"dashboard-img\" src={'/images/ethereum.png'} ></img>\r\n                  <p className=\"mt-2\" title = {this.props.accounts[0]}>{this.props.accounts[0].slice(0,15) + '...'}</p>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\"style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[21].image +\")\"}}>\r\n              <h3><i className=\"fa fa-edit\"></i> Total Number Of Created Events</h3>\r\n                  <h4 className=\"dashboard-data\">{eventCount.length}</h4>\r\n                  <p className=\"dashboard-footer\">Events</p>\r\n                  </div>\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\" style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[12].image +\")\"}}>\r\n              <h3><i className=\"fas fa-ticket-alt\" ></i> Total Number Of Tickets Sold</h3>\r\n                  <h4 className=\"dashboard-data\">{totalSold}</h4>\r\n                  <p className=\"dashboard-footer\">Tickets</p></div>\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-events-card\">\r\n              <div className=\"dashboard-events-caption\" style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[17].image +\")\"}}>\r\n              <h3 title=\"Top 5 Events Based On Ticket Sale\"><i className=\"fas fa-trophy\"></i> Your Top 5 Events</h3>\r\n              </div>\r\n              {toplist &&<div className=\"dashboard-events\">\r\n              <div className=\"dashboard-events-list\">\r\n              <Link to=\"/myevents/1\"><h4 className=\"mb-2\">Events</h4></Link>\r\n              {sortSold.map((event,index)=>( event.result.name.length > 15 ? <h4 key ={index} title={event.result.name} onClick={()=>this.goTo(event.id, event.result.name)}> {index +1}. {event.result.name.slice(0,15)+'...'}</h4>:<h4 title={event.result.name} onClick={()=>this.goTo(event.id, event.result.name)}>{index +1}. {event.result.name}</h4>))}\r\n              </div>\r\n              <div className=\"dashboard-events-list-sale\">\r\n              <h4 className=\"mb-2\">Tickets Sold</h4>\r\n              {sortSold.map((event,index)=>( <h4 key = {index} title={event.result.sold + \" Tickets Sold\"} onClick={()=>this.goTo(event.id, event.result.name)}>\r\n                {event.result.sold}</h4>))}\r\n              </div>\r\n              </div> }\r\n\r\n              {!toplist &&<div className=\"dashboard-events\">\r\n              <h4 className=\"dashboard-no-event mt-5\">You haven't created an event yet</h4>\r\n              <Link to=\"/createevent\">Try to create one.</Link>\r\n              </div> }\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-events-card\">\r\n              <div className=\"dashboard-events-caption\" style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[17].image +\")\"}}>\r\n              <h3 title=\"Top 5 Events Based On PHNX Revenue\"><i className=\"fas fa-award\"></i> Your Top 5 Events</h3>\r\n              </div>\r\n              <div className=\"dashboard-bar\">\r\n              <Bar className =\"bars\"\r\n                options={{\r\n                responsive:true,\r\n                maintainAspectRatio:false,\r\n                title:{\r\n                display: true,\r\n                position:\"top\",\r\n                text: 'Based On PHNX Revenue',\r\n                fontSize: 16,\r\n                lineHeight:1.5,\r\n                padding:1,\r\n                fontColor:'white',\r\n                },\r\n                scales: {\r\n                  yAxes: [{ticks: {beginAtZero:true,fontSize:10,fontColor:'white',fontStyle: '600',precision:0 }}],\r\n                  xAxes: [{ticks: {beginAtZero:true,fontSize:12,fontColor:'white', fontStyle: '600' },barPercentage:1,display: false}]\r\n                },\r\n                elements:{\r\n                rectangle:{borderSkipped:'bottom',}\r\n                }\r\n                }} data={this.BarData} />\r\n              </div>\r\n\r\n\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-events-card\">\r\n              <div className=\"dashboard-events-caption\" style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[12].image +\")\"}}>\r\n              <h3 title=\"Overall Limited Tickets Sold\"><i className=\"fas fa-ticket-alt\"></i> Sold Tickets (Limited) </h3>\r\n              </div>\r\n              <div className=\"dashboard-chart\">\r\n              <div className=\"mt-5\">\r\n\t\t\t\t\t\t  <Doughnut data={this.DoughnutData}\r\n    \t\t\t\t\t\toptions={{\r\n\t\t\t\t\t\t\t  responsive:true,\r\n\t\t\t\t\t\t\t  maintainAspectRatio:false,\r\n\t\t\t\t\t\t\t  cutoutPercentage: 62,\r\n        \t\t\t\t\ttitle:{\r\n       \t\t\t\t\t\tdisplay: true,\r\n        \t\t\t\t\tposition:\"bottom\",\r\n       \t\t\t\t\t\ttext: 'Limited Tickets Sold',\r\n        \t\t\t\t\tfontSize: 16,\r\n        \t\t\t\t\tlineHeight:1.5,\r\n        \t\t\t\t\tpadding:1.6,\r\n\t\t\t\t\t\t\t    fontColor:'white',\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t  legend: {\r\n\t\t\t\t\t\t\t  \tdisplay:false,\r\n\t\t\t\t\t\t\t\t  labels: {\r\n\t\t\t\t\t\t\t\t\tfontColor: 'white',\r\n\t\t\t\t\t\t\t\t\tfontSize:11\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  tooltips: {\r\n           \t\t\t\tenabled: true\r\n        \t\t\t\t\t},\r\n\t\t\t\t\t\t\t  }\r\n    \t\t\t\t\t}}/>\r\n\r\n\t\t\t\t\t\t  </div>\r\n              </div>\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\" style={{ backgroundImage: \"url(/images/snowflake2.jpg)\"}}>\r\n                  <h3><img src={'/images/PhoenixDAO.png'} className=\"dashboard-PhoenixDAO\" alt=\"\" />  Total PHNX Revenue </h3>\r\n                  <h4 className=\"dashboard-data\">{numeral(revenue).format('0,0.00')}</h4>\r\n                  <p className=\"dashboard-footer\">PHNX</p></div>\r\n              </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\" style={{ backgroundImage: \"url(/images/topics/\" + topicsJson[20].image +\")\"}}>\r\n                  <h3><i className=\"fas fa-hand-holding-usd\"></i>  Total Dollar Revenue </h3>\r\n                  <h4 className=\"dashboard-data\">${numeral(revenue * this.state.PhoenixDAO_market.usd).format('0,0.00')}</h4>\r\n                  <p className=\"dashboard-footer\">USD</p></div>\r\n              </div>\r\n              </div>\r\n\r\n\r\n              <div className=\"col-lg-4 pb-4 d-flex align-items-stretch\" >\r\n              <div className=\"dashboard-card\">\r\n              <div className=\"dashboard-caption\" style={{ backgroundImage: \"url(/images/uniswaps.jpg)\"}}>\r\n              <a href={'https://uniswap.exchange/swap'} target ='blank' className=\"mt-10\">\r\n              <p className=\"dashboard-uniswap\"><i className=\"fas fa-sync\"></i> BUY PHNX WITH UNISWAP</p></a>\r\n              </div>\r\n              </div>\r\n              </div>\r\n\r\n            </div>\r\n            <hr/>\r\n\r\n            </div>\r\n          </div>\r\n            }\r\n\r\n\r\n\r\n\r\n\t\treturn(\r\n      <React.Fragment>\r\n      <Carousel className=\"retract-page-inner-wrapper\">\r\n          <Carousel.Item className=\"slide1\">\r\n            <img className=\"d-block w-100\" src=\"/images/topics/music.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Check out a Concert</h3>\r\n              <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/music/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide2\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/charity-and-causes.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Support a Local Charity</h3>\r\n              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/charity-and-causes/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide3\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/parties.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Attend an Exclusive Party</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/parties/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide4\">\r\n          <img className=\"d-block w-100\" src=\"/images/topics/sports-and-fitness.jpg\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Play a New Sport</h3>\r\n              <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/topic/sports-and-fitness/1\")}}><i className=\"fas fa-ticket-alt\"></i> Find Events</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n          <Carousel.Item className=\"slide5\">\r\n          <img className=\"d-block w-100\" src=\"/images/slides/slide5.png\" alt=\"First slide\" />\r\n            <Carousel.Caption>\r\n              <h3>Create and Sell Tickets</h3>\r\n              <p>Create your own event, it takes only a minute.</p>\r\n              <button className=\"btn btn-dark\" onClick={() => {this.caruselClick(\"/createevent\")}}><i className=\"fas fa-ticket-alt\"></i> Create Event</button>\r\n            </Carousel.Caption>\r\n          </Carousel.Item>\r\n        </Carousel>\r\n        {body}\r\n\r\n\r\n    </React.Fragment>\r\n\t\t);\r\n  }\r\n  componentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.getPhoenixDAOMarketValue();\r\n\r\n\t}\r\n}\r\n\r\nDashboard.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\taccounts: state.accounts\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(Dashboard, mapStateToProps);\r\nexport default AppContainer;\r\n","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nfunction Notify(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target=\"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Transaction sent!</a> <span role=\"img\" aria-labelledby=\"rocket\"> {props.tx}</span>\r\n\t\t\t<p> Preparing your ticket...</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Notify;\r\n","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nfunction NotifyApprove(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target=\"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Transaction sent!</a> <span role=\"img\" aria-labelledby=\"rocket\"> {props.tx}</span>\r\n\t\t\t<p className=\"mt-2\"> Once Your approval is confirmed, you will be able to buy a ticket.</p>\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyApprove;","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotifySuccess(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Ticket purchase successful!</a> \r\n            <Link to={\"/mytickets/1\" }><p> Check out your TICKET here</p></Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifySuccess;","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotifyEventSuccess(props) {\r\n\tlet rawTitle = props.createdEvent.name;\r\n      var titleRemovedSpaces = rawTitle;\r\n\t  titleRemovedSpaces = titleRemovedSpaces.replace(/ /g, '-');\r\n\r\n      var pagetitle = titleRemovedSpaces.toLowerCase()\r\n      .split(' ')\r\n      .map((s) => s.charAt(0).toUpperCase() + s.substring(1))\r\n      .join(' ');\r\n\r\n\t  let titleURL = \"/event/\"+pagetitle+\"/\" + props.createdEvent.eventId;\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Transaction success!</a>\r\n            <Link to={titleURL}><p> Check out your EVENT here</p></Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyEventSuccess;","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nfunction NotifyApproveSuccess(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Transaction successful!</a>\r\n            <p> You can buy a ticket now.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyApproveSuccess;","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\n\r\nfunction NotifyFaucet(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target=\"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">Request for 10,000 PHNX</a> <span role=\"img\" aria-labelledby=\"rocket\"> {props.tx}</span>\r\n            <p className=\"mt-1\">Your token request has been sent</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyFaucet;\r\n","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotifySuccessFaucet(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">\r\n\t\t\t\t<img src={makeBlockie(props.hash)} alt={props.hash} />\r\n\t\t\t</a>\r\n\t\t\t<a href={\"https://rinkeby.etherscan.io/tx/\" + props.hash} title={props.hash} target = \"blank\">10,000 PHNX recieved!</a> \r\n            <Link to={\"/token/\" }><p> Check your balance here.</p></Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifySuccessFaucet;\r\n","import React from 'react';\r\nimport makeBlockie from 'ethereum-blockies-base64';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NotifyError(props) {\r\n\treturn (\r\n\t\t<div className=\"notify\">\t\t\t\r\n            <p className=\"emoji2\"><span role=\"img\" aria-label=\"sweat\"></span></p>\r\n\t\t\t<p>Transaction failed, Please try again.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyError;","import React from 'react';\r\n\r\n\r\n\r\nfunction NotifyNetwork(props) {\r\n    \r\n\treturn (\r\n\t\t<div className=\"notify\">\t\t\t\r\n            <p className=\"emoji2\"><span role=\"img\" aria-label=\"sweat\"></span></p>\r\n\t\t\t<p>Wrong Network, Please Connect to Rinkeby Network.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NotifyNetwork;","import React from 'react';\r\n\r\nfunction NetworkError() {\r\n\treturn (\r\n\t\t<div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">Network Error!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"sweat\"></span></p>\r\n\t\t\t<p>This browser has no connection to the Ethereum network.</p>\r\n\t\t\t<p>Be sure that your browser supports connection to the Ethereum network and you selected <b>Rinkeby Network</b>.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NetworkError;\r\n","import React from 'react';\r\n\r\nfunction LoadingApp() {\r\n\treturn (\r\n\t\t<div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">We are loading our app!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"hourglass\"></span></p>\r\n\t\t\t<p>Please be sure that your browser connected to the Ethereum and you selected <b>Rinkeby Network</b>.</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default LoadingApp;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport Web3 from 'web3';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'startbootstrap-simple-sidebar/css/simple-sidebar.css';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport '../styles/main.css';\r\n\r\nimport Sidebar from './Sidebar';\r\nimport Event from './Event';\r\nimport Home from './Home';\r\nimport FindEvents from './FindEvents';\r\nimport PastEvents from './PastEvents';\r\nimport MyTickets from './MyTickets';\r\nimport CreateEvent from './CreateEvent/';\r\nimport MyEvents from './MyEvents';\r\nimport MyEventStat from './MyEventStat';\r\nimport EventPage from './EventPage';\r\nimport TopicLandingPage from './TopicLandingPage';\r\nimport TopicsLandingPage from './TopicsLandingPage';\r\nimport LocationLandingPage from './LocationLandingPage';\r\nimport LocationsLandingPage from './LocationsLandingPage';\r\nimport Calendars from './Calendars';\r\nimport Token from './Token';\r\nimport Dashboard from './Dashboard';\r\n\r\nimport Notify from './Notify';\r\nimport NotifyApprove from './NotifyApprove';\r\nimport NotifySuccess from './NotifySuccess';\r\nimport NotifyEventSuccess from './NotifyEventSuccess';\r\nimport NotifyApproveSuccess from './NotifyApproveSuccess';\r\nimport NotifyFaucet from './NotifyFaucet';\r\nimport NotifySuccessFaucet from './NotifySuccessFaucet';\r\nimport NotifyError from './NotifyError';\r\nimport NotifyNetwork from './NotifyNetwork';\r\n\r\n\r\nimport NetworkError from './NetworkError';\r\nimport LoadingApp from './LoadingApp';\r\n\r\nlet ethereum= window.ethereum;\r\nlet web3=window.web3;\r\n\r\nclass App extends Component\r\n{\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsent_tx: [],\r\n\t\t\tshowSidebar: true,\r\n\t\t\taccount:[],\r\n\r\n\r\n\t\t\tid:'',\r\n\t\t\tfee:'',\r\n\t\t\ttoken:'',\r\n\t\t\topenEvents_Address:'',\r\n\t\t\tbuyticket:'',\r\n\t\t\tapprove:'',\r\n\r\n\t\t\tcreateEvent:'',\r\n\t\t\tupload:false,\r\n\t\t\tdone:false,\r\n\t\t\terror:false,\r\n\t\t\tafterApprove:false,\r\n\r\n\t\t\tgetPhoenixDAO:'',\r\n\t\t};\r\n\t\tthis.loadBlockchainData = this.loadBlockchainData.bind(this);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.loadBlockchainData();\r\n\r\n\r\n\t}\r\n\r\n\tcomponentWillUpdate() {\r\n\t\tlet sent_tx = this.state.sent_tx;\r\n\r\n\t\tfor (let i = 0; i < this.props.transactionStack.length; i++) {\r\n\t\t\tif (sent_tx.indexOf(this.props.transactionStack[i]) === -1) {\r\n\t\t\t\tsent_tx.push(this.props.transactionStack[i]);\r\n\r\n\t\t\t\ttoast(<Notify hash={this.props.transactionStack[i]} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: false,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (sent_tx.length !== this.state.sent_tx.length) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tsent_tx: sent_tx\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n//Get Account\r\nasync loadBlockchainData() {\r\n\r\n\tif(typeof ethereum !=='undefined'){\r\n\t// console.log(\"metamask\")\r\n\t await ethereum.enable();\r\n\t web3 = new Web3(ethereum);\r\n\r\n \t}\r\n\r\n \telse if (typeof web3 !== 'undefined'){\r\n\tconsole.log('Web3 Detected!')\r\n \twindow.web3 = new Web3(web3.currentProvider);\r\n\t }\r\n\r\n \telse{console.log('No Web3 Detected')\r\n \twindow.web3 = new Web3(new Web3.providers.HttpProvider('https://rinkeby.infura.io/v3/72e114745bbf4822b987489c119f858b'));\r\n\r\n\t}\r\n\r\n\twindow.ethereum.on('accountsChanged', function (accounts) {\r\n \twindow.location.reload();\r\n\t})\r\n\r\n\twindow.ethereum.on('networkChanged', function (netId) {\r\n \twindow.location.reload();\r\n\t})\r\n\r\n\tconst accounts = await web3.eth.getAccounts()\r\n    this.setState({account: accounts[0]});\r\n\r\n\t}\r\n\r\n\t//get value from buyer/from child components\r\n\tinquireBuy = (id,fee,token,openEvents_address,buyticket,approve)=>{\r\n\t\tif(this.state.account.length !== 0 && this.props.web3.networkId == 4){\r\n\t\tthis.setState({\r\n\t\t\tfee:fee,\r\n\t\t\ttoken:token,\r\n\t\t\tbuyticket:buyticket,\r\n\t\t\tapprove:approve\r\n\t\t},()=>this.buy())\r\n\t }\r\n\t \telse {\r\n\t\ttoast(<NotifyNetwork/>, {\r\n\t\t\tposition: \"bottom-right\",\r\n\t\t\tautoClose: true,\r\n\t\t\tpauseOnHover: true\r\n\t\t})\r\n\t }\r\n\t}\r\n\r\n\t//TransferFrom when buying with PhoenixDAO\r\n\t//After Approval\r\n\tafterApprove = () => setTimeout(()=>{\r\n\t\tlet txreceiptApproved='';\r\n\t\tlet txconfirmedApproved = '';\r\n\t\tlet txerror = '';\r\n\t\t//if(this.state.afterApprove)\r\n\t\tthis.state.buyticket.send({from:this.state.account})\r\n\t\t.on('transactionHash',(hash)=>{\r\n\t\t\tif(hash !==null){\r\n\t\t\t\ttoast(<Notify hash={hash} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('confirmation',(confirmationNumber, receipt)=>{\r\n\t\t\tif(confirmationNumber !== null){\r\n\t\t\t txreceiptApproved = receipt\r\n\t\t\t txconfirmedApproved = confirmationNumber\r\n\t\t\tif (txconfirmedApproved == 0 && txreceiptApproved.status == true){\r\n\t\t\t\ttoast(<NotifySuccess hash={txreceiptApproved.transactionHash} />, {\r\n\t\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t   \t})\r\n\t   .on('error',(error)=>{\r\n\t\tif(error !== null){\r\n\t\t\ttxerror = error\r\n\t\t   \t\ttoast(<NotifyError message={txerror.message} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t   \t}\r\n\t\t\t\t})\r\n\t\t\tthis.setState({afterApprove:false})\r\n\t\t},2000)\r\n\r\n\t//Buy Function, Notify listen for transaction status.\r\n\tbuy = () =>{\r\n\r\n\t\tlet txreceipt='';\r\n\t\tlet txconfirmed = '';\r\n\t\tlet txerror = '';\r\n\r\n\t\tif(this.state.token){\r\n\t\tthis.state.approve.send({from:this.state.account})\r\n\r\n\t\t.on('transactionHash',(hash)=>{\r\n\t\t\tif(hash !==null){\r\n\t\t\t\ttoast(<NotifyApprove hash={hash} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('confirmation',(confirmationNumber, receipt)=>{\r\n\t\t\tif(confirmationNumber !== null){\r\n\t\t\t txreceipt = receipt\r\n\t\t\t txconfirmed = confirmationNumber\r\n\t\t\tif (txconfirmed == 0 && txreceipt.status == true){\r\n\r\n\t\t\t\ttoast(<NotifyApproveSuccess hash={txreceipt.transactionHash} />,\r\n\t\t\t\t\t{\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.afterApprove()\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t   \t})\r\n\t   .on('error',(error)=>{\r\n\t\tif(error !== null){\r\n\t\t\ttxerror = error\r\n\t\t   \t\ttoast(<NotifyError message={txerror.message} />,\r\n\t\t\t\t{\r\n\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\tautoClose: true,\r\n\t\t\t\tpauseOnHover: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.afterApprove()\r\n\t\t\t   }\r\n\t  \t  \t})\r\n\r\n\t}\r\n\t\telse{\r\n\t\tthis.state.buyticket.send({value:this.state.fee, from:this.state.account})\r\n\r\n\t\t.on('transactionHash',(hash)=>{\r\n\t\t\tif(hash !==null){\r\n\t\t\t\ttoast(<Notify hash={hash} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('confirmation',(confirmationNumber, receipt)=>{\r\n\t\t\tif(confirmationNumber !== null){\r\n\t\t\ttxreceipt = receipt\r\n\t\t\ttxconfirmed = confirmationNumber\r\n\t\t\tif (txconfirmed == 0 && txreceipt.status == true){\r\n\t\t\t\ttoast(<NotifySuccess hash={txreceipt.transactionHash} />,\r\n\t\t\t\t\t{\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t   \t})\r\n\t   \t.on('error',(error)=>{\r\n\t\t \tif(error !== null){\r\n\t\t\ttxerror = error\r\n\t\t   \t\ttoast(<NotifyError message={txerror.message} />,\r\n\t\t\t\t{\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t   \t}\r\n\t  \t  \t})\r\n\t    }\r\n\t}\r\n\r\n\t//Get Value form Event Creator from child component\r\n\t//Notify,listen for transaction status.\r\n\tpasstransaction=(transaction)=>{\r\n\t\tlet txreceipt='';\r\n\t\tlet txconfirmed = '';\r\n\t\tlet txerror = '';\r\n\r\n\t\tthis.setState({upload:true,createEvent:transaction},()=>\r\n\t\tthis.state.createEvent.send({from:this.state.account})\r\n\r\n\t\t.on('transactionHash',(hash)=>{\r\n\t\t\tif(hash !==null){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tupload:false,\r\n\t\t\t\t\tdone:true\r\n\t\t\t\t});\r\n\t\t\t\ttoast(<Notify hash={hash} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('confirmation',(confirmationNumber, receipt)=>{\r\n\t\t\tif(confirmationNumber !== null){\r\n\t\t\t txreceipt = receipt\r\n\t\t\t txconfirmed = confirmationNumber\r\n\t\t\t if (txconfirmed == 0 && txreceipt.status == true ){\r\n\t\t\t\ttoast(<NotifyEventSuccess hash={txreceipt.transactionHash}\r\n\t\t\t\t\tcreatedEvent = {txreceipt.events.CreatedEvent.returnValues} />,\r\n\t\t\t\t\t{\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('error',(error)=>{\r\n\t\t\tif(error !== null){\r\n\t\t\t   txerror = error\r\n\t\t\t   this.setState({error:true})\r\n\t\t\t\ttoast(<NotifyError message={txerror.message} />,\r\n\t\t\t\t   {\r\n\t\t\t\t   position: \"bottom-right\",\r\n\t\t\t\t   autoClose: true,\r\n\t\t\t\t   pauseOnHover: true\r\n\t\t\t\t   })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t}\r\n\r\n\r\n\tgetPhoenixDAO=(getPhoenixDAO)=>{\r\n\t\tlet txreceipt='';\r\n\t\tlet txconfirmed = '';\r\n\t\tlet txerror = '';\r\n\r\n\t\tthis.setState({getPhoenixDAO:getPhoenixDAO},()=>\r\n\t\tthis.state.getPhoenixDAO.send({from:this.state.account})\r\n\r\n\t\t.on('transactionHash',(hash)=>{\r\n\t\t\tif(hash !==null){\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tupload:false,\r\n\t\t\t\t\tdone:true\r\n\t\t\t\t});\r\n\t\t\t\ttoast(<NotifyFaucet hash={hash} />, {\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('confirmation',(confirmationNumber, receipt)=>{\r\n\t\t\tif(confirmationNumber !== null){\r\n\r\n\t\t\t txreceipt = receipt\r\n\t\t\t txconfirmed = confirmationNumber\r\n\r\n\t\t\t if (txconfirmed == 0 && txreceipt.status == true ){\r\n\t\t\t\ttoast(<NotifySuccessFaucet hash={txreceipt.transactionHash}/>,\r\n\t\t\t\t\t{\r\n\t\t\t\t\tposition: \"bottom-right\",\r\n\t\t\t\t\tautoClose: true,\r\n\t\t\t\t\tpauseOnHover: true\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('error',(error)=>{\r\n\t\t\tif(error !== null){\r\n\t\t\t   txerror = error\r\n\t\t\t   this.setState({error:true})\r\n\t\t\t\ttoast(<NotifyError message={txerror.message} />,\r\n\t\t\t\t   {\r\n\t\t\t\t   position: \"bottom-right\",\r\n\t\t\t\t   autoClose: true,\r\n\t\t\t\t   pauseOnHover: true\r\n\t\t\t\t   })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t)\r\n\r\n\t}\r\n\r\n\tcreateNewEvent= () =>{\r\n\t\tthis.setState({error:false,\r\n\t\t\tdone:false,\r\n\t\t\tupload:false},()=>console.log())\r\n\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet body;\r\n\t\tlet connecting = false;\r\n\r\n\t\tvar items = ['slide1.png', 'slide2.png', 'slide3.png', 'slide4.png'];\r\n    \tvar randomBG = items[Math.floor(Math.random()*items.length)];\r\n\r\n\t\t// console.log(randomBG);\r\n\r\n\t\tif (!this.props.drizzleStatus.initialized) {\r\n\r\n\t\t\tbody =\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t\t<Route component={LoadingApp} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t\tconnecting = true;\r\n\t\t} else if (this.props.web3.status === 'failed') {\r\n\r\n\t\t\tbody =\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\r\n\t\t\t\t\t\t<Route component={NetworkError} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t\tconnecting = true;\r\n\t\t} else if(\r\n\t\t\t\t(this.props.web3.status === 'initialized' && Object.keys(this.props.accounts).length === 0) ||\r\n\t\t\t\t(process.env.NODE_ENV === 'production' && this.props.web3.networkId !== 4)\r\n\t\t\t\t)\r\n\t\t\t{\r\n\t\t\t  console.log(\"web3\",process.env.NODE_ENV)\r\n\r\n\t\t\t  body =\r\n\t\t\t  \t\t<div>\r\n\t\t\t  \t\t<Route exact path=\"/\" render={props => <FindEvents  {...props} inquire = {this.inquireBuy}/>} />\r\n\t\t\t\t\t<Route path=\"/findevents/:page\"  render={props => <FindEvents  {...props} inquire = {this.inquireBuy}/>}  />\r\n\t\t\t\t\t<Route path=\"/pastevents/:page\" component={PastEvents} />\r\n\r\n\t\t\t\t\t<Route path=\"/createevent\" render={props=><CreateEvent  {...props}\r\n\t\t\t\t\tpasstransaction = {this.passtransaction}\r\n\t\t\t\t\tupload={this.state.upload}\r\n\t\t\t\t\tdone = {this.state.done}\r\n\t\t\t\t\terror = {this.state.error}\r\n\t\t\t\t\taccount ={this.state.account}/>}/>\r\n\r\n\t\t\t\t\t<Route path=\"/event/:page/:id\"  render={props => <EventPage {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/topics\" component={TopicsLandingPage} />\r\n\t\t\t\t\t<Route path=\"/topic/:page/:id\" render={props => <TopicLandingPage {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/locations\" component={LocationsLandingPage} />\r\n\t\t\t\t\t<Route path=\"/location/:page\" component={LocationLandingPage} />\r\n\t\t\t\t\t<Route path=\"/Calendar\" component={Calendars} />\r\n\t\t\t\t\t<Route path=\"/how-it-works\" component={Home} />\r\n\t\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\telse {\r\n\t\t\tbody =\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Route exact path=\"/\" render={props => <FindEvents  {...props} inquire = {this.inquireBuy}/>} />\r\n\t\t\t\t\t<Route path=\"/findevents/:page\"  render={props => <FindEvents  {...props} inquire = {this.inquireBuy}/>}  />\r\n\t\t\t\t\t<Route path=\"/pastevents/:page\" component={PastEvents} />\r\n\t\t\t\t\t<Route path=\"/mytickets/:page\" component={MyTickets} />\r\n\r\n\t\t\t\t\t<Route path=\"/createevent\" render={props=><CreateEvent  {...props}\r\n\t\t\t\t\tpasstransaction = {this.passtransaction}\r\n\t\t\t\t\tcreateNewEvent  = {this.createNewEvent}\r\n\t\t\t\t\tupload={this.state.upload}\r\n\t\t\t\t\tdone = {this.state.done}\r\n\t\t\t\t\terror = {this.state.error}\r\n\t\t\t\t\taccount ={this.state.account}/>}/>\r\n\r\n\t\t\t\t\t<Route path=\"/myevents/:page\"  render={props => <MyEvents {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/event-stat/:page/:id\"  render={props => <MyEventStat {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/event/:page/:id\"  render={props => <EventPage {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/token\" render={props => <Token {...props} getPhoenixDAO = {this.getPhoenixDAO}/>}/>\r\n\t\t\t\t\t<Route path=\"/topics\" component={TopicsLandingPage} />\r\n\t\t\t\t\t<Route path=\"/topic/:page/:id\" render={props => <TopicLandingPage {...props} inquire = {this.inquireBuy}/>}/>\r\n\t\t\t\t\t<Route path=\"/locations\" component={LocationsLandingPage} />\r\n\t\t\t\t\t<Route path=\"/location/:page\" component={LocationLandingPage} />\r\n\t\t\t\t\t<Route path=\"/calendar\" component={Calendars} />\r\n\t\t\t\t\t<Route path=\"/dashboard\" component={Dashboard} account ={this.state.account} />\r\n\t\t\t\t\t<Route path=\"/how-it-works\" component={Home} />\r\n\t\t\t\t</div>\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<Router>\r\n\r\n\t\t\t\t<div id=\"wrapper\" className=\"toggled\">\r\n\r\n\t\t\t\t\t<Sidebar connection={!connecting} account={this.state.account} connect = {this.loadBlockchainData}/>\r\n\t\t\t\t\t<div id=\"page-content-wrapper\" className=\"sidebar-open\">\r\n\t\t\t\t\t\t<div id=\"bgImage\" ref=\"bgImage\" style={{\r\n  \t\t\t\t\t\tbackgroundImage: \"url(/images/slides/\"+ randomBG + \")\",\r\n\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t<div className=\"branding\">\r\n\t\t\t\t\t\t<img src=\"/images/PhoenixDAO.png\" className=\"branding-logo\" alt=\"PhoenixDAO logo\" />\r\n\t\t\t\t\t\t<h1>PhoenixDAO Events Marketplace</h1>\r\n\t\t\t\t\t\t<p>What are you going to do?</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t\t\t<div className=\"page-wrapper-inner\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{body}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ToastContainer />\r\n\r\n\t\t\t\t</div>\r\n\t\t\t</Router>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tdrizzleStatus: state.drizzleStatus,\r\n\t\tweb3: state.web3,\r\n\t\taccounts: state.accounts,\r\n\t\ttransactionStack: state.transactionStack,\r\n\t\ttransactions: state.transactions\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(App, mapStateToProps);\r\nexport default AppContainer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { DrizzleProvider } from \"drizzle-react\";\r\nimport App from './components/App';\r\nimport Web3 from \"web3\";\r\n\r\nimport OpenEvents from './config/OpenEvents.json';\r\nimport StableToken from './config/StableToken.json';\r\n\r\n\r\nconst options = {\r\n\tweb3:{\r\n\t\tcustomProvider: new Web3(('wss://rinkeby.infura.io/ws/v3/72e114745bbf4822b987489c119f858b'))\r\n\t},\r\n\r\n\tcontracts: [OpenEvents, StableToken],\r\n\r\n\tevents: {\r\n\t\tOpenEvents: ['CreatedEvent','SoldTicket']\r\n\t},\r\n\tpolls:{\r\n\t\tblocks:2500\r\n\t},\r\n\r\n\ttransactions:{\r\n\t\ttxHash:{\r\n\r\n\t\t}\r\n\t}\r\n};\r\n\r\n//debugger;\r\n//const rootElement = document.getElementById(\"root\")\r\n//ReactDOM.render(<App/>,rootElement);\r\nReactDOM.render(\r\n    <DrizzleProvider options={options}>\r\n\t\t<App />\r\n\t</DrizzleProvider>,\r\n    document.getElementById(\"root\")\r\n);\r\n","import React, { Component } from 'react';\r\nimport { drizzleConnect } from 'drizzle-react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ipfs from '../../utils/ipfs';\r\n\r\nimport Form from './Form';\r\nimport Loader from './Loader';\r\nimport Error from './Error';\r\nimport Done from './Done';\r\n//import { Redirect } from 'react-router-dom';\r\n\r\nclass CreateEvent extends Component {\r\n\tconstructor(props, context) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tdone: false,\r\n\t\t\tupload: false,\r\n\t\t\tstage: 0,\r\n\t\t\ttitle: null,\r\n\t\t\terror: false,\r\n\t\t\terror_text: 'IPFS Error',\r\n\t\t\tipfs: null,\r\n\t\t\tfileImg: null,\r\n\t\t\tdata: {\r\n\t\t\t\tname: null,\r\n\t\t\t\tdescription: null,\r\n\t\t\t\ttime: 0,\r\n\t\t\t\tcurrency: null,\r\n\t\t\t\tprice: 0,\r\n\t\t\t\torganizer: null,\r\n\t\t\t\tlimited: false,\r\n\t\t\t\tseats: 0,\r\n\t\t\t\ttype:null,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.contracts = context.drizzle.contracts;\r\n\t}\r\n\r\n\t\r\n\tcreateEvent = (name, description, location, time, file, organizer, type, topic, currency, price, limited, seats) => {\r\n\r\n\t\tthis.setState({\r\n\t\t\tupload: true,\r\n\t\t\tredirect:false,\r\n\t\t\tstage: 25,\r\n\t\t\ttitle: 'Uploading event image...',\r\n\t\t\tdata: {\r\n\t\t\t\tname: name,\r\n\t\t\t\tdescription: description,\r\n\t\t\t\ttime: time,\r\n\t\t\t\tcurrency: currency,\r\n\t\t\t\tprice: this.context.drizzle.web3.utils.toWei(price),\r\n\t\t\t\torganizer: organizer,\r\n\t\t\t\tlimited: limited,\r\n\t\t\t\tseats: seats === '' ? 0 : parseInt(seats, 10),\r\n\t\t\t\ttype: type,\r\n\t\t\t\tlocation:location\r\n\t\t\t}\r\n\t\t}, () => {\r\n\t\t\tthis.stageUpdater(90);\r\n\t\t\tthis.readFile(file);\r\n\t\t});\r\n\t}\r\n\r\n\treadFile = (file) => {\r\n\t\tlet reader = new window.FileReader();\r\n\t\tconsole.log(file);\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onloadend = () => this.convertAndUpload(reader);\r\n\t}\r\n\r\n    convertAndUpload = (reader) => {\r\n\t\tlet pinit = process.env.NODE_ENV === 'production';\r\n\r\n\t\tlet data = JSON.stringify({\r\n\t\t\timage: reader.result,\r\n\t\t\ttext: this.state.data.description,\r\n\t\t\tlocation:this.state.data.location\r\n\t\t});\r\n\r\n\t\tlet buffer = Buffer.from(data);\r\n\r\n\t\tipfs.add(buffer, {pin: pinit}).then((hash) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstage: 95,\r\n\t\t\t\ttitle: 'Creating transaction...',\r\n\t\t\t\tipfs: hash[0].hash\r\n\t\t\t});\r\n\t\t\t//this.uploadTransaction();\r\n\t\t\tthis.props.passtransaction(this.contracts['OpenEvents'].methods.createEvent(\r\n\t\t\t\tthis.state.data.name,\r\n\t\t\t\tthis.state.data.time,\r\n\t\t\t\tthis.state.data.price,\r\n\t\t\t\tthis.state.data.currency === 'eth' ? false : true,\r\n\t\t\t\tthis.state.data.limited,\r\n\t\t\t\tthis.state.data.seats,\r\n\t\t\t\tthis.state.ipfs,\r\n\t\t\t\tthis.state.data.type\r\n\t\t\t))\r\n\t\t}).catch((error) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\terror: true,\r\n\t\t\t\terror_text: 'IPFS Error'\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tuploadTransaction = () => {\r\n\t\tlet id = this.contracts['OpenEvents'].methods.createEvent.cacheSend(\r\n\t\t\tthis.state.data.name,\r\n\t\t\tthis.state.data.time,\r\n\t\t\tthis.state.data.price,\r\n\t\t\tthis.state.data.currency === 'eth' ? false : true,\r\n\t\t\tthis.state.data.limited,\r\n\t\t\tthis.state.data.seats,\r\n\t\t\tthis.state.ipfs,\r\n\t\t\tthis.state.data.type\r\n\t\t);\r\n\r\n\t\tthis.transactionChecker(id)\r\n\t\t//this.setRedirect();\r\n\t}\r\n\r\n\t/*setRedirect=()=>{\r\n\t\tthis.setState({\r\n\t\t\tredirect: true\r\n\t\t  })\r\n\t\tif(this.state.redirect){\r\n\t\t\treturn <Redirect to='/'/>\r\n\t\t}\r\n\t}*/\r\n\r\n\tcreateNewEvent= () =>{\r\n\t\tthis.setState({error:false,\r\n\t\t\t\t\tdone:false,\r\n\t\t\t\t\tupload:false},()=>console.log())\r\n\t}\r\n\r\n\r\n\ttransactionChecker = (id) => {\r\n\t\tlet tx_checker = setInterval(() => {\r\n\t\t\tlet tx = this.props.transactionStack[id];\r\n\t\t\tconsole.log(tx)\r\n\t\t\tconsole.log(tx_checker)\r\n\t\t\tif (typeof tx !== 'undefined') {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tupload: false,\r\n\t\t\t\t\tdone: true\r\n\t\t\t\t});\r\n\t\t\t\tclearInterval(tx_checker);\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\r\n\tstageUpdater = (max) => {\r\n\t\tlet updater = setInterval(() => {\r\n\t\t\tif (this.state.stage < max) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tstage: this.state.stage + 1\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tclearInterval(updater);\r\n\t\t\t}\r\n\t\t}, 500);\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tlet disabled = true;\r\n\t\tif(this.props.account.length !== 0){\r\n\t\t\tdisabled = false;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif (this.props.done) {\r\n\t\t\treturn <Done createNewEvent = {this.createNewEvent} createNewEvent2 = {this.props.createNewEvent}/>\r\n\t\t\t;\r\n\t\t}\r\n\r\n\t\tlet body =\r\n\t\t\tthis.state.upload || this.props.upload ?\r\n\t\t\t\t<Loader progress={this.state.stage} text={this.state.title} /> :\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<Form createEvent={this.createEvent} account={this.props.account}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</React.Fragment>\r\n\t\t;\r\n\r\n\t\tif (this.state.error || this.props.error) {\r\n\t\t\tbody= <Error message={this.state.error_text} createNewEvent = {this.createNewEvent} createNewEvent2 = {this.props.createNewEvent}/>;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"home-wrapper\">\r\n\t\t\t\t\r\n\t\t\t\t<h2><i className=\"fa fa-edit\"></i> Create Event</h2>\r\n\t\t\t\t{disabled && <div className = \"alert-connection col-lg-6 mb-6\">\r\n\t\t\t\t<div className=\"connection-box\">\r\n                    <p className=\"mt-1 mb-1\">\r\n                    <span> You are on VIEW ONLY mode. You won't be able to submit because you are not connected to a network.</span>\r\n                    </p>\r\n                </div>\t\r\n\t\t\t\t</div>}\r\n\r\n\t\t\t\t<hr />\r\n\t\t\t\t{body}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nCreateEvent.contextTypes = {\r\n    drizzle: PropTypes.object\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n\t\tcontracts: state.contracts,\r\n\t\ttransactionStack: state.transactionStack\r\n    };\r\n};\r\n\r\nconst AppContainer = drizzleConnect(CreateEvent, mapStateToProps);\r\nexport default AppContainer;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Datetime from 'react-datetime';\r\nimport 'react-datetime/css/react-datetime.css';\r\n\r\n// import { Link } from 'react-router-dom';\r\n// import ReactTooltip from 'react-tooltip'\r\nimport eventTypes from '../../config/types.json';\r\nimport eventTopics from '../../config/topics.json';\r\n\r\nlet numeral = require('numeral');\r\n\r\nclass Form extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.form = {};\r\n\r\n\t\tthis.state = {\r\n\t\t\ttitle: '',\r\n\t\t\ttitle_length: 0,\r\n\t\t\tdescription_length: 0,\r\n\t\t\torganizer: '',\r\n\t\t\torganizer_length: 0,\r\n\t\t\tprice:'',\r\n\t\t\tlocation: '',\r\n\t\t\ttime: 0,\r\n\t\t\ttimeForHumans: null,\r\n\t\t\tcurrency: 'phnx',\r\n\t\t\ttype: 'auto-boat-and-air',\r\n\t\t\ttopic: 'appearance-or-signing',\r\n\t\t\tlimited: false,\r\n\t\t\tseatsForHumans: 0,\r\n\t\t\twrong_file: false,\r\n\t\t\tfile_name: null,\r\n\t\t\tfile: null,\r\n\t\t\tblockie: \"/images/PhoenixDAO.png\",\r\n\t\t\tfileImg: \"/images/event-placeholder.png\",\r\n\t\t\tform_validation: [],\r\n\r\n\t\t\tPhoenixDAO_market:'',\r\n\t\t\tdateDisplay:new Date(parseInt('1577952000', 10) * 1000)\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tgetPhoenixDAOMarketValue = () => {\r\n\r\n\t\tfetch('https://api.coingecko.com/api/v3/simple/price?ids=phoenixdao&vs_currencies=usd&include_market_cap=true&include_24hr_change=ture&include_last_updated_at=ture')\r\n\t\t\t  .then(res => res.json())\r\n\t\t\t  .then((data) => {\r\n\t\t\t\tthis.setState({PhoenixDAO_market: data.phoenixdao})})\r\n\t\t\t  .catch(console.log)\r\n\t  }\r\n\r\n\thandleDate = (date) => {\r\n\t\tif (typeof date === 'object' && date.isValid()) {\r\n\t\t\tthis.setState({\r\n\t\t\t\ttimeForHumans: date.time,\r\n\t\t\t\ttime: date.unix(),\r\n\t\t\t},()=>this.setState({dateDisplay: new Date(parseInt(this.state.time, 10) * 1000)}));\r\n\t\t\tconsole.log(date)\r\n\t\t}\r\n\t}\r\n\r\n\thandleCurrency = (event) => {\r\n\t\tthis.setState({\r\n\t\t\tcurrency: event.target.value,\r\n\t\t\tprice: '0'\r\n\t\t},()=>console.log('currency',this.state.currency, this.state.price));\r\n\r\n\t}\r\n\r\n\thandleLimited = () => {\r\n\t\tthis.setState({\r\n\t\t\tlimited: !this.state.limited\r\n\t\t});\r\n\t}\r\n\r\n\thandleFile = (event) => {\r\n\t\tlet file = event.target.files[0];\r\n\r\n\t\tif (\r\n\t\t\tfile.size > 1024 * 1024 ||\r\n\t\t\t(file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n\t\t) {\r\n\t\t\tthis.setState({\r\n\t\t\t\twrong_file: true,\r\n\t\t\t\tfile: null\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\twrong_file: false,\r\n\t\t\t\tfile_name: file.name,\r\n\t\t\t\tfile: file,\r\n\t\t\t\tfileImg: URL.createObjectURL(event.target.files[0])\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\ttitleChange = (event) => {\r\n\t\tlet title = event.target.value;\r\n\t\tif (title.length > 80) {\r\n\t\t\ttitle = title.slice(0, 80);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\ttitle: title,\r\n\t\t\ttitle_length: title.length\r\n\t\t});\r\n\t}\r\n\r\n\tdescriptionChange = (event) => {\r\n\t\tlet description = event.target.value;\r\n\t\tif (description.length > 500) {\r\n\t\t\tdescription = description.slice(0, 500);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tdescription: description,\r\n\t\t\tdescription_length: description.length\r\n\t\t});\r\n\t}\r\n\r\n\torganizerChange = (event) => {\r\n\t\tlet organizer = event.target.value;\r\n\t\tif (organizer.length > 100) {\r\n\t\t\torganizer = organizer.slice(0, 100);\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\torganizer: organizer,\r\n\t\t\torganizer_length: organizer.length\r\n\t\t});\r\n\t}\r\n\r\n\tlocationChange = (event) => {\r\n\t\tlet location = event.target.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\tlocation: location\r\n\t\t});\r\n\t}\r\n\r\n\ttypeChange = (event) => {\r\n\t\tlet topic = event.target.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\ttopic: topic\r\n\t\t},()=>(console.log()));\r\n\t}\r\n\r\n\tcategoryChange = (event) => {\r\n\t\tlet type = event.target.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\ttype: type\r\n\t\t},()=>(console.log()));\r\n\t}\r\n\r\n\tpriceChange = (event) => {\r\n\t\tif(this.state.currency === 'phnx'){\r\n\t\tlet price = this.form.price.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\tprice: price\r\n\t\t},()=>console.log('price', this.state.price));}\r\n\t\telse{\r\n\t\tlet price = '0';\r\n\t\tthis.setState({\r\n\t\t\tprice: price\r\n\t\t},()=>console.log('price', this.state.price))\r\n\t\t}\r\n\t}\r\n\r\n\tticketsChange = (event) => {\r\n\t\tlet seats = this.form.seats.value;\r\n\r\n\t\tthis.setState({\r\n\t\t\tseats: seats\r\n\t\t});\r\n\t}\r\n\r\n\thandleForm = (event) => {\r\n\t\tevent.preventDefault();\r\n\r\n\t\tlet form_validation = [];\r\n\t\tif (this.state.title === '') form_validation.push('name');\r\n\t\tif (this.state.location === '') form_validation.push('location');\r\n\t\tif (this.state.organizer === '') form_validation.push('organizer');\r\n\t\tif (this.form.description.value === '') form_validation.push('description');\r\n\t\tif (this.state.wrong_file === true || this.state.file === null) form_validation.push('image');\r\n\t\tif (this.state.time === 0) form_validation.push('time');\r\n\t\tif (this.state.price === '') form_validation.push('price');\r\n\t\tif (this.state.limited === true && this.form.seats.value < 1) form_validation.push('seats');\r\n\t\tif (this.state.type === '') form_validation.push('type');\r\n\r\n\t\tthis.setState({\r\n\t\t\tform_validation: form_validation\r\n\t\t});\r\n\r\n\t\tif (form_validation.length === 0) {\r\n\t\t\tthis.props.createEvent(\r\n\t\t\t\tthis.state.title,\r\n\t\t\t\tthis.form.description.value,\r\n\t\t\t\tthis.state.location,\r\n\t\t\t\tthis.state.time,\r\n\t\t\t\tthis.state.file,\r\n\t\t\t\tthis.state.organizer,\r\n\t\t\t\tthis.state.type,\r\n\t\t\t\tthis.state.topic,\r\n\t\t\t\tthis.state.currency,\r\n\t\t\t\tthis.state.price,\r\n\t\t\t\tthis.state.limited,\r\n\t\t\t\tthis.form.seats.value\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet symbol = 'PhoenixDAO.png';\r\n\t\tlet currency = this.state.currency === 'eth' ? 'ETH' : 'PHNX';\r\n\t\tlet\tfreeEvent = '';\r\n\t\t\tif( this.state.currency === 'eth'){\r\n\t\t\tfreeEvent = <p className=\"free_event\">Free Event</p>\r\n\t\t\t}\r\n\r\n\t\tlet file_label = !this.state.wrong_file && this.state.file_name !== '' ? this.state.file_name : 'Select file';\r\n\r\n\t\tlet warning = {\r\n\t\t\tname: this.state.form_validation.indexOf('name') === -1 ? '' : 'is-invalid',\r\n\t\t\tlocation: this.state.form_validation.indexOf('location') === -1 ? '' : 'is-invalid',\r\n\t\t\torganizer: this.state.form_validation.indexOf('organizer') === -1 ? '' : 'is-invalid',\r\n\t\t\ttype: this.state.form_validation.indexOf('type') === -1 ? '' : 'is-invalid',\r\n\t\t\ttopic: this.state.form_validation.indexOf('topic') === -1 ? '' : 'is-invalid',\r\n\t\t\tdescription: this.state.form_validation.indexOf('description') === -1 ? '' : 'is-invalid',\r\n\t\t\timage: this.state.form_validation.indexOf('image') === -1 && !this.state.wrong_file ? '' : 'is-invalid',\r\n\t\t\ttime: this.state.form_validation.indexOf('time') === -1 ? '' : 'is-invalid',\r\n\t\t\tprice: this.state.form_validation.indexOf('price') === -1 ? '' : 'is-invalid',\r\n\t\t\tseats: this.state.form_validation.indexOf('seats') === -1 ? '' : 'is-invalid',\r\n\t\t};\r\n\r\n\t\tlet alert;\r\n\r\n\t\tif (this.state.form_validation.length > 0) {\r\n\t\t\talert = <div className=\"alert alert-dark mt-2\" role=\"alert\">Required fields are missed.</div>\r\n\t\t}\r\n\t\tlet seatsForHumans = '';\r\n\t\tlet organizerForHumans = '';\r\n\r\n\t\tif (this.state.limited === true) {\r\n\t\t\tif (this.state.seats === undefined) {\r\n\t\t\t\tseatsForHumans = \"0/\";\r\n\t\t\t} else {\r\n\t\t\t\tseatsForHumans = \"0/\"+ this.state.seats;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tseatsForHumans = \"0/\";\r\n\t\t}\r\n\r\n\t\tif (this.state.organizer === '') {\r\n\t\t\torganizerForHumans = \"\";\r\n\t\t} else {\r\n\t\t\torganizerForHumans = \"Organizer: \" + this.state.organizer;\r\n\r\n\t\t}\r\n\t\tlet date = new Date(parseInt(this.state.date, 10) * 1000);\r\n\r\n\t\tlet disabled = false;\r\n\t\tif(this.props.account.length == 0){\r\n\t\t\tdisabled = true;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t<div className=\"col col-xl-8 col-lg-8 col-md-12 col-sm-12\">\r\n\t\t\t<form>\r\n\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"name\">Event Name:</label>\r\n\t\t\t\t\t<input type=\"text\" className={\"form-control \" + warning.name} id=\"name\" title=\"Event Name\" value={this.state.title} onChange={this.titleChange} autoComplete=\"off\" />\r\n\t\t\t\t\t<small className=\"form-text text-muted\">{this.state.title_length}/80 characters available.</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"description\">Event Description:</label>\r\n\t\t\t\t\t<textarea className={\"form-control \" + warning.description} id=\"description\" title=\"Event Description\" rows=\"5\" ref={(input) => this.form.description = input} onChange={this.descriptionChange} autoComplete=\"off\"></textarea>\r\n\t\t\t\t\t<small className=\"form-text text-muted\">{this.state.description_length}/500 characters available.</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"location\">Event Location:</label>\r\n\t\t\t\t\t<input type=\"text\" className={\"form-control \" + warning.location} id=\"location\" title=\"Event Location\" onChange={this.locationChange} autoComplete=\"off\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"description\">Event Date and Time:</label>\r\n\t\t\t\t\t<Datetime closeOnSelect={true} onChange={this.handleDate} inputProps={{className : \"form-control \" + warning.time, title: \"Event Date and Time\"}} autoComplete=\"off\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<p>Event Cover Image:</p>\r\n\t\t\t\t\t<div className=\"custom-file\">\r\n\t\t\t\t\t\t<input type=\"file\" className={\"custom-file-input \" + warning.image} id=\"customFile\" title=\"Event Cover Image\" onChange={this.handleFile} autoComplete=\"off\" />\r\n\t\t\t\t\t\t<label className=\"custom-file-label\" htmlFor=\"customFile\">{file_label}</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<small className=\"form-text text-muted\">Image format: jpg, png. Max file size 1mb.</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"organizer\">Organizer Name:</label>\r\n\t\t\t\t\t<input type=\"text\" className={\"form-control \" + warning.organizer} id=\"organizer\" title=\"Organizer Name\" value={this.state.organizer} onChange={this.organizerChange} autoComplete=\"off\" />\r\n\t\t\t\t\t<small className=\"form-text text-muted\">{this.state.organizer_length}/100 characters available.</small>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"description\">Event Type:</label>\r\n\t\t\t\t\t<select className=\"form-control\" id=\"type\" title=\"Event Type\" onChange={this.typeChange}>\r\n\t\t\t\t\t<option value=\"\" disabled=\"disabled\">Select the type of the event</option>\r\n\t\t\t\t\t{eventTypes.map((Type, index) => (\r\n\t\t\t\t\t\t<option value={Type.slug} key={Type.name}>{Type.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<label htmlFor=\"description\">Event Topic:</label>\r\n\t\t\t\t\t<select className=\"form-control\" id=\"topic\" title=\"Event Topic\" onChange={this.categoryChange}>\r\n\t\t\t\t\t<option value=\"\" disabled=\"disabled\">Select the topic of the event</option>\r\n\t\t\t\t\t{eventTopics.map((Topic, index) => (\r\n\t\t\t\t\t\t<option value={Topic.slug} key={Topic.name}>{Topic.name}</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<hr />\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<p>Event Options:</p>\r\n\t\t\t\t\t<div className=\"custom-control custom-radio custom-control-inline\">\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"payment2\" name=\"payment\" className=\"custom-control-input\" defaultChecked=\"true\" value=\"phnx\" title=\"PHNX\" onChange={this.handleCurrency} autoComplete=\"off\" />\r\n\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor=\"payment2\">Paid Event</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"custom-control custom-radio custom-control-inline\">\r\n\t\t\t\t\t\t<input type=\"radio\" id=\"payment1\" name=\"payment\" className=\"custom-control-input\" value=\"eth\" title=\"Ethereum\" onChange={this.handleCurrency} autoComplete=\"off\" />\r\n\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor=\"payment1\">Free Event</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group row\">\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<label htmlFor=\"price\">Ticket Price:</label>\r\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><img src={'/images/'+symbol} className=\"event_price-image\" alt=\"\" /></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.state.currency === 'phnx' &&<input type=\"number\" min=\"0.00000001\" className={\"form-control \" + warning.price} id=\"price\" title={\"Price in PHNX\"} ref={(input) => this.form.price = input} autoComplete=\"off\" onChange={this.priceChange} />}\r\n\t\t\t\t\t\t\t{this.state.currency === 'eth' &&<input type=\"number\" min=\"0.00000001\" className={\"form-control \" + warning.price} id=\"price\" title={\"Price in ETH\"} value = {this.state.price} autoComplete=\"off\" onChange={this.priceChange} />}\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.currency === 'phnx' &&<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><img src={'/images/dollarsign.png'} className=\"event_price-image\" alt=\"\" /></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t <div className={\"form-control \" + warning.price} title=\"Price in USD\">{numeral(this.state.price * this.state.PhoenixDAO_market.usd).format('0,0.00')} </div>\r\n\t\t\t\t\t\t</div>}\r\n\r\n\t\t\t\t\t\t{this.state.currency === 'eth' &&<div className=\"input-group mb-3\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><img src={'/images/dollarsign.png'} className=\"event_price-image\" alt=\"\" /></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t <div className={\"form-control \" + warning.price} title=\"Price in USD\">0.00 </div>\r\n\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t<p>Ticket Options:</p>\r\n\t\t\t\t\t<div className=\"custom-control custom-checkbox\">\r\n\t\t\t\t\t\t<input type=\"checkbox\" className=\"custom-control-input\" id=\"limited\" title=\"Limited tickets\" value=\"true\" onChange={this.handleLimited} autoComplete=\"off\" />\r\n\t\t\t\t\t\t<label className=\"custom-control-label\" htmlFor=\"limited\">Limited tickets</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"seats\">Tickets available:</label>\r\n\t\t\t\t\t\t\t<input type=\"number\" className={\"form-control \" + warning.seats} id=\"seats\" title=\"Tickets available\" disabled={!this.state.limited}  ref={(input) => this.form.seats = input} autoComplete=\"off\" onChange ={this.ticketsChange} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{alert}\r\n\t\t\t\t<br />\r\n\t\t\t\t<button type=\"submit\" className=\"btn btn-outline-dark\" title=\"Make Your Event Live\" onClick={this.handleForm} disabled={disabled}>Make Your Event Live</button>\r\n\t\t\t</form>\r\n\t\t\t</div>\r\n\r\n<div className=\"col col-xl-4 col-lg-4 col-md-12 col-sm-12 create-event\">\r\n<label>Event Preview:</label>\r\n<div className=\"card\">\r\n<div className=\"image_wrapper\">\r\n\t<Link to={\"/event/\"}>\r\n\t\t<img className=\"card-img-top event-image\" src={this.state.fileImg} alt=\"Placeholder Event\" />\r\n\t</Link>\r\n\t{freeEvent}\r\n\t</div>\r\n\t<div className=\"card-header text-muted event-header\">\r\n\t\t<img className=\"float-left\" src={this.state.blockie} alt=\"\" />\r\n\t\t<p className=\"small text-truncate mb-0\">{organizerForHumans}</p>\r\n\t</div>\r\n\t<div className=\"card-body\">\r\n\t\t<h5 className=\"card-title event-title\">\r\n\t\t{this.state.title}\r\n\t\t</h5>\r\n\t\t{this.state.description}\r\n\t</div>\r\n\t<ul className=\"list-group list-group-flush\">\r\n\r\n\t\t{this.state.currency == 'phnx' &&<li className=\"list-group-item\"><strong>Price:</strong> <img src={'/images/'+symbol} className=\"event_price-image\" alt=\"\" /> {numeral(this.state.price).format('0,0.00')} or <img src={'/images/dollarsign.png'} className=\"event_price-image\"  alt=\"Event Price\" />\r\n\t\t{numeral(this.state.price * this.state.PhoenixDAO_market.usd).format('0,0.00')}</li>}\r\n\t\t{this.state.currency == 'eth' &&<li className=\"list-group-item\"><strong>Price:</strong> <img src={'/images/'+symbol} className=\"event_price-image\" alt=\"\" /> {this.state.price}</li>}\r\n\t\t<li className=\"list-group-item\"><strong>Date: {this.state.dateDisplay.toLocaleDateString()} at {this.state.dateDisplay.toLocaleTimeString()}</strong>  </li>\r\n\t\t<li className=\"list-group-item\"><strong>Location:</strong> {this.state.location} </li>\r\n\t\t<li className=\"list-group-item\"><strong>Tickets Sold:</strong> {seatsForHumans}</li>\r\n\r\n\t</ul>\r\n\t<div className=\"card-footer text-muted text-center\">\r\n\t\t<button className=\"btn btn-dark\" disabled=\"\"><i className=\"fas fa-ticket-alt\"></i> Buy Now</button>\r\n\t</div>\r\n</div>\r\n</div>\r\n</div>\r\n</React.Fragment>\r\n\t\t);\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tthis.getPhoenixDAOMarketValue()\r\n\t}\r\n}\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nfunction Loader(props) {\r\n\treturn (\r\n\t\t<div className=\"mt-5\">\r\n\t\t\t<p className=\"text-center\">One moment, we will upload your data.</p>\r\n\t\t\t<div className=\"progress\" style={{height: 25 + 'px'}}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"progress-bar progress-bar-striped progress-bar-animated\"\r\n\t\t\t\t\trole=\"progressbar\"\r\n\t\t\t\t\taria-valuenow={props.progress}\r\n\t\t\t\t\taria-valuemin=\"0\"\r\n\t\t\t\t\taria-valuemax=\"100\"\r\n\t\t\t\t\tstyle={{width: props.progress + '%'}}\r\n\t\t\t\t>{props.text}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Loader;\r\n","\r\nimport React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nclass Error extends Component {\r\n\r\ncreateNewEvent=()=>{\r\n\tthis.props.createNewEvent()\r\n\tthis.props.createNewEvent2()\r\n}\r\nrender(){\r\n\treturn (\r\n\t\t<div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">Ooops, we have an error!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"swearing\"></span></p>\r\n\t\t\t<p>Something went wrong! <Link to=\"/createevent\" onClick={this.createNewEvent}>Please try Again.</Link></p>\r\n\t\t\t<code>{this.props.message}</code>\r\n\t\t</div>\r\n\t);\r\n}\r\n}\r\nexport default Error;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Done extends Component {\r\n\r\ncreateNewEvent=()=>{\r\n\tthis.props.createNewEvent()\r\n\tthis.props.createNewEvent2()\r\n}\r\n\r\nrender(){\r\n\treturn (\r\n\t\t<div className=\"mt-5 text-center\">\r\n\t\t\t<h3 className=\"mt-5\">Done, your event has been uploaded!</h3>\r\n\t\t\t<p className=\"emoji\"><span role=\"img\" aria-label=\"sunglasses\"></span></p>\r\n\t\t\t<p>We will notify you as soon as the transaction has been confirmed. It will be available for users shortly.</p>\r\n\t\t\t<Link to=\"/createevent\" onClick={this.createNewEvent}>Create another event.</Link>\r\n\r\n\t\t\r\n\t\t</div>\r\n\t);\r\n}\r\n}\r\nexport default Done;\r\n","import IPFS from 'ipfs-api';\r\n\r\n// Uses the Infura IPFS API: https://docs.ipfs.io/reference/http/api/\r\n\r\nconst ipfs = new IPFS({\r\n\thost: 'ipfs.infura.io',\r\n\tport: 5001,\r\n\tprotocol: 'https'\r\n});\r\n\r\nexport default ipfs;\r\n"],"sourceRoot":""}